(this["webpackJsonpreact-website-smooth-scroll-yt"]=this["webpackJsonpreact-website-smooth-scroll-yt"]||[]).push([[1],{437:function(e,t,n){},443:function(e,t,n){},447:function(e,t,n){},516:function(e,t,n){},644:function(e,t,n){},646:function(e,t,n){},647:function(e,t,n){},655:function(e,t,n){},663:function(e,t,n){"use strict";n.r(t);var r,a,i=n(2),c=n.n(i),s=n(42),o=n.n(s),l=n(11),u=n(7),d=n.n(u),j=n(12),b=n(3),h=(n(516),n(30)),p=n(59),f=n(14),x=n.p+"static/media/video.5f562593.mp4",O=n(16),m=n(19),v=m.a.div(r||(r=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  opacity: 0.5;\n  z-index: -1;\n\n  @media screen and (max-width: 1080px) {\n    height: 100%;\n  }\n\n  @media screen and (max-width: 960px) {\n    height: 100%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height: 100%;\n  }\n"]))),g=m.a.video(a||(a=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n  object-fit: cover;\n  background: #232a34;\n  opacity: 0.5;\n  z-index: -1;\n"]))),A=n(798),y=n(760),w=n(756),S=n(780),k=n(761),N=n(757),C=n(158),I=n.n(C),z=n(476),L=n(753),B=n(755),D=n(785),E=n(254),H=(n(518),n(666),n(665),E.a.initializeApp({apiKey:"AIzaSyAJ3dkpFhfBo5BJwjycdDZ9kpGyf4DzgcA",authDomain:"tracetory-4340e.firebaseapp.com",projectId:"tracetory-4340e",storageBucket:"tracetory-4340e.appspot.com",messagingSenderId:"628717194814",appId:"1:628717194814:web:016c6a3be539b88dc44b6f",measurementId:"G-09YT4YQKFK"}).auth()),P=E.a.storage(),q=(E.a.firestore(),n(1)),T=c.a.createContext();function U(){return Object(i.useContext)(T)}function R(e){var t=e.children,n=Object(i.useState)(),r=Object(b.a)(n,2),a=r[0],c=r[1],s=Object(i.useState)(!0),o=Object(b.a)(s,2),l=o[0],u=o[1];function h(){return(h=Object(j.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.createUserWithEmailAndPassword(t,n);case 2:return r=e.sent,a=r.user.uid,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(i.useEffect)((function(){return H.onAuthStateChanged((function(e){c(e),u(!1)}))}),[]);var p={currentUser:a,login:function(e,t){return H.signInWithEmailAndPassword(e,t).then((function(e){}))},signup:function(e,t){return h.apply(this,arguments)},logout:function(){return H.signOut()},resetPassword:function(e){return H.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(q.jsx)(T.Provider,{value:p,children:!l&&t})}var W=n(56),F=n(63),Q=n(33);function G(e){var t,n,r=Object(L.a)((function(t){return{paper:{marginTop:t.spacing(0),minHeight:(null===e||void 0===e?void 0:e.inSignInPage)?"86vh":"0",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:t.spacing(1),backgroundColor:"#3B2A1A"},form:{width:"100%",marginTop:t.spacing(3)},Container:{zIndex:99,opacity:(null===e||void 0===e?void 0:e.inSignInPage)?.99999:null,background:(null===e||void 0===e?void 0:e.inSignInPage)?null:"white"},submit:{margin:t.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}})),a=Q.b().shape({email:Q.d().required("\u05de\u05d9\u05d9\u05dc \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4").email("\u05de\u05d9\u05d9 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df"),password:Q.d().required("\u05e1\u05d9\u05e1\u05de\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")}),c={resolver:Object(F.a)(a)},s=Object(W.d)(c),o=s.register,u=s.handleSubmit,h=s.formState.errors,f=U(),O=f.login,m=(f.getUserDate,Object(i.useState)("")),C=Object(b.a)(m,2),E=C[0],H=C[1],P=Object(i.useState)(!1),T=Object(b.a)(P,2),R=T[0],G=T[1],M=Object(p.f)(),K=r(),X=function(){var t=Object(j.a)(d.a.mark((function t(n,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,H(""),G(!0),t.next=6,O(n.email,n.password).then((function(){new Promise((function(e){return setTimeout(e,800)})).then((function(){G(!1),(null===e||void 0===e?void 0:e.inSignInPage)?M.goBack():M.push("/")}))}));case 6:t.next=15;break;case 8:return t.prev=8,t.t0=t.catch(1),console.log("error",t.t0.message),H("\u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d9\u05e0\u05d5 \u05e7\u05d9\u05d9\u05dd \u05d0\u05d5 \u05e9\u05d4\u05e1\u05d9\u05e1\u05de\u05d4 \u05d0\u05d9\u05e0\u05d4 \u05e0\u05db\u05d5\u05e0\u05d4"),M.push((null===e||void 0===e?void 0:e.inSignInPage)?"/signin":"/"),G(!1),t.abrupt("return");case 15:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}();function J(e){return!!e}return console.log("refresh-signin"),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:K.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[(null===e||void 0===e?void 0:e.inSignInPage)&&Object(q.jsx)(v,{children:Object(q.jsx)(g,{autoPlay:!0,loop:!0,muted:!0,src:x,type:"video/mp4"})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:K.paper,children:[Object(q.jsx)(A.a,{className:K.avatar,children:Object(q.jsx)(I.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",align:"center",children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"}),Object(q.jsx)("div",{className:K.unaffected,children:Object(q.jsxs)("form",{className:K.form,onSubmit:u(X),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[E&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:E})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"email",variant:"outlined",fullWidth:!0,type:"email",label:"\u05de\u05d9\u05d9\u05dc"},o("email")),{},{error:J(h.email),className:"".concat(h.email?"is-invalid":""),helperText:null===(t=h.email)||void 0===t?void 0:t.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"password",variant:"outlined",fullWidth:!0,type:"password",label:"\u05e1\u05d9\u05e1\u05de\u05d4"},o("password")),{},{error:J(h.password),className:"".concat(h.password?"is-invalid":""),helperText:null===(n=h.password)||void 0===n?void 0:n.message}))})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:K.submit,disabled:R,children:"\u05d4\u05ea\u05d7\u05d1\u05e8"}),Object(q.jsx)(N.a,{container:!0,justifyContent:"flex-start",children:Object(q.jsxs)(N.a,{item:!0,children:[Object(q.jsx)(k.a,{href:"/signup",variant:"body2",children:"\u05d0\u05d9\u05df \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? \u05d4\u05d9\u05e8\u05e9\u05dd \u05db\u05d0\u05df"}),Object(q.jsx)("br",{}),Object(q.jsx)(k.a,{href:"/ForgotPassword",variant:"body2",children:"\u05d0\u05dd \u05e9\u05db\u05d7\u05ea \u05e1\u05d9\u05e1\u05de\u05d4? \u05d0\u05e4\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4 \u05db\u05d0\u05df"})]})})]})})]})]})})}var M,K,X,J,Y,V,Z,_,$,ee,te=n(229),ne=m.a.div(M||(M=Object(O.a)(['\n  background: #0c0c0c;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 30px;\n  height: calc(100vh - 20px);\n  //height: 600px;\n  position: relative;\n  z-index: 14;\n\n  :before {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    rigth: 0;\n    bottom: 0;\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.6) 100%), linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, transparent 100%);\n    z-index: 2;\n  }\n']))),re=m.a.div(K||(K=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]))),ae=m.a.video(X||(X=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n  filter: brightness(70%);\n  object-fit: cover;\n  background: #232a34;\n"]))),ie=m.a.div(J||(J=Object(O.a)(["\n  z-index: 3;\n  max-width: 1200px;\n  position: absolute;\n  padding: 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),ce=m.a.h1(Y||(Y=Object(O.a)(["\ncolor: #fff;\nfont-size: 50px;\n//font-weight: bold;\ntext-align:center;\n\n@media screen and (max-width: 768px){\n    font-size 40px;\n}\n\n@media screen and (max-width: 480px){\n    font-size 32px;\n}\n"]))),se=m.a.p(V||(V=Object(O.a)(["\nmargin-top: 20px;\ncolor:#fff;\n//border-radius: 30px ;\n//background-color: #1a0d00;\nfont-size: 23px;\n//opacity: 0.6;\n //padding: 8px 24px;\ntext-align: center;\nmax-width: 600px;\n\n@media screen and (max-width: 768px){\n    font-size 24px;\n}\n\n@media screen and (max-width: 480px){\n    font-size 18px;\n}\n"]))),oe=m.a.a(Z||(Z=Object(O.a)(["\n  color: #fff;\n"]))),le=m.a.div(_||(_=Object(O.a)(["\n  margin-top: 32px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),ue=(Object(m.a)(te.a)($||($=Object(O.a)(["\n  margin-left: 8px;\n  font-size: 20px;\n"]))),Object(m.a)(te.b)(ee||(ee=Object(O.a)(["\n  margin-left: 8px;\n  font-size: 20px;\n"]))),function(e){var t,n,r,a=Object(i.useState)(!1),c=Object(b.a)(a,2),s=(c[0],c[1],Object(q.jsx)(oe,{href:"/almaInfo",children:"\u05e2\u05dc\u05de\u05d0"}));return Object(q.jsxs)(ne,{id:"home",children:[Object(q.jsx)(re,{children:Object(q.jsx)(ae,{autoPlay:!0,loop:!0,muted:!0,src:x,type:"video/mp4"})}),Object(q.jsxs)(ie,{children:[Object(q.jsx)(ce,{children:" TraStory \u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd \u05dc\u05d0\u05ea\u05e8 \u05d4\u05d8\u05d9\u05d5\u05dc\u05d9\u05dd "}),Object(q.jsxs)(se,{children:[" \u05d1\u05e9\u05d9\u05ea\u05d5\u05e3 \u05e2\u05dd \u05e4\u05e8\u05d5\u05d9\u05d9\u05e7\u05d8 ",s," \u05d1\u05e8\u05d0\u05e9\u05d5\u05ea \u05e4\u05e8\u05d5\u05e4\u05f3 \u05d0\u05d9\u05d9\u05dc \u05d1\u05df \u05d0\u05dc\u05d9\u05d4\u05d5, \u05d4\u05e4\u05e7\u05d5\u05dc\u05d8\u05d4 \u05dc\u05de\u05d3\u05e2\u05d9 \u05d4\u05e8\u05d5\u05d7 "]}),Object(q.jsx)(le,{children:!("admin"===(null===(t=e.user)||void 0===t?void 0:t.type)||"registered"===(null===(n=e.user)||void 0===n?void 0:n.type)||"creator"===(null===(r=e.user)||void 0===r?void 0:r.type))&&Object(q.jsx)("div",{style:{},children:Object(q.jsx)(G,{})})})]})]})}),de=(n(623),n(473));function je(){var e=Object(p.g)().pathName;return Object(i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var be=n(479),he=n(275),pe=n(762),fe=n(28),xe=n(37),Oe=n.n(xe),me=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),ve=Object(de.a)({direction:"rtl"});var ge=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],Object(p.f)(),U()),a=(r.currentUser,r.userDB,r.getUserData,r.logout,r.login,e.user);return Object(q.jsx)("div",{id:"HomePageStyle",children:Object(q.jsx)(he.b,{jss:me,children:Object(q.jsxs)(pe.a,{theme:ve,children:[Object(q.jsx)(je,{}),e.toDisplay&&Object(q.jsx)(ue,{user:a,toDisplay:e.toDisplay})]})})})},Ae=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),ye=Object(de.a)({direction:"rtl"});var we,Se,ke,Ne=function(){var e=Object(i.useState)(!1),t=Object(b.a)(e,2);return t[0],t[1],Object(q.jsx)("div",{id:"signInPageStyle",children:Object(q.jsx)(he.b,{jss:Ae,children:Object(q.jsxs)(pe.a,{theme:ye,children:[Object(q.jsx)(je,{}),Object(q.jsx)(G,{inSignInPage:!0})]})})})},Ce=m.a.div(we||(we=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:130%;\noverflow: hidden;\nopacity: 0.5;\nz-index: -1;\n\n\n\n@media screen and (max-width: 1080px) {\n    height:130%;\n  }\n\n@media screen and (max-width: 960px){\n    height:130%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:130%;\n  }\n"]))),Ie=m.a.video(Se||(Se=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight: 100%;\n-o-object-fit: cover;\nobject-fit: cover;\nbackground: #232a34;\nopacity: 0.5;\nz-index: -1;\n"]))),ze=n(765),Le=n(786),Be=n(813),De=n(764),Ee=n(302),He=n.n(Ee),Pe=n(759),qe=n(191),Te=n.n(qe),Ue=n(303),Re=n.n(Ue);n.e(0).then(n.t.bind(null,820,7));var We=Object(L.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},input:{fontSize:15},large:{width:"150px",height:"150px",border:"4px solid #4E3620"}}})),Fe=He()((function(e){return{root:{width:22,height:22,padding:15,border:"2px solid #4E3620"}}}))(Pe.a),Qe=function(e){var t="";null!==e.startUrl&&(t=e.startUrl);var n=c.a.useState(t),r=Object(b.a)(n,2),a=r[0],s=r[1],o=(Re()(),We()),l=Object(i.useRef)(),u=e.handleChangeImage,d=e.avatarImage;Object(i.useEffect)((function(){return!a&&d&&s(URL.createObjectURL(d)),function(){a&&URL.revokeObjectURL(a)}}),[a,d]);return Object(q.jsx)(Be.a,{"data-testid":"image-upload",children:Object(q.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px 10px",color:"#B05E27"},children:Object(q.jsxs)("div",{className:o.root,children:[Object(q.jsx)(De.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:Object(q.jsx)(Fe,{onClick:function(){l.current.click()},style:{background:"#FFE268",color:"#4E3620"},children:Object(q.jsx)(Te.a,{})}),children:Object(q.jsx)(A.a,{alt:"avatar",src:a,className:o.large})}),Object(q.jsx)("input",{ref:l,type:"file",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&(ke="",ke=e.target.files[0],function(e){e.image().then((function(t){var n=document.createElement("canvas"),r=n.getContext("2d"),i=Math.min(150/t.width,150/t.height),c=t.width*i+.5|0,o=t.height*i+.5|0;n.width=c,n.height=o,r.drawImage(t,0,0,c,o),n.toBlob((function(t){var n=new File([t],a.name,e);s(URL.createObjectURL(n)),u(n)}))}))}(t))}})]})})})};var Ge="text",Me=12,Ke=function(e){return e.inputType&&(Ge=e.inputType),e.size&&(Me=e.size),Object(q.jsx)(N.a,{item:!0,xs:Me,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({type:Ge,name:e.name,variant:"outlined",fullWidth:!0,label:e.label},e.register(e.name)),{},{className:"".concat(e.textError?"is-invalid":""),error:(t=e.textError,!!t),helperText:e.helperText}))});var t},Xe=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(29),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:"#3B2A1A"},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function Je(e){var t,n,r,a,c,s,o=Q.b().shape({firstName:Q.d().required("\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),lastName:Q.d().required("\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),email:Q.d().required("\u05de\u05d9\u05d9\u05dc \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4").email("\u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df"),password:Q.d().matches(/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/,"\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc 6 \u05ea\u05d5\u05d5\u05d9\u05dd, \u05d0\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4, \u05d0\u05d5\u05ea \u05e7\u05d8\u05e0\u05d4 \u05d5\u05de\u05e1\u05e4\u05e8").required("\u05e1\u05d9\u05e1\u05de\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),confirmPassword:Q.d().oneOf([Q.c("password"),null],"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4 \u05d0\u05d9\u05e0\u05d5 \u05ea\u05d5\u05d0\u05dd").required("\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")}),u=e.isSignOrEdistor,h=e.userProfile,f={resolver:Object(F.a)(o),defaultValues:{firstName:(null===h||void 0===h?void 0:h.firstName)?h.firstName:"",lastName:(null===h||void 0===h?void 0:h.lastName)?h.lastName:"",email:(null===h||void 0===h?void 0:h.email)?h.email:"",password:(null===h||void 0===h?void 0:h.password)?h.password:"",confirmPassword:(null===h||void 0===h?void 0:h.confirmPassword)?h.confirmPassword:"",ProfieImgURL:(null===h||void 0===h?void 0:h.ProfieImgURL)?h.ProfieImgURL:""}},O=null;(null===h||void 0===h?void 0:h.ProfieImgURL)&&(O=h.ProfieImgURL);var m=Object(W.d)(f),v=m.register,g=m.handleSubmit,C=m.formState.errors;m.control;function L(e,t){return H.apply(this,arguments)}function H(){return(H=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(r=P.ref("images/".concat(n,"/profilePic/").concat(t.name)).put(t)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case E.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case E.a.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log(e)}),(function(){r.snapshot.ref.getDownloadURL().then((function(e){try{E.a.firestore().collection("users").doc(n).update({ProfieImgURL:e}).then((function(){console.log("updated"),$.push("/"),_(!1)}))}catch(t){ae(t),$.push("/signup"),_(!1)}}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!de||0!==pe.length){e.next=5;break}return ae("\u05d0\u05dd \u05d1\u05d7\u05e8\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05d9\u05d5\u05e6\u05e8 \u05ea\u05d5\u05db\u05df, \u05d9\u05e9 \u05e6\u05d5\u05e8\u05da \u05d1\u05dc\u05e4\u05e8\u05d8 \u05d0\u05ea \u05d4\u05de\u05d5\u05de\u05d7\u05d9\u05d5\u05ea \u05e9\u05dc\u05da"),_(!1),e.abrupt("return");case 5:ae(""),_(!0),r=ke,"sign"===u?R(t.email,t.password,t.firstName,t.lastName,"").then((function(e){null!==e&&(r?L(r,e).then((function(){})):(_(!1),$.push("/")))})):M(t.email,t.password,t.firstName,t.lastName,"").then((function(e){var t=e;r!==h.ProfieImgURL?L(r,t).then((function(){})):(_(!1),$.push("/"))}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function R(e,t,n,r,a){return G.apply(this,arguments)}function G(){return(G=Object(j.a)(d.a.mark((function e(t,n,r,a,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t,n).then((function(e){var n=e;return E.a.firestore().collection("users").doc(e).set({email:t,firstName:r,lastName:a,ProfieImgURL:i,infoProfileValue:pe,isApproved:!1,isAskedToBeCreator:de,type:"registered"}),n})).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),ae("\u05de\u05e9\u05ea\u05de\u05e9 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea"),_(!1),$.push("/signup"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function M(e,t,n,r,a,i){return K.apply(this,arguments)}function K(){return(K=Object(j.a)(d.a.mark((function e(t,n,r,a,i,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=U(),J=X.signup,Y=(X.updatePassword,X.updateEmail,Object(i.useState)(!1)),V=Object(b.a)(Y,2),Z=V[0],_=V[1],$=Object(p.f)(),ee=Xe(),te=Object(i.useState)(""),ne=Object(b.a)(te,2),re=ne[0],ae=ne[1],ie=Object(i.useState)(),ce=Object(b.a)(ie,2),se=ce[0],oe=ce[1],le=Object(i.useState)("editor"===u&&h.isAskedToBeCreator),ue=Object(b.a)(le,2),de=ue[0],je=ue[1],be=Object(i.useState)("editor"===u?h.infoProfileValue:""),he=Object(b.a)(be,2),pe=he[0],fe=he[1],xe="editor"===u?"\u05d3\u05e3 \u05e2\u05e8\u05d9\u05db\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e9\u05dc\u05da":"\u05d3\u05e3 \u05d4\u05e8\u05e9\u05de\u05d4",Oe="editor"===u?"\u05e2\u05e8\u05d5\u05da":"\u05d4\u05d9\u05e8\u05e9\u05dd";return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:ee.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(Ce,{children:Object(q.jsx)(Ie,{autoPlay:!0,loop:!0,muted:!0,src:x,type:"video/mp4"})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:ee.paper,children:[Object(q.jsx)(A.a,{className:ee.avatar,children:Object(q.jsx)(I.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:xe}),Object(q.jsx)(Qe,{handleChangeImage:function(e){oe(e)},avatarImage:se,isEdiable:!1,startUrl:O}),Object(q.jsxs)("form",{className:ee.form,onSubmit:g(T),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[re&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:re})}),Object(q.jsx)(Ke,{inputType:"text",name:"firstName",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9*",register:v,textError:C.firstName,size:6,helperText:null===(t=C.firstName)||void 0===t?void 0:t.message}),Object(q.jsx)(Ke,{inputType:"text",name:"lastName",label:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4*",register:v,textError:C.lastName,size:6,helperText:null===(n=C.lastName)||void 0===n?void 0:n.message}),Object(q.jsx)(Ke,{inputType:"email",name:"email",label:"\u05de\u05d9\u05d9\u05dc*",register:v,textError:C.email,size:12,helperText:null===(r=C.email)||void 0===r?void 0:r.message}),Object(q.jsx)(Ke,{inputType:"password",name:"password",label:"\u05e1\u05d9\u05e1\u05de\u05d4*",register:v,textError:C.password,size:12,helperText:null!==(a=null===(c=C.password)||void 0===c?void 0:c.message)&&void 0!==a?a:"\u05e1\u05d9\u05e1\u05de\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05db\u05d9\u05dc 6 \u05ea\u05d5\u05d5\u05d9\u05dd, \u05d0\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4, \u05d0\u05d5\u05ea \u05e7\u05d8\u05e0\u05d4 \u05d5\u05de\u05e1\u05e4\u05e8"}),Object(q.jsx)(Ke,{inputType:"password",name:"confirmPassword",label:"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4*",register:v,textError:C.confirmPassword,size:12,helperText:null===(s=C.confirmPassword)||void 0===s?void 0:s.message}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(ze.a,{control:Object(q.jsx)(Le.a,{checked:de,onChange:function(e){fe(""),je(e.target.checked)},value:"isAskedToBeCreator"}),label:"\u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05d0\u05ea\u05e8? \u05e8\u05e9\u05de\u05d5 \u05dc\u05e0\u05d5 \u05d0\u05ea \u05de\u05e7\u05d5\u05e8 \u05d4\u05d9\u05d3\u05e2/\u05de\u05d5\u05de\u05d7\u05d9\u05d5\u05ea \u05e9\u05dc\u05db\u05dd, \u05d5\u05de\u05e0\u05d4\u05dc\u05d9 \u05d4\u05d0\u05ea\u05e8 \u05d9\u05d0\u05e9\u05e8\u05d5 \u05d0\u05ea\u05db\u05dd \u05d1\u05d4\u05e7\u05d3\u05dd\r "})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"infoProfile",variant:"outlined",multiline:!0,rows:5,fullWidth:!0,disabled:!de,type:"text",label:"\u05db\u05ea\u05d9\u05d1\u05ea \u05de\u05d5\u05de\u05d7\u05d9\u05d5\u05ea \u05d1\u05e7\u05e6\u05e8\u05d4"},v("infoProfile")),{},{className:"is-invalid",value:pe,onChange:function(e){fe(e.target.value)}}))})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:ee.submit,disabled:Z,children:Oe}),Object(q.jsx)(N.a,{container:!0,justifyContent:"flex-start",children:Object(q.jsx)(N.a,{item:!0,children:Object(q.jsx)(k.a,{href:"/signin",variant:"body2",children:"\u05db\u05d1\u05e8 \u05d9\u05e9 \u05dc\u05da \u05d7\u05e9\u05d1\u05d5\u05df? \u05d4\u05ea\u05d7\u05d1\u05e8 \u05db\u05d0\u05df"})})})]})]})]})})}var Ye=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),Ve=Object(de.a)({direction:"rtl"});var Ze=function(){var e=Object(i.useState)(!1),t=Object(b.a)(e,2);return t[0],t[1],Object(q.jsx)("div",{id:"signUpPageStyle",children:Object(q.jsx)(he.b,{jss:Ye,children:Object(q.jsxs)(pe.a,{theme:Ve,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Je,{isSignOrEdistor:"sign"})]})})})},_e=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(20),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function $e(e){var t,n=Q.b().shape({infoProfile:Q.d().required(" \u05d6\u05d4\u05d5 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")}),r={resolver:Object(F.a)(n)};(null===(t=e.user)||void 0===t?void 0:t.ProfieImgURL)&&e.user.ProfieImgURL;var a=Object(W.d)(r),c=a.register,s=a.handleSubmit,o=(a.formState.errors,a.control,function(){var t=Object(j.a)(d.a.mark((function t(n,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),k(""),x(!0);try{E.a.firestore().collection("users").doc(e.user.id).update({infoProfileValue:U,isApproved:!1,isAskedToBeCreator:!0,type:"registered"}).then((function(){x(!1),H("\u05d4\u05d1\u05e7\u05e9\u05d4 \u05e0\u05e9\u05dc\u05d7\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),O.push("/activity")}))}catch(r){k(" \u05e9\u05d2\u05d9\u05d0\u05d4"),x(!1),O.push("/activity")}case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),u=Object(i.useState)(!1),h=Object(b.a)(u,2),f=h[0],x=h[1],O=Object(p.f)(),m=_e(),v=Object(i.useState)(""),g=Object(b.a)(v,2),A=g[0],k=g[1],C=Object(i.useState)(""),I=Object(b.a)(C,2),L=I[0],H=I[1],P=Object(i.useState)(),T=Object(b.a)(P,2),U=T[0],R=T[1];return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:m.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(w.a,{}),Object(q.jsx)("div",{className:m.paper,children:Object(q.jsxs)("form",{className:m.form,onSubmit:s(o),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[A&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:A})}),L&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:L})}),Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsx)(z.a,{component:"h6",variant:"h6",children:"\u05de\u05e2\u05d5\u05e0\u05d9\u05d9\u05e0\u05d9\u05dd \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05d0\u05ea\u05e8? \u05e8\u05e9\u05de\u05d5 \u05dc\u05e0\u05d5 \u05d0\u05ea \u05de\u05e7\u05d5\u05e8 \u05d4\u05d9\u05d3\u05e2/\u05de\u05d5\u05de\u05d7\u05d9\u05d5\u05ea \u05e9\u05dc\u05db\u05dd, \u05d5\u05de\u05e0\u05d4\u05dc\u05d9 \u05d4\u05d0\u05ea\u05e8 \u05d9\u05d0\u05e9\u05e8\u05d5 \u05d0\u05ea\u05db\u05dd \u05d1\u05d4\u05e7\u05d3\u05dd"}),Object(q.jsx)("br",{}),Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"infoProfile",variant:"outlined",multiline:!0,rows:5,fullWidth:!0,type:"text",label:"\u05db\u05ea\u05d9\u05d1\u05ea \u05de\u05d5\u05de\u05d7\u05d9\u05d5\u05ea \u05d1\u05e7\u05e6\u05e8\u05d4"},c("infoProfile")),{},{className:"is-invalid",value:U,onChange:function(e){R(e.target.value)}}))]})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:m.submit,disabled:f,children:"\u05e9\u05dc\u05d9\u05d7\u05ea \u05d1\u05e7\u05e9\u05d4"}),Object(q.jsx)(N.a,{container:!0,justifyContent:"flex-start"})]})})]})})}var et=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),tt=Object(de.a)({direction:"rtl"});var nt,rt,at=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],e.user);return Object(q.jsx)("div",{id:"signUpPageStyle",children:Object(q.jsx)(he.b,{jss:et,children:Object(q.jsxs)(pe.a,{theme:tt,children:[Object(q.jsx)(je,{}),Object(q.jsx)($e,{user:r})]})})})},it=m.a.div(nt||(nt=Object(O.a)(["\nposition:absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:100%;\noverflow: hidden;\nopacity: 0.5;\nz-index: -1;\n\n"]))),ct=m.a.video(rt||(rt=Object(O.a)(["\nwidth: 100%;\nheight: 100%;\n-o-object-fit: cover;\nobject-fit: cover;\nbackground: #232a34;\nopacity: 0.5;\nz-index: -1;\n"]))),st=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(0),minHeight:"86vh",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#3B2A1A"},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function ot(){var e,t=Q.b().shape({email:Q.d().required("\u05de\u05d9\u05d9\u05dc \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4").email("\u05de\u05d9\u05d9 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05df")}),n={resolver:Object(F.a)(t)},r=Object(W.d)(n),a=r.register,c=r.handleSubmit,s=r.formState.errors,o=U().resetPassword,u=Object(i.useState)(""),h=Object(b.a)(u,2),f=h[0],O=h[1],m=Object(i.useState)(""),v=Object(b.a)(m,2),g=v[0],C=v[1],L=Object(i.useState)(!1),E=Object(b.a)(L,2),H=E[0],P=E[1],T=Object(p.f)(),R=st(),G=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,C(""),O(""),P(!0),e.next=7,o(t.email);case 7:C("\u05e7\u05d9\u05e9\u05d5\u05e8 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4 \u05e0\u05e9\u05dc\u05d7 \u05dc\u05da \u05d1\u05de\u05d9\u05d9\u05dc"),P(!1),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(1),console.log("error",n.message),O("\u05de\u05e9\u05ea\u05de\u05e9 \u05d0\u05d9\u05e0\u05d5 \u05e7\u05d9\u05d9\u05dd"),T.push("/ForgotPassword"),P(!1),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:R.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(it,{children:Object(q.jsx)(ct,{autoPlay:!0,loop:!0,muted:!0,src:x,type:"video/mp4"})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:R.paper,children:[Object(q.jsx)(A.a,{className:R.avatar,children:Object(q.jsx)(I.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d3\u05e3 \u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4"}),Object(q.jsxs)("form",{className:R.form,onSubmit:c(G),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[f&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:f})}),g&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:g})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"email",variant:"outlined",fullWidth:!0,type:"email",label:"\u05de\u05d9\u05d9\u05dc"},a("email")),{},{error:function(e){return!!e}(s.email),className:"".concat(s.email?"is-invalid":""),helperText:null===(e=s.email)||void 0===e?void 0:e.message}))})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:R.submit,disabled:H,children:"\u05d0\u05e4\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4"}),Object(q.jsx)(N.a,{container:!0,justifyContent:"flex-start",children:Object(q.jsx)(N.a,{item:!0,children:Object(q.jsx)(k.a,{href:"/signin",variant:"body2",children:"\u05d4\u05ea\u05d7\u05d1\u05e8 \u05db\u05d0\u05df"})})})]})]})]})})}var lt=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),ut=Object(de.a)({direction:"rtl"});var dt=function(){var e=Object(i.useState)(!1),t=Object(b.a)(e,2);return t[0],t[1],Object(q.jsx)("div",{id:"forgotPasswordPageStyle",className:"bodyStandart",children:Object(q.jsx)(he.b,{jss:lt,children:Object(q.jsxs)(pe.a,{theme:ut,children:[Object(q.jsx)(je,{}),Object(q.jsx)(ot,{})]})})})},jt=n(32),bt=n(35),ht=n(82),pt=n(49),ft=n(50),xt=n(93),Ot=n.n(xt),mt=n(92),vt=n.n(mt),gt=n(159),At=n.n(gt),yt=(n(644),n.p+"static/media/mapDef.01727204.jpg"),wt=n(794),St=function(e){Object(pt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r;return Object(jt.a)(this,n),r=t.call(this,e),console.log(e.likesnum),r.state={liked:e.liked,likesnum:e.likesnum,imgsrc:e.imgsrc,title:e.title,author:e.author,description:e.description,storylink:e.storylink,user:e.user,userObs:e.userObs,thID:e.thID},r.toggleLike=r.toggleLike.bind(Object(ht.a)(r)),r}return Object(bt.a)(n,[{key:"toggleLike",value:function(){var e=this.state,t=e.likesnum,n=(e.user,e.userObs),r=e.thID,a=e.liked;t=a?t-1:t+1,a=!a,this.setState({likesnum:t,liked:a}),n.updatesLikesTH(n.userInfo,r,t,a)}},{key:"render",value:function(){var e,t,n,r=this.state,a=(r.likesnum,r.imgsrc),i=r.title,c=r.author,s=(r.description,r.userObs),o=r.liked;return Object(q.jsxs)("div",{className:"card text-center shadow",children:[Object(q.jsx)("div",{className:"overflow",children:a?Object(q.jsx)("img",{src:a,alt:"image 1",className:"card-img-top"}):Object(q.jsx)("img",{src:yt,alt:"image 1",className:"card-img-top"})}),Object(q.jsxs)("div",{className:"card-body text-dark",children:[Object(q.jsx)("h4",{className:"card-title",children:i}),Object(q.jsxs)("p",{className:"card-text text-secondary",children:[Object(q.jsx)(At.a,{style:{color:"#e67700"}})," ",c,Object(q.jsx)("br",{}),"registered"===(null===s||void 0===s||null===(e=s.userInfo)||void 0===e?void 0:e.type)||"creator"===(null===s||void 0===s||null===(t=s.userInfo)||void 0===t?void 0:t.type)||"admin"===(null===s||void 0===s||null===(n=s.userInfo)||void 0===n?void 0:n.type)?Object(q.jsx)("button",{className:"likeBtn",onClick:this.toggleLike,children:o?Object(q.jsx)(vt.a,{style:{color:"#b71c1c"}}):Object(q.jsx)(Ot.a,{style:{color:"#b71c1c"}})}):" \u2665\ufe0f ",this.state.likesnum," ",Object(q.jsx)("br",{})]}),Object(q.jsx)(h.b,{to:{pathname:"/treasureHunt/".concat(this.state.thID),state:{fromCards:!0}},children:Object(q.jsx)(wt.a,{variant:"outlined",backgroundColor:"#ffcc00",children:"\u05e9\u05d7\u05e7 \u05e2\u05db\u05e9\u05d9\u05d5"})})]})]})}}]),n}(i.Component),kt=n(140),Nt=n(800),Ct=n(799),It=n(801),zt=n(802),Lt=n(681);function Bt(e){Object(kt.a)();var t,n,r,a=Object(i.useState)(e.liked),c=Object(b.a)(a,2),s=c[0],o=c[1],l=Object(i.useState)(e.likesnum),u=Object(b.a)(l,2),d=u[0],j=u[1],p=e.userObs,f=e.thID;return Object(q.jsxs)(Ct.a,{sx:{display:"flex",width:"100%",height:120},style:{marginBottom:"1rem"},children:[Object(q.jsx)(Nt.a,{sx:{display:"flex",flexDirection:"column",width:250},children:Object(q.jsxs)(It.a,{sx:{flex:"0 0 auto"},children:[Object(q.jsx)(Lt.a,{component:"div",fontSize:16,dir:"rtl",children:e.title}),Object(q.jsx)(Lt.a,{variant:"subtitle1",color:"text.secondary",component:"div",fontSize:13,dir:"rtl",children:e.author}),Object(q.jsx)(h.b,{to:{pathname:"/treasureHunt/".concat(f),state:{fromCards:!0}},children:Object(q.jsx)(wt.a,{variant:"outlined",backgroundColor:"#ffcc00",children:"\u05e9\u05d7\u05e7 \u05e2\u05db\u05e9\u05d9\u05d5"})}),"registered"===(null===p||void 0===p||null===(t=p.userInfo)||void 0===t?void 0:t.type)||"creator"===(null===p||void 0===p||null===(n=p.userInfo)||void 0===n?void 0:n.type)||"admin"===(null===p||void 0===p||null===(r=p.userInfo)||void 0===r?void 0:r.type)?Object(q.jsx)("button",{className:"likeBtn",onClick:function(){console.log("likes sum",d),console.log("thID ",f),console.log("userObs.userInfo ",p.userInfo),j(s?d-1:d+1),o(!s),p.updatesLikesTH(p.userInfo,f,s?d-1:d+1,!s)},children:s?Object(q.jsx)(vt.a,{style:{color:"#b71c1c"}}):Object(q.jsx)(Ot.a,{style:{color:"#b71c1c"}})}):" \u2665\ufe0f ",d]})}),Object(q.jsx)(zt.a,{component:"img",sx:{width:100},image:e.imgsrc?e.imgsrc:yt,alt:"Live from space album cover"})]})}var Dt=n.p+"static/media/viewBackground.44fba2eb.jpeg",Et=n(787),Ht=n(781),Pt=n(792),qt=n(803),Tt=n(81),Ut=(Object(Tt.a)(),Object(L.a)((function(e){return{Container:{opacity:.99999,zIndex:50,minHeight:"83.7vh",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(Dt,")"),"& .MuiSelect-select":{width:"160px",background:"white",opacity:"0.7",textAlign:"left",dir:"rtl",color:"black",fontSize:"1.15rem"},"& .MuiFormLabel-root":{color:"black",textAlign:"left",dir:"rtl",fontSize:"1.15rem"}}}})));var Rt=function(e){var t=Object(i.useState)([]),n=Object(b.a)(t,2),r=n[0],a=n[1],c=e.store.siteObs,s=Object(i.useState)(e.selectedSite?e.selectedSite:"\u05d4\u05db\u05dc"),o=Object(b.a)(s,2),l=o[0],u=o[1],d=Object(i.useState)([]),j=Object(b.a)(d,2),h=(j[0],j[1]),f=Object(i.useState)(),x=Object(b.a)(f,2),O=x[0],m=x[1],v=e.reviewStore.treasureHuntObs,g=Object(p.f)();function A(t){return"\u05d4\u05db\u05dc"===l||(e.selectedSite?e.selectedSite===t.siteName:l===t.siteName)}Object(i.useEffect)((function(){c.initSites().then((function(){var e=[];c.SitesList.map((function(t){return e.push(t.siteName)})),a(e)}))}),[]),Object(i.useEffect)((function(){m(e.userObs.userInfo),h([]),v.initTreasureHunt(!0).then((function(){h(function(e,t){var n=[],r=null===e||void 0===e?void 0:e.likedGames;if(r)return console.log(t),t&&t.filter(A).map((function(e,t){var a=0;for(var i in r)i.toString()===e.id.toString()&&(a=1,e.liked=!0,n.push(e));1!==a&&(e.liked=!1,n.push(e))})),n}(e.userObs.userInfo,v.treasureHuntList))}))}),[]);var y=Ut(),w=window.innerHeight<916?"5rem":window.innerHeight/38.5+"rem";return Object(q.jsxs)(B.a,{className:y.Container,component:"main",maxWidth:window.innerWidth<=760?"xs":"100%",dir:"rtl",children:[Object(q.jsx)(wt.a,{size:"small",variant:"outlined",onClick:g.goBack,style:{position:"absolute",left:"60px",marginTop:"30px",color:"#4d2800",borderRadius:"50px"},children:"\u05d7\u05d6\u05d5\u05e8 \u21a9\ufe0e"}),Object(q.jsx)("div",{className:"row text-right",children:Object(q.jsxs)("div",{className:"col-3",children:[Object(q.jsx)("br",{}),Object(q.jsxs)("h1",{id:"placeName",style:{color:"#4d2800",fontFamily:"lucida grande",fontSize:"50px"},children:[" ","\u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05e9\u05d7\u05e7\u05d9\u05dd "]})]})}),Object(q.jsx)("div",{className:"row text-center",children:Object(q.jsxs)("div",{className:" col",children:[Object(q.jsx)("br",{}),Object(q.jsx)(Nt.a,{children:Object(q.jsxs)(qt.a,{children:[Object(q.jsx)(Pt.a,{id:"sites_names-select-label",sx:{direction:"rtl"},children:"\u05e1\u05d9\u05e0\u05d5\u05df \u05dc\u05e4\u05d9 \u05d0\u05ea\u05e8"}),Object(q.jsxs)(Ht.a,{labelId:"sites_names-select-label",id:"sites_names-select-select",value:l,variant:"outlined",onChange:function(e){u(e.target.value)},children:[Object(q.jsx)(Et.a,{value:"\u05d4\u05db\u05dc",sx:{direction:"rtl"},children:"\u05d4\u05db\u05dc"},1),r&&r.map((function(e){return Object(q.jsx)(Et.a,{value:e,sx:{direction:"rtl"},children:e},e)}))]})]})})]})}),Object(q.jsx)("div",{className:"container-fluid d-flex justify-content-center",children:Object(q.jsx)("div",{className:"row",style:{marginBottom:w},children:v.treasureHuntList&&v.treasureHuntList.map((function(t,n){if(console.log(n,t.description),l===t.siteName||"\u05d4\u05db\u05dc"===l){var r=window.innerWidth>413?Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(St,{thID:t.id,imgsrc:t.imageURL,title:t.quizName,author:t.authorName,liked:t.liked,description:t.description,likesnum:t.treasureHuntLikesNum,user:O,userObs:e.userObs})}):Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Bt,{thID:t.id,imgsrc:t.imageURL,title:t.quizName,author:t.authorName,liked:t.liked,likesnum:t.treasureHuntLikesNum,userObs:e.userObs})});return Object(q.jsx)(q.Fragment,{children:r})}}))})})]})},Wt=n(48),Ft=n(25),Qt=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collection("Sites"),e.next=4,n.get();case 4:return r=e.sent,console.log("data",r),a=[],r.docs.forEach((function(e){var t=e.data();t.id=e.id,a.push(t)})),e.next=10,a;case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt(n).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("File deleted successfully"),t.initSites();case 2:case"end":return e.stop()}}),e)}))));case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}();function Mt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=Object(Wt.a)(t),e.prev=2,a=d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.value,console.log(t.id),e.next=4,Xt(t).then(Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("site",t),n=t.siteName,console.log("siteName",n),e.next=5,Zt(n).then((function(){}));case 5:return e.next=7,E.a.firestore().collection("Sites").doc(t.id).delete();case 7:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})),n.s();case 5:if((r=n.n()).done){e.next=9;break}return e.delegateYield(a(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:e.next=23;break;case 19:return e.prev=19,e.t2=e.catch(0),console.log(e.t2),e.abrupt("return");case 23:case"end":return e.stop()}}),e,null,[[0,19],[2,11,14,17]])})))).apply(this,arguments)}function Xt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collection("Sites").doc(t.id).collection("subSites"),e.next=4,n.get();case 4:return r=e.sent,e.next=7,Promise.all(r.docs.forEach(function(){var e=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(n,t.id).then(Object(j.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.data().placeName,e.prev=1,e.next=4,E.a.firestore().collection("Sites").doc(t.id).collection("subSites").doc(n.id).delete();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console(e.t0);case 9:return e.next=11,Yt(r);case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Yt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.firestore().collection("Stories").where("placeName","==","".concat(t)).get();case 3:return n=e.sent,e.next=6,Promise.all(n.docs.forEach(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(t).then({});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Zt(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.firestore().collection("TreasureHunt").where("siteName","==","".concat(t)).get().then(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.forEach((function(e){var t={};t.siteName=e.data(),t.id=e.id,n.push(t)})),e.next=4,Sn(n).then({});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function $t(e,t){return en.apply(this,arguments)}function en(){return(en=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tn(t.id,n).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(t.id,n).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))));case 3:e.next=11;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.next=10,rn(t.id,n).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))));case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(j.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().collection("Sites").doc(n).collection("subSites").doc(t).collection("clues"),e.next=4,r.get();case 4:return a=e.sent,e.next=7,Promise.all(a.docs.forEach(function(){var e=Object(j.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.firestore().collection("Sites").doc(n).collection("subSites").doc(t).collection("clues").doc(r.id).delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function rn(e,t){return an.apply(this,arguments)}function an(){return(an=Object(j.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().collection("Sites").doc(n).collection("subSites").doc(t).collection("questions"),e.next=4,r.get();case 4:return a=e.sent,e.next=7,Promise.all(a.docs.forEach(function(){var e=Object(j.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.firestore().collection("Sites").doc(n).collection("subSites").doc(t).collection("questions").doc(r.id).delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var cn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().collection("Sites").doc(n).collection("subSites"),e.next=4,r.get();case 4:e.sent.docs.forEach((function(e){var n=e.data();n.id=e.id,console.log("subsite",n),t.addSubSite(n)})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),sn=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collectionGroup("subSites"),e.next=4,n.get();case 4:e.sent.docs.forEach((function(e){var n=e.data();n.id=e.id,t.addSubSite(n)})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),on=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(n.forEach(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(t,t.siteID).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yt(t.placeName);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.next=10,E.a.firestore().collection("Sites").doc(t.siteID).collection("subSites").doc(t.id).delete();case 10:case"end":return e.stop()}}),e,null,[[0,5]])}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.initAllSubSites();case 1:case"end":return e.stop()}}),e)}))));case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),ln=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){var a,i,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={siteData:null,subSiteData:null},i=E.a.firestore().collection("Sites").doc(n),e.next=5,i.get();case 5:return c=e.sent,s=E.a.firestore().collection("Sites").doc(n).collection("subSites").doc(r),e.next=9,s.get();case 9:o=e.sent,a={siteData:c.data(),subSiteData:o.data()},t.setSubSiteinfo(a),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log("error_fetchSubSite",e.t0),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),un=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={siteData:null,subSiteData:null},a=E.a.firestore().collection("Sites").doc(n),e.next=5,a.get();case 5:i=e.sent,r={siteData:i.data()},t.setSubSiteinfo(r),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("error_fetchSubSite",e.t0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),dn=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.a.firestore().collection("Sites").doc(n).collection("subSites").doc(r).collection("clues"),e.next=4,a.get();case 4:e.sent.docs.forEach((function(e){var a=e.data();a.id=e.id,a.subSiteID=r,a.siteID=n,a.isApproved&&t.addClue(a)})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),jn=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collectionGroup("clues"),e.next=4,n.get();case 4:e.sent.docs.forEach((function(e){var n=e.data();n.id=e.id,n.path=e.ref.path;var r=n.path.split("/"),a=r.length;n.siteID=r[a-5],n.subSiteID=r[a-3],t.addClue(n)})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),bn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().batch(),n.forEach((function(e){var t=e.path.split("/"),n=t.length,a=E.a.firestore().collection("Sites").doc(t[n-5]).collection("subSites").doc(t[n-3]).collection("clues").doc(t[n-1]);r.update(a,{isApproved:!0})})),e.next=5,r.commit();case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),hn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=Object(Wt.a)(n),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,E.a.firestore().collection("Sites").doc(i.siteID).collection("subSites").doc(i.subSiteID).collection("clues").doc(i.id).delete();case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:e.next=24;break;case 20:return e.prev=20,e.t1=e.catch(0),console.log(e.t1),e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[0,20],[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}(),pn=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=E.a.firestore().collection("Sites").doc(n).collection("subSites").doc(r).collection("questions"),e.next=4,a.get();case 4:e.sent.docs.forEach((function(e){var a=e.data();a.id=e.id,a.siteID=n,a.subSiteID=r,a.isApproved&&t.addQuestion(a)})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),fn=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collectionGroup("questions"),e.next=4,n.get();case 4:e.sent.docs.forEach((function(e){var n=e.data();n.id=e.id,n.path=e.ref.path;var r=n.path.split("/"),a=r.length;n.siteID=r[a-5],n.subSiteID=r[a-3],t.addQuestion(n)})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),xn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().batch(),n.forEach((function(e){var t=e.path.split("/"),n=t.length,a=E.a.firestore().collection("Sites").doc(t[n-5]).collection("subSites").doc(t[n-3]).collection("questions").doc(t[n-1]);r.update(a,{isApproved:!0})})),e.next=5,r.commit();case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),On=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=Object(Wt.a)(n),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return i=a.value,e.next=8,E.a.firestore().collection("Sites").doc(i.siteID).collection("subSites").doc(i.subSiteID).collection("questions").doc(i.id).delete();case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:e.next=24;break;case 20:return e.prev=20,e.t1=e.catch(0),console.log(e.t1),e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[0,20],[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}(),mn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=E.a.firestore().collection("Stories"),!n){e.next=8;break}return e.next=5,r.orderBy("storyLikesNum","desc").get();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,r.get();case 10:e.t0=e.sent;case 11:return a=e.t0,i=[],a.docs.forEach((function(e){var t=e.data();t.id=e.id,(!n||n&&t.isApproved)&&i.push(t)})),e.abrupt("return",i);case 17:return e.prev=17,e.t1=e.catch(0),console.log(e.t1),e.abrupt("return");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),vn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn(n,"Stories");case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),gn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kn(n,"Stories","storyLikes");case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),An=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().batch(),e.next=4,E.a.firestore().collection("Stories").doc(t.id).collection("storyLikes").get();case 4:return r=e.sent,a=E.a.firestore().collection("Stories").doc(t.id),e.next=8,Nn(t.id,"Stories");case 8:if(!t.imageURL){e.next=12;break}return i=E.a.storage().refFromURL(t.imageURL),e.next=12,i.delete().then((function(){console.log("File deleted successfully")})).catch((function(e){console.log("Uh-oh, an error occurred!")}));case 12:return r.docs.forEach((function(e){n.delete(E.a.firestore().collection("Stories").doc(t.id).collection("storyLikes").doc(e.id))})),n.delete(a),e.next=16,n.commit();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("e",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}(),yn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=E.a.firestore().collection("TreasureHunt"),!n){e.next=8;break}return e.next=5,r.orderBy("treasureHuntLikesNum","desc").get();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,r.get();case 10:e.t0=e.sent;case 11:return a=e.t0,i=[],a.docs.forEach((function(e){var r=e.data();r.id=e.id,t.addTreasureHunt(r),(!n||n&&r.isApproved)&&i.push(r)})),e.abrupt("return",i);case 17:e.prev=17,e.t1=e.catch(0),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),wn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn(n,"TreasureHunt");case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),Sn=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kn(t,"TreasureHunt","gameLikes");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),kn=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){var a,i,c,s,o,l,u,j,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=E.a.firestore().batch(),i=Object(Wt.a)(t),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=19;break}return s=c.value,o=E.a.firestore().collection(n).doc(s.id),e.next=10,Nn(s.id,n);case 10:if(!((null===s||void 0===s?void 0:s.treasureHuntLikesNum)>0||(null===s||void 0===s?void 0:s.storyLikesNum)>0)){e.next=15;break}return e.next=13,E.a.firestore().collection(n).doc(s.id).collection(r).get();case 13:l=e.sent;try{u=Object(Wt.a)(l.docs);try{for(u.s();!(j=u.n()).done;)b=j.value,a.delete(E.a.firestore().collection(n).doc(s.id).collection(r).doc(b.id))}catch(d){u.e(d)}finally{u.f()}}catch(h){console.log(h)}case 15:!s.imageURL||s.imageURL.includes("siteImages")||s.imageURL.includes("subSitesImages")||E.a.storage().refFromURL(s.imageURL).delete().then((function(){console.log("File deleted successfully")})).catch((function(e){console.log("Uh-oh, an error occurred!")})),a.delete(o);case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.next=29,a.commit();case 29:e.next=35;break;case 31:return e.prev=31,e.t1=e.catch(0),console.log(e.t1),e.abrupt("return");case 35:case"end":return e.stop()}}),e,null,[[0,31],[3,21,24,27]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i,c,s,o,l,u,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Stories"!==n){e.next=11;break}return r=E.a.firestore().collectionGroup("LikedStories"),e.next=5,r.get();case 5:a=e.sent,i=[],a.docs.forEach((function(e){e.id===t&&i.push(e)})),i.forEach((function(e){var t=e.ref.path;try{E.a.firestore().doc(t).delete()}catch(n){console.log(n)}})),e.next=25;break;case 11:return c=E.a.firestore().collectionGroup("playedGames"),e.next=14,c.get();case 14:return s=e.sent,o=[],s.docs.forEach((function(e){e.id===t&&o.push(e)})),o.forEach((function(e){var t=e.ref.path;try{E.a.firestore().doc(t).delete()}catch(n){console.log(n)}})),l=E.a.firestore().collectionGroup("LikedGames"),e.next=21,l.get();case 21:u=e.sent,j=[],u.docs.forEach((function(e){e.id===t&&j.push(e)})),j.forEach((function(e){var t=e.ref.path;try{E.a.firestore().doc(t).delete()}catch(n){console.log(n)}}));case 25:e.next=31;break;case 27:return e.prev=27,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 31:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t,n){return e.apply(this,arguments)}}(),Cn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().batch(),t.forEach((function(e){var t=E.a.firestore().collection("Stories"===n?"Stories":"TreasureHunt").doc(e.id);r.update(t,{isApproved:!0})})),e.next=5,r.commit();case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),In=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collection("users"),e.next=4,n.get();case 4:e.sent.docs.forEach((function(e){var n=e.data();n.id=e.id,t.addUser(n)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),zn=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().batch(),n.forEach((function(e){var t=E.a.firestore().collection("users").doc(e.id);r.update(t,{isApproved:!0,type:"creator",declined:!1})})),e.next=5,r.commit();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Ln=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().batch(),n.forEach((function(e){var t=E.a.firestore().collection("users").doc(e.id);r.update(t,{declined:!0})})),e.next=5,r.commit();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Bn=function e(){Object(jt.a)(this,e),this.questionObs=Object(Ft.b)({questions:[],addQuestion:Object(Ft.a)((function(e){this.questions.push(e)})),get questionsCount(){return this.questions.length},get questionsList(){return this.questions},decline:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questions=[],n=t,Array.isArray(t)||((n=[])[0]=t),e.next=5,On(this,n).then({});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),approve:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questions=[],e.next=3,xn(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),initQuestions:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questions=[],e.next=3,pn(this,t,n).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),initAllQuestions:Object(Ft.a)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questions=[],e.next=3,fn(this).then({});case 3:case"end":return e.stop()}}),e,this)})))),getAllQuestions:Object(Ft.a)((function(){return this.questions}))}),this.clueObs=Object(Ft.b)({clues:[],addClue:Object(Ft.a)((function(e){this.clues.push(e)})),get cluesCount(){return this.clues.length},get cluesList(){return this.clues},decline:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clues=[],n=t,Array.isArray(t)||((n=[])[0]=t),e.next=5,hn(this,n).then({});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),approve:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clues=[],e.next=3,bn(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),initClues:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clues=[],e.next=3,dn(this,t,n).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),initAllClues:Object(Ft.a)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clues=[],e.next=3,jn(this).then({});case 3:case"end":return e.stop()}}),e,this)})))),getAllClues:Object(Ft.a)((function(){return this.clues}))}),this.subSiteObs=Object(Ft.b)({subSites:[],subSite:{},addSubSite:Object(Ft.a)((function(e){this.subSites.push(e)})),get subSitesCount(){return this.subSites.length},get subSitesList(){return this.subSites},initSubSites:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.subSites=[],n=t,e.next=4,cn(this,n).then({});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),initAllSubSites:Object(Ft.a)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.subSites=[],e.next=3,sn(this).then({});case 3:case"end":return e.stop()}}),e,this)})))),decline:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.subSites=[],e.next=3,on(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),getAllSubSites:Object(Ft.a)((function(){return this.subSites})),get subSiteInfo(){return this.subSite},initSubSite:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.subSite={},void 0===t||t===n){e.next=6;break}return e.next=4,ln(this,t,n).then((function(){return r.subSite}));case 4:e.next=9;break;case 6:if(void 0===t||t!==n){e.next=9;break}return e.next=9,un(this,t).then((function(){return r.subSite}));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),setSubSiteinfo:Object(Ft.a)((function(e){return this.subSite=e}))}),this.siteObs=Object(Ft.b)({sites:[],addSite:Object(Ft.a)((function(e){this.sites.push(e)})),get sitesCount(){return this.sites.length},get SitesList(){return this.sites},initSites:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.sites=[],e.next=3,Qt(this).then(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sites=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),decline:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.sites=[],e.next=3,Gt(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),getAllSites:Object(Ft.a)((function(){return this.sites}))}),this.storiesObs=Object(Ft.b)({stories:[],addStory:Object(Ft.a)((function(e){this.stories.push(e)})),get storiesCount(){return this.stories.length},get storiesList(){return this.stories},decline:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stories=[],!Array.isArray(t)){e.next=6;break}return e.next=4,gn(this,t).then({});case 4:e.next=8;break;case 6:return e.next=8,An(t).then({});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),approve:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stories=[],e.next=3,vn(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),initStories:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stories=[],e.next=3,mn(this,t).then((function(e){n.stories=e}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),getAllStories:Object(Ft.a)((function(){return this.stories}))}),this.treasureHuntObs=Object(Ft.b)({treasureHunt:[],addTreasureHunt:Object(Ft.a)((function(e){this.treasureHunt.push(e)})),get treasureHuntCount(){return this.treasureHunt.length},get treasureHuntList(){return this.treasureHunt},decline:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.treasureHunt=[],n=t,Array.isArray(t)||((n=[])[0]=t),e.next=5,Sn(n).then({});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),approve:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stories=[],e.next=3,wn(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),initTreasureHunt:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.treasureHunt=[],e.next=3,yn(this,t).then((function(e){n.treasureHunt=e}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),getAllTreasureHunt:Object(Ft.a)((function(){return this.treasureHunt}))}),this.userObs=Object(Ft.b)({users:[],addUser:Object(Ft.a)((function(e){this.users.push(e)})),get userCount(){return this.users.length},get usersList(){return this.users},approve:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.users=[],e.next=3,zn(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),decline:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.users=[],e.next=3,Ln(this,t).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),initUsers:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.users=[],e.next=3,In(this).then({});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())})},Dn=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),En=Object(de.a)({direction:"rtl"}),Hn=new Bn,Pn=new Bn;var qn=function(e){var t,n,r=Object(i.useState)(!1),a=Object(b.a)(r,2),c=(a[0],a[1],(null===e||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.selectedSite)?e.location.state.selectedSite:null);return Object(q.jsx)("div",{id:"storiesPageStyle",children:Object(q.jsx)(he.b,{jss:Dn,children:Object(q.jsxs)(pe.a,{theme:En,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Rt,{reviewStore:Hn,userObs:e.userObs,store:Pn,selectedSite:c})]})})})},Tn=n(250),Un=n.n(Tn),Rn=(n(646),function(e){Object(pt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r;return Object(jt.a)(this,n),r=t.call(this,e),console.log("props.userObs",e.userObs),r.state={liked:e.liked,likesnum:e.likesnum,imgsrc:e.imgsrc,title:e.title,author:e.author,istory:e.istory,sID:e.sID,user:e.user,userObs:e.userObs},r.toggleLike=r.toggleLike.bind(Object(ht.a)(r)),r}return Object(bt.a)(n,[{key:"toggleLike",value:function(){var e=this.state,t=e.likesnum,n=(e.user,e.userObs),r=e.sID,a=e.liked;t=a?t-1:t+1,a=!a,this.setState({likesnum:t,liked:a}),n.updatesLikesStory(n.userInfo,r,t,a)}},{key:"render",value:function(){var e,t,n,r=this.state,a=r.likesnum,i=r.imgsrc,c=r.title,s=r.author,o=r.istory,l=r.sID,u=r.userObs;return Object(q.jsxs)("div",{className:"card text-right shadow",children:[Object(q.jsx)("div",{className:"overflow",children:Object(q.jsx)("img",{src:i,alt:"image 1",className:"card-img-top"})}),Object(q.jsxs)("div",{className:"card-body text-dark",children:[Object(q.jsx)("h4",{className:"card-title text-center",children:c}),Object(q.jsxs)("p",{className:"card-text text-secondary",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)(At.a,{style:{color:"#e67700"}})}),Object(q.jsxs)("div",{className:"col-11",children:[" ",s]})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)(Un.a,{style:{color:"#994f00"}})}),Object(q.jsxs)("div",{className:"col-11",children:[o.slice(0,120),Object(q.jsx)(h.b,{to:{pathname:"/storycontent/".concat(l),state:{title:c,imgsrc:i,author:s,storyContent:o,liked:this.state.liked,likesnum:a}},children:"\u05e7\u05e8\u05d0 \u05e2\u05d5\u05d3 ..."})]})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1",children:"registered"===(null===u||void 0===u||null===(e=u.userInfo)||void 0===e?void 0:e.type)||"creator"===(null===u||void 0===u||null===(t=u.userInfo)||void 0===t?void 0:t.type)||"admin"===(null===u||void 0===u||null===(n=u.userInfo)||void 0===n?void 0:n.type)?Object(q.jsx)("button",{className:"likeBtn",onClick:this.toggleLike,children:this.state.liked?Object(q.jsx)(vt.a,{style:{color:"#b71c1c"}}):Object(q.jsx)(Ot.a,{style:{color:"#b71c1c"}})}):" \u2665\ufe0f "}),Object(q.jsxs)("div",{className:"col-11",children:[" ",a]})]})]})]})]})}}]),n}(i.Component));function Wn(e){Object(kt.a)();var t,n,r,a=Object(i.useState)(e.liked),c=Object(b.a)(a,2),s=c[0],o=c[1],l=Object(i.useState)(e.likesnum),u=Object(b.a)(l,2),d=u[0],j=u[1],p=e.userObs,f=e.sID;return console.log(null===p||void 0===p?void 0:p.userInfo),Object(q.jsxs)(Ct.a,{sx:{display:"flex",width:"100%",minHeight:120,maxHeight:145},style:{marginBottom:"1rem"},children:[Object(q.jsx)(Nt.a,{sx:{display:"flex",flexDirection:"column",width:250},children:Object(q.jsxs)(It.a,{sx:{flex:"0 0 auto"},children:[Object(q.jsx)(Lt.a,{component:"div",fontSize:16,dir:"rtl",children:e.title}),Object(q.jsx)(Lt.a,{variant:"subtitle1",color:"text.secondary",component:"div",fontSize:13,dir:"rtl",children:e.author}),Object(q.jsx)(h.b,{to:{pathname:"/storycontent/".concat(f),state:{title:e.title,imgsrc:e.imgsrc,author:e.author,storyContent:e.istory,liked:s,likesnum:d}},children:"\u05e7\u05e8\u05d0 \u05e2\u05d5\u05d3 ..."}),"registered"===(null===p||void 0===p||null===(t=p.userInfo)||void 0===t?void 0:t.type)||"creator"===(null===p||void 0===p||null===(n=p.userInfo)||void 0===n?void 0:n.type)||"admin"===(null===p||void 0===p||null===(r=p.userInfo)||void 0===r?void 0:r.type)?Object(q.jsx)("button",{className:"likeBtn",onClick:function(){var e,t,n;"registered"!==(null===p||void 0===p||null===(e=p.userInfo)||void 0===e?void 0:e.type)&&"creator"!==(null===p||void 0===p||null===(t=p.userInfo)||void 0===t?void 0:t.type)&&"admin"!==(null===p||void 0===p||null===(n=p.userInfo)||void 0===n?void 0:n.type)||(j(s?d-1:d+1),o(!s),p.updatesLikesStory(p.userInfo,f,s?d-1:d+1,!s))},children:s?Object(q.jsx)(vt.a,{style:{color:"#b71c1c"}}):Object(q.jsx)(Ot.a,{style:{color:"#b71c1c"}})}):" \u2665\ufe0f ",d]})}),Object(q.jsx)(zt.a,{component:"img",sx:{width:100},image:e.imgsrc,alt:"Live from space album cover"})]})}var Fn=n.p+"static/media/defualt.544de424.jpg",Qn=Object(Tt.a)(),Gn=Object(L.a)((function(e){return{Container:{opacity:.99999,zIndex:50,minHeight:"83.7vh",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(Dt,")"),"& .MuiSelect-select":{width:"160px",background:"white",opacity:"0.7",textAlign:"left",dir:"rtl",color:"black",fontSize:"1.15rem"},"& .MuiFormLabel-root":{color:"black",textAlign:"left",dir:"rtl",fontSize:"1.15rem"}}}}));var Mn=function(e){var t=Object(p.f)();console.log("history",Qn);var n=Object(i.useState)([]),r=Object(b.a)(n,2),a=(r[0],r[1]),c=Object(i.useState)(),s=Object(b.a)(c,2),o=(s[0],s[1]),l=e.reviewStore.storiesObs,u=window.innerHeight<916?"5rem":window.innerHeight/38.5+"rem",d=Gn(),j=Object(i.useState)([]),h=Object(b.a)(j,2),f=h[0],x=h[1],O=e.store.siteObs,m=Object(i.useState)(e.selectedSite?e.selectedSite:"\u05d4\u05db\u05dc"),v=Object(b.a)(m,2),g=v[0],A=v[1];return Object(i.useEffect)((function(){console.log(window.innerWidth),O.initSites().then((function(){var e=[];O.SitesList.map((function(t){return e.push(t.siteName)})),console.log(e),x(e)}))}),[]),Object(i.useEffect)((function(){o(e.userObs.userInfo),a([]),l.initStories(!0).then((function(){var t=l.storiesList?l.storiesList.filter((function(e){return e.isApproved})):[];console.log("arr98",t),a(function(e,t){console.log("what stories ?",t);var n=[],r=null===e||void 0===e?void 0:e.storyLikes;if(r)return console.log(t),t&&t.map((function(e,t){var a=0;for(var i in r)i.toString()===e.id.toString()&&(a=1,e.liked=!0,n.push(e));1!==a&&(e.liked=!1,n.push(e))})),n}(e.userObs.userInfo,t))}))}),[]),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:d.Container,component:"main",maxWidth:window.innerWidth<=760?"xs":"100%",dir:"rtl",children:[Object(q.jsx)(wt.a,{size:"small",variant:"outlined",onClick:t.goBack,style:{position:"absolute",left:"50px",marginTop:"30px",color:"#4d2800",borderRadius:"50px"},children:"\u05d7\u05d6\u05d5\u05e8 \u21a9\ufe0e"}),Object(q.jsx)("div",{className:"row text-right",children:Object(q.jsxs)("div",{className:"col-3",children:[Object(q.jsx)("br",{}),Object(q.jsxs)("h1",{id:"placeName",style:{color:"#4d2800",fontFamily:"lucida grande",fontSize:"60px"},children:[" ","\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd "]})]})}),Object(q.jsx)("div",{className:"row text-center",children:Object(q.jsxs)("div",{className:" col",children:[Object(q.jsx)("br",{}),Object(q.jsx)(Nt.a,{children:Object(q.jsxs)(qt.a,{children:[Object(q.jsx)(Pt.a,{id:"sites_names-select-label",sx:{direction:"rtl"},children:"\u05e1\u05d9\u05e0\u05d5\u05df \u05dc\u05e4\u05d9 \u05d0\u05ea\u05e8"}),Object(q.jsxs)(Ht.a,{labelId:"sites_names-select-label",id:"sites_names-select-select",value:g,variant:"outlined",onChange:function(e){A(e.target.value)},children:[Object(q.jsx)(Et.a,{value:"\u05d4\u05db\u05dc",sx:{direction:"rtl"},children:"\u05d4\u05db\u05dc"},1),f&&f.map((function(e){return Object(q.jsx)(Et.a,{value:e,sx:{direction:"rtl"},children:e},e)}))]})]})})]})}),Object(q.jsx)("div",{className:"container-fluid d-flex justify-content-center",dir:"rtl",children:Object(q.jsx)("div",{className:"row",id:"StoriesCards",style:{marginBottom:u},children:l.storiesList&&l.storiesList.map((function(t,n){if(g===t.siteName||"\u05d4\u05db\u05dc"===g){var r=window.innerWidth>413?Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Rn,{sID:t.id,imgsrc:t.imageURL?t.imageURL:Fn,title:t.storyName,author:t.authorName,istory:t.storyContent,storylink:"storycontent",liked:t.liked,likesnum:t.storyLikesNum,userObs:e.userObs})}):Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(Wn,{sID:t.id,imgsrc:t.imageURL?t.imageURL:Fn,title:t.storyName,author:t.authorName,istory:t.storyContent,storylink:"storycontent",liked:t.liked,likesnum:t.storyLikesNum,userObs:e.userObs})});return Object(q.jsx)(q.Fragment,{children:r})}}))})})]})})},Kn=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),Xn=Object(de.a)({direction:"rtl"}),Jn=new Bn;var Yn,Vn,Zn=function(e){var t,n,r=Object(i.useState)(!1),a=Object(b.a)(r,2),c=(a[0],a[1],new Bn),s=(null===e||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.selectedSite)?e.location.state.selectedSite:null;return Object(q.jsx)("div",{id:"storiesPageStyle",children:Object(q.jsx)(he.b,{jss:Kn,children:Object(q.jsxs)(pe.a,{theme:Xn,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Mn,{reviewStore:Jn,userObs:e.userObs,store:c,selectedSite:s})]})})})},_n=m.a.div(Yn||(Yn=Object(O.a)(["\nposition:absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:100%;\noverflow: hidden;\nopacity: 0.5;\nz-index: -1;\n\n"]))),$n=m.a.video(Vn||(Vn=Object(O.a)(["\nwidth: 100%;\nheight: 100%;\n-o-object-fit: cover;\nobject-fit: cover;\nbackground: #232a34;\nopacity: 0.5;\nz-index: -1;\n"]))),er=function(e){Object(pt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r;return Object(jt.a)(this,n),(r=t.call(this,e)).state={isAnswered:e.questionAnswered,classNames:["","","",""]},r.checkAnswer=r.checkAnswer.bind(Object(ht.a)(r)),r}return Object(bt.a)(n,[{key:"checkAnswer",value:function(e){var t=this;if(!this.props.isAnswered){var n=e.currentTarget,r=this.props,a=r.correct,i=r.increaseScore,c=Number(n.dataset.id),s=this.state.classNames;c===a?(s[c-1]="right",i()):(s[c-1]="wrong",s[a-1]="right"),this.setState({classNames:s,isAnswered:!0}),new Promise((function(e){return setTimeout(e,600)})).then((function(){t.setState({classNames:["","","",""]}),t.props.showButton()}))}}},{key:"shouldComponentUpdate",value:function(){return this.state||this.setState({classNames:["","","",""]}),!0}},{key:"render",value:function(){var e=this.props.answers,t=this.state,n=t.classNames,r=t.isAnswered;return Object(q.jsx)("div",{id:"answers",children:Object(q.jsxs)("ul",{children:[Object(q.jsxs)("button",{onClick:this.checkAnswer,disabled:r,className:n[0],"data-id":"1",children:[Object(q.jsx)("span",{children:"\u05d0"})," ",Object(q.jsx)("p",{children:e[0]})]}),Object(q.jsxs)("button",{onClick:this.checkAnswer,disabled:r,className:n[1],"data-id":"2",children:[Object(q.jsx)("span",{children:"\u05d1"})," ",Object(q.jsx)("p",{children:e[1]})]}),Object(q.jsxs)("button",{onClick:this.checkAnswer,disabled:r,className:n[2],"data-id":"3",children:[Object(q.jsx)("span",{children:"\u05d2"})," ",Object(q.jsx)("p",{children:e[2]})]}),Object(q.jsxs)("button",{onClick:this.checkAnswer,disabled:r,className:n[3],"data-id":"4",children:[Object(q.jsx)("span",{children:"\u05d3"})," ",Object(q.jsx)("p",{children:e[3]})]})]})})}}]),n}(c.a.Component),tr=(n(647),function(e){Object(pt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r;return Object(jt.a)(this,n),(r=t.call(this,e)).state={qNum:r.props.myqNum,total:r.props.totalQuestions,showButton:!1,questionAnswered:!1,score:r.props.myScore,lastscore:r.props.myScore,isOnlyQuiz:r.props.isOnlyQuiz,thID:r.props.thID,dataQuestions:r.props.dataQuestions},r.nextQuestion=r.nextQuestion.bind(Object(ht.a)(r)),r.handleShowButton=r.handleShowButton.bind(Object(ht.a)(r)),r.handleStartQuiz=r.handleStartQuiz.bind(Object(ht.a)(r)),r.handleIncreaseScore=r.handleIncreaseScore.bind(Object(ht.a)(r)),r}return Object(bt.a)(n,[{key:"pushData",value:function(e,t){this.setState({question:t.question,answers:[t.answers[0],t.answers[1],t.answers[2],t.answers[3]],correct:t.correct,qNum:this.state.qNum+1})}},{key:"componentWillMount",value:function(){var e=this.state,t=e.qNum,n=e.dataQuestions;this.pushData(t,n)}},{key:"nextQuestion",value:function(){var e=this.state,t=e.qNum,n=e.total,r=e.score,a=e.dataQuestions;t===n?(alert("\u05d4\u05e6\u05d9\u05d5\u05df \u05e9\u05dc\u05da \u05d4\u05d5\u05d0 "+r),this.setState({qNum:1}),this.props.history.push({pathname:"/tresurHuntOnly"})):(this.pushData(t,a),this.setState({questionAnswered:!1}))}},{key:"handleShowButton",value:function(){var e=this,t=this.state,n=t.isOnlyQuiz,r=t.qNum,a=t.lastscore,i=t.thID;n?(this.setState({questionAnswered:!0}),this.nextQuestion(),this.setState({questionAnswered:!1})):(this.setState({questionAnswered:!0}),new Promise((function(e){return setTimeout(e,600)})).then((function(){console.log("qNum+1",r+1),e.props.history.push({pathname:"/treasureHunt/".concat(i),state:{score:e.state.score,qNum:r+1,isFlag:!0,prevAnswer:a!==e.state.score,isJustAnswerd:!0}})})))}},{key:"handleStartQuiz",value:function(){this.setState({qNum:1})}},{key:"handleIncreaseScore",value:function(){this.setState({score:this.state.score+1})}},{key:"render",value:function(){var e=this.state,t=e.qNum,n=e.total,r=e.question,a=e.answers,i=e.correct,c=(e.showButton,e.questionAnswered);e.isOnlyQuiz,e.score;return Object(q.jsxs)("div",{className:"container quizBody",children:[Object(q.jsx)("br",{}),Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-lg-10 col-lg-offset-1",children:[Object(q.jsxs)("div",{id:"question",children:[Object(q.jsxs)("h4",{children:["\u05e9\u05d0\u05dc\u05d4 ",t+1,"/",n]}),Object(q.jsx)("p",{children:r})]}),Object(q.jsx)(er,{answers:a,correct:i,showButton:this.handleShowButton,isAnswered:c,increaseScore:this.handleIncreaseScore})]})})]})}}]),n}(c.a.Component)),nr=Object(p.i)(tr),rr=Object(L.a)((function(e){return{paper:{minHeight:"58vh",display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},Container:{opacity:.99999,zIndex:50,width:"100%"}}}));function ar(e){var t=rr(),n=e.myqNum,r=e.myScore,a=e.isOnlyQuiz,i=e.dataQuestions;return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:t.Container,component:"main",maxWidth:"md",dir:"rtl",children:[Object(q.jsx)(_n,{children:Object(q.jsx)($n,{autoPlay:!0,loop:!0,muted:!0,src:x,type:"video/mp4"})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:t.paper,children:[Object(q.jsx)("br",{}),Object(q.jsx)(N.a,{container:!0,justifyContent:"flex-start",spacing:2,children:Object(q.jsx)(nr,{myqNum:n,myScore:r,isOnlyQuiz:a,thID:e.thID,dataQuestions:i,totalQuestions:e.totalQuestions})})]})]})})}var ir=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),cr=Object(de.a)({direction:"rtl"});var sr,or,lr=function(e){var t,n,r,a,c,s=Object(i.useState)(!1),o=Object(b.a)(s,2),l=(o[0],o[1],0),u=0;return!0===(null===e||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.flag)&&(l=e.location.state.score,u=e.location.state.qNum,r=e.location.state.thID,c=e.location.state.totalQuestions,a={answers:e.location.state.answers,correct:e.location.state.correct,question:e.location.state.question}),Object(q.jsx)("div",{id:"TresurHuntTamplateQuestPageStyle",className:"bodyStandartHigher",children:Object(q.jsx)(he.b,{jss:ir,children:Object(q.jsxs)(pe.a,{theme:cr,children:[Object(q.jsx)(je,{}),Object(q.jsx)(ar,{myqNum:u,myScore:l,isOnlyQuiz:!1,thID:r,dataQuestions:a,totalQuestions:c})]})})})},ur=n(9),dr=(n(437),n(808)),jr=n.p+"static/media/tree.6d094f73.jpeg",br=m.a.div(sr||(sr=Object(O.a)(["\nposition:absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\noverflow: hidden;\nopacity: 0.25;\nz-index: -1;\n"])),(function(e){return e.size?e.size+100:100})),hr=m.a.div(or||(or=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: 1;\n"])),(function(e){return e.img?e.img:null}),(function(e){return e.size?e.size+100:100})),pr=n(463),fr=n.n(pr),xr=n(814),Or=function(e){var t=Object(i.useState)(""),n=Object(b.a)(t,2),r=(n[0],n[1]),a=Object(i.useState)(!1),c=Object(b.a)(a,2),s=c[0],o=c[1],u=e.infoInizialize,d=Object(i.useState)(e.isURL),j=Object(b.a)(d,2),h=j[0],f=(j[1],Object(i.useState)("")),x=Object(b.a)(f,2),O=x[0],m=x[1],v=Object(p.f)(),g=null,A=!1;return void 0!==e.isInGameMode&&(A=e.isInGameMode),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsxs)(xr.a,{sx:Object(l.a)(Object(l.a)({},{bgcolor:"background.paper",m:10,border:3,width:"5rem",height:"5rem"}),{},{display:"inline",width:"80%",bgcolor:s&&h&&g?"red":"black"}),children:[s&&h?O:null," ",s&&!h?O:null,"  ",Object(q.jsx)(fr.a,{delay:300,onError:function(e){console.log(e)},onScan:function(t){t&&(r(t),o(!0),h?function(t){if(t===u&&!0===A){if(m(Object(q.jsx)(D.a,{severity:"success",children:"\u05e1\u05e8\u05e7\u05ea \u05d0\u05ea \u05d4-QR \u05d4\u05e0\u05db\u05d5\u05df"})),g=!0,!0===A){var n=[];e.dataQuestions.answers.forEach((function(e){n.push(e)})),v.push({pathname:"/tresurHuntTamplateQuest",state:{score:e.parameters.score,qNum:e.parameters.qNum,flag:!0,totalQuestions:e.totalQuestions,thID:e.parameters.treasureHuntID,answers:n,correct:e.dataQuestions.correct,question:e.dataQuestions.question}})}}else if(!1===A){var r=t.split("/"),a=r.length;v.push({pathname:"/intrestPointInfoPage/".concat(r[a-2],"/").concat(r[a-1]),state:{url:t}})}else m(Object(q.jsx)(D.a,{severity:"error",children:"\u05e1\u05e8\u05e7\u05ea \u05d0\u05ea \u05d4-QR \u05d4\u05dc\u05d0 \u05e0\u05db\u05d5\u05df"})),g=!1}(t):function(e){m(e===u?Object(q.jsx)(D.a,{children:"\u05e1\u05e8\u05e7\u05ea \u05d0\u05ea \u05d4-QR \u05d4\u05e0\u05db\u05d5\u05df"}):Object(q.jsx)(D.a,{children:"\u05e1\u05e8\u05e7\u05ea \u05d0\u05ea \u05d4-QR \u05d4\u05dc\u05d0 \u05e0\u05db\u05d5\u05df"}))}(t))},showViewFinder:!1})]})})})},mr=n(804),vr=n(807),gr=n(805),Ar=n(806),yr=n(776),wr=n(124),Sr=n.n(wr),kr=n(772),Nr=n(815),Cr=n(773),Ir=n(774);n(652);var zr=function(e){var t,n,r,a,i=[null===(t=e.pointIntrest)||void 0===t||null===(n=t.geoPointSite)||void 0===n?void 0:n.latitude,null===(r=e.pointIntrest)||void 0===r||null===(a=r.geoPointSite)||void 0===a?void 0:a.longitude],c=[];e.gameList&&e.gameList.map((function(e,t){c.push({name:e.pointIntrest.placeName,position:e.pointIntrest.geoPoint?[e.pointIntrest.geoPoint.latitude,e.pointIntrest.geoPoint.longitude]:[32.70386081777419,35.12992763616121],size:25})}));var s=c;return Object(q.jsxs)(kr.a,{className:"map",center:i,zoom:17,style:{height:300,width:200,position:" center"},children:[Object(q.jsx)(Nr.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map((function(e){return Object(q.jsx)(Cr.a,{position:e.position,icon:(t=e.size,e.forecast,Sr.a.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAJZlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgExAAIAAAARAAAAWodpAAQAAAABAAAAbAAAAAAAAABaAAAAAQAAAFoAAAABd3d3Lmlua3NjYXBlLm9yZwAAAAOgAQADAAAAAQABAACgAgAEAAAAAQAAABigAwAEAAAAAQAAABgAAAAAPBoP9gAAAAlwSFlzAAAN1wAADdcBQiibeAAAActpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+d3d3Lmlua3NjYXBlLm9yZzwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGMtVWAAABKxJREFUSA2dVUtvHEUQ/rqnZz27a+/6uXaMkwCRQZFI4kh2XhgLCQMHjhy4ceRCrkg5ceIn5GYBEuIEQkKEA0KEJAhhohhCEhSIFARyrPgRJ96117OPeTRfzXgtB62FnNbOq7r7+6q+qupV9356vXckLn9y/aod+uJbUxvotTqM8UTDaODBIxW/+VqYPX5SLS3o7rdNIWqOoifzhqtrqKw1kc8CQQAotTcOawHXBTH4JBG6syisNUcN7SEqITYbNqyHKq4F0LsRCIiMduQyF3KuHiImliYmsU1oQFZQkpxR5oVDxha6rIraSCSgjiPwQBQBLbLUkt4det6XUzZnQgVRgNimmLEKscaR4wpHxiLLCYUtT7c3y2KSNrlPRkbiFhnarbO0KrqT0Shqq8ytm6H1MuJRJkEWhnRniqoJFEYahZzF8FAa2uKyRnlTwWhhkEvW0q+EMP1Wy5SrGVrz+acUhDMii40ttMPF/DkOzU4ezUDDf1TFgWeAyfEQYajx4zVgZcWi2JtBLcwirK7DMUCHF3Or4hoFLTBKxaa7P3nhh0VMteoNqkGl6r4HZ/US9g1QymMvobIaYObjHPYdCFAastjvuVidv4cB7x94oycQ1B08fEgpVIS+AepABonIdHUpU61arFUoW4Yy9FvkCx5GD13hxg8x0tMJ96+3sG4msFL+GQdLE3CbDnz7K+btWex/7lXk776PhtrEQvlv1INn8f3lTvJEKPZrY96ZicrnJhVOjMc4cyxESSIqdADZYSC/BPidQA/gPTWNUuk8cOMcS64Cr/Np9HoVLl4ACnV4hR4UX54B7l7A0u0PcOWXKbz3WaOsFi9Mvrv8AOcPjwRxJgtlFZPATrExa6x6Ka2W/Ckm5SDfjwIb35CNdarohH+fpXWHBKc51wGbmYazccs2/N/tncU+XeqPzyo7+yIzzBYJqJhleTEXafkx6yrPi9mK6yz+Mu1/MiETfGdpaSGh5pqtH1U5x+9ojqI/T1uf9JiC4xJu9oy9/0fd/jBnlOdJJfEipgw2iBQU/IbC9CmNXJZex+vwmdDvrjrIefSJlZeUtvjmUE4606gHmBqP7fDhDmWgrW2Ejpq7bVAsygYSJPBC4ED6YHlF4ZXTAVbWqDmt+azG7HWDwRIr77H1flI9lYqLk2MBa9VaI7JYhqdVnNRuLPW7RSAPaX/XVZhfjDFxlB8c125GtFnO0SF6s3O91L9cViasywj4wShRrcbIiAL0qBWCRCIRyCn55UU2UJQeRl9fjmmLUPXT9dsEAs71VaZEekqwGQFvdHNw0EWXSCgE/xkCIE58dVEogd6etFPTr8S0fUscYlcbh2e+YLdmEu2lkNrsapkGB4SKBRdK17d2Pv5MlBGdt0ZCEHO1XwvhyqG3I2mtRa1njdUqQyq33RCzokR+TZRIPUhzQF02Npi4/yFoB7rT1iLY2BACfvGXROC6BqVBk+QgCXGX8HeCtXuXyOQyRHVd+X8TAovQRizUBv/JJAIBf0IC8VgIIp7Igkkc9sCNKYvVRnIa7KZt4soebuKk5qmA/g5GUIs/Qt4d0wXrk5GFzsOIXux5bEfNzlWIEKkcsX/7F0mI/H9gc5MUAAAAAElFTkSuQmCC",iconSize:[t]})),children:Object(q.jsx)(Ir.a,{children:e.name})});var t}))]})},Lr=n(465),Br=n.n(Lr),Dr=0,Er=Object(L.a)((function(e){var t;return{paper:{marginBottom:e.spacing(Dr/10+20),display:"flex",minHeight:"53vh",flexDirection:"column",alignItems:"center"},Container:{opacity:.99999,zIndex:50},TheButton:(t={background:"#ffcc00",borderRadius:"30px",whiteSpace:"nowrap",fontSize:"".concat(32,"px"),outline:"none",border:"none",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",padding:"4px 38px",fontFamily:"lucida grande"},Object(ur.a)(t,"fontSize","".concat(20,"px}")),Object(ur.a)(t,"transition","all 0.2s ease-in-out"),t),bTStyled:{color:"#4d2800",fontFamily:"lucida grande"},hTStyled:{fontFamily:"lucida grande",fontStyle:"italic",fontWeight:"bold"}}}));var Hr=function(e){var t,n,r,a,s,o,l,u,d,j,h,f,x,O,m,v,g,A,y,S,k,C,I=Object(i.useState)(!1),L=Object(b.a)(I,2),E=(L[0],L[1],Er()),H=Object(p.f)(),P=Object(i.useState)(e.score),T=Object(b.a)(P,2),U=T[0],R=T[1],W=Object(i.useState)(e.qNum),F=Object(b.a)(W,2),Q=F[0],G=F[1],M=Object(i.useState)(e.prevAnswer),K=Object(b.a)(M,2),X=K[0],J=K[1],Y=Object(i.useState)({score:U,qNum:Q-1,flag:!0,prevAnswer:e.prevAnswer,treasureHuntID:e.treasureHuntID}),V=Object(b.a)(Y,2),Z=V[0],_=V[1],$=c.a.useState(!1),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],re=c.a.useState("paper"),ae=Object(b.a)(re,2),ie=ae[0],ce=ae[1],se=function(){ne(!1)};console.log("tttt",U<=Math.round((null===(t=ue)||void 0===t?void 0:t.gameList.length)/3)&&!U>Math.round(2*(null===(n=ue)||void 0===n?void 0:n.gameList.length)/3));var oe=c.a.useRef(null);c.a.useEffect((function(){if(te){var e=oe.current;null!==e&&e.focus()}}),[te]);var le,ue=e.treasureHunt,de=e.userObs,je=de.userInfo;function be(e){var t,n,r,a,i;return e<=Math.round((null===(t=ue)||void 0===t?void 0:t.gameList.length)/3)&&e<Math.round(2*(null===(n=ue)||void 0===n?void 0:n.gameList.length)/3)?"\ud83d\ude3f \u05dc\u05d0 \u05e0\u05d5\u05e8\u05d0":e>=Math.round(2*(null===(r=ue)||void 0===r?void 0:r.gameList.length)/3)&&e<Math.round(null===(a=ue)||void 0===a?void 0:a.gameList.length)?"\ud83c\udfc6 \u05db\u05dc \u05d4\u05db\u05d1\u05d5\u05d3":e===Math.round(null===(i=ue)||void 0===i?void 0:i.gameList.length)?"\u05d5\u05d0\u05d5!!! \u05de\u05e2\u05d5\u05dc\u05d4 \ud83d\udc51":null}var he=Object(i.useState)(be(U)?Object(q.jsx)(xr.a,{item:!0,sx:{bgcolor:"\ud83d\ude3f \u05dc\u05d0 \u05e0\u05d5\u05e8\u05d0"===be(U)?"#9e9e9e":"success.main",borderRadius:"3px"},children:Object(q.jsx)(z.a,{className:E.bTStyled,component:"h6",variant:"h6",style:{fontSize:"".concat(21,"px")},children:be(U)})}):null),pe=Object(b.a)(he,2),fe=pe[0];pe[1],Object(i.useEffect)((function(){var t;void 0===(ue=e.treasureHunt)||ue||(G(Q>0||Q<(null===(t=ue)||void 0===t?void 0:t.gameList.length)?Q:0),le=ue.gameList.length,_({score:U,qNum:Q-1,flag:!0,prevAnswer:e.prevAnswer,treasureHuntID:e.treasureHuntID}))}),[e.treasureHunt]),Object(i.useEffect)((function(){var t,n,r,a,i,c,s,o,l;Dr=(null===(t=ue)||void 0===t||null===(n=t.gameList[Q])||void 0===n?void 0:n.nextclue.length)?(null===(r=ue)||void 0===r||null===(a=r.gameList[Q])||void 0===a?void 0:a.nextclue.length)/45:0,void 0!==(null===(c=je=null===e||void 0===e||null===(i=e.userObs)||void 0===i?void 0:i.userInfo)||void 0===c||null===(s=c.playedGames)||void 0===s?void 0:s["".concat(e.treasureHuntID)])&&(null===(o=je)||void 0===o||null===(l=o.playedGames)||void 0===l?void 0:l["".concat(e.treasureHuntID)])&&(R(e.score),G(e.qNum),J(e.prevAnswer),_({score:U,qNum:Q-1,flag:!0,prevAnswer:e.prevAnswer,treasureHuntID:e.treasureHuntID}),ge(!1)),e.isJustAnswerd&&(null===Z||void 0===Z?void 0:Z.qNum)>=0&&je&&ue&&de.updateUserGameProgress(je,Z,ue,le,ve)}),[e.userObs.userInfo,e.treasureHuntID]);var xe,Oe=Object(i.useState)(e.boolStartGame),me=Object(b.a)(Oe,2),ve=me[0],ge=me[1],Ae=X?Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(D.a,{severity:"success",children:"\u05ea\u05e9\u05d5\u05d1\u05ea\u05da \u05e0\u05db\u05d5\u05e0\u05d4"})}):Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(D.a,{severity:"error",children:"\u05ea\u05e9\u05d5\u05d1\u05ea\u05da \u05e9\u05d2\u05d5\u05d9\u05d4"})}),ye=Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(N.a,{container:!0,spacing:2,children:Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsx)("br",{}),Object(q.jsx)("button",{type:"button",className:"fancy-btn",style:{background:"#3B2A1A",color:"#fff",borderRadius:"50px",padding:"14px 40px"},onClick:function(){je&&ue&&de.setUserGameProgress(je,ue,le,ve,e.treasureHuntID),ge(!1),H.push({pathname:"/treasureHunt/".concat(e.treasureHuntID),state:{score:0,qNum:1,flag:!0,boolStartGame:!1}})},children:"\u05d4\u05ea\u05d7\u05dc \u05de\u05e9\u05d7\u05e7"})]})})});return Object(q.jsx)(q.Fragment,{children:void 0!==ue?Object(q.jsxs)(B.a,{className:E.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(br,{size:Dr,children:Object(q.jsx)(hr,{size:Dr,img:ue.imageURL?ue.imageURL:jr})}),ue&&(null===(r=ue)||void 0===r||null===(a=r.gameList[Q-1])||void 0===a?void 0:a.pointIntrest)&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(wt.a,{type:"button",size:"small",variant:"outlined",style:{justifyContent:"left",alignItems:"left",marginTop:"15px",color:"#4d2800",borderRadius:"50px",maxWidth:"210px"},onClick:function(){var t,n,r,a=null===(t=ue)||void 0===t||null===(n=t.gameList[Q-1])||void 0===n||null===(r=n.pointIntrest)||void 0===r?void 0:r.barcode.split("/"),i=a.length;H.push({pathname:"/intrestPointInfoPage/".concat(a[i-2],"/").concat(a[i-1]),state:{treasureHuntID:e.treasureHuntID}})},children:["\u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05ea\u05d7\u05e0\u05d4 ",null===(s=ue)||void 0===s||null===(o=s.gameList[Q-1])||void 0===o||null===(l=o.pointIntrest)||void 0===l?void 0:l.placeName]}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{})]}),Object(q.jsxs)(mr.a,{open:te,onClose:se,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",minHeight:"300px",minWidth:"300px",children:[Object(q.jsx)(yr.a,{id:"scroll-dialog-title",dir:"rtl",children:"\u05de\u05e4\u05ea \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsx)(gr.a,{dividers:"paper"===ie,children:Object(q.jsx)(Ar.a,{id:"scroll-dialog-description",ref:oe,children:(null===(u=ue)||void 0===u?void 0:u.gameList)&&Object(q.jsx)(zr,{gameList:null===(d=ue)||void 0===d?void 0:d.gameList,pointIntrest:null===(j=ue)||void 0===j||null===(h=j.gameList[Q])||void 0===h?void 0:h.pointIntrest})})}),Object(q.jsx)(vr.a,{children:Object(q.jsx)(wt.a,{onClick:se,children:"\u05d7\u05d6\u05e8\u05d4"})})]}),Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsx)(z.a,{className:E.hTStyled,component:"h3",variant:"h3",style:{color:"#663300",alignItems:"center",fontSize:"".concat(32,"px")},children:"\u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df:"}),Object(q.jsx)(z.a,{className:E.hTStyled,component:"h3",variant:"h3",style:{color:"#b35900",alignItems:"center",marginTop:"20px",fontSize:"".concat(27,"px")},children:null===(f=ue)||void 0===f?void 0:f.quizName}),0===Q&&ve?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(z.a,{className:E.bTStyled,component:"h6",variant:"h6",style:{fontSize:"".concat(21,"px"),textDecoration:"underline"},children:"\u05e0\u05db\u05ea\u05d1 \u05e2\u05f4\u05d9: "+(null===(x=ue)||void 0===x?void 0:x.authorName)}),Object(q.jsx)(z.a,{className:E.bTStyled,component:"h5",variant:"h5",style:{fontSize:"".concat(17,"px")},children:null===(O=ue)||void 0===O?void 0:O.description})]}):null]}),Object(q.jsx)(w.a,{}),Object(q.jsx)("div",{className:E.paper,children:0===Q&&ve?ye:Object(q.jsxs)(N.a,{container:!0,spacing:2,alignContent:"center",alignitem:"center",justifyContent:"center",children:[Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsx)("label",{className:E.bTStyled,style:{fontSize:"".concat(20,"px")},children:"\u05de\u05e1\u05e4\u05e8 \u05d4\u05ea\u05d7\u05e0\u05d5\u05ea \u05e9\u05e2\u05d1\u05e8\u05ea \u05d4\u05d5\u05d0: "+(null===(m=e.treasureHunt)||void 0===m?void 0:m.gameList.length)+" / "+Q}),Object(q.jsx)("br",{}),Object(q.jsx)("label",{className:E.bTStyled,style:{fontSize:"".concat(17,"px")},children:"\u05d4\u05e0\u05d9\u05e7\u05d5\u05d3 \u05e9\u05dc\u05da: "+U}),0===Q?null:Ae]}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)("div",{children:Q<(null===(v=ue)||void 0===v?void 0:v.gameList.length)?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("p",{className:E.bTStyled,style:{fontSize:"".concat(22,"px"),textDecoration:"underline"},children:["\u05d4\u05e8\u05de\u05d6 \u05dc\u05ea\u05d7\u05e0\u05d4 \u05d4\u05d1\u05d0\u05d4:",Object(q.jsx)(dr.a,{onClick:(xe="body",function(){ne(!0),ce(xe)}),children:Object(q.jsx)(Br.a,{style:{width:"45px",height:"45px"}})})]}),Object(q.jsx)("p",{className:E.bTStyled,style:{fontSize:"".concat(17,"px")},children:null===(g=ue)||void 0===g?void 0:g.gameList[Q].nextclue})]}):null})}),ue&&Q<(null===(A=ue)||void 0===A?void 0:A.gameList.length)?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)("h5",{className:E.bTStyled,style:{fontSize:"".concat(20,"px")},children:"\u05e1\u05e8\u05d5\u05e7 \u05d0\u05ea \u05d4\u05ea\u05d7\u05e0\u05d4 \u05d4\u05d1\u05d0\u05d4:"})}),Object(q.jsx)(N.a,{item:!0,xs:8,children:Object(q.jsx)(Or,{infoInizialize:null===(y=ue)||void 0===y?void 0:y.gameList[Q].qrURL,totalQuestions:null===(S=ue)||void 0===S?void 0:S.gameList.length,isURL:!0,parameters:Z,isInGameMode:!0,dataQuestions:null===(k=ue)||void 0===k?void 0:k.gameList[Q]})})]}):null,ue&&Q<(null===(C=ue)||void 0===C?void 0:C.gameList.length)?null:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(N.a,{item:!0,xs:6,style:{justifyContent:"center"},children:fe}),Object(q.jsx)(N.a,{item:!0,xs:7}),Object(q.jsx)("button",{type:"button",className:"fancy-btn",style:{background:"#3B2A1A",color:"#fff",borderRadius:"50px",padding:"14px 40px",marginTop:"5px"},onClick:function(){H.push("/treasureHuntSearch")},children:"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"})]})]})})]}):null})},Pr=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),qr=Object(de.a)({direction:"rtl"});var Tr,Ur=function(e){var t,n,r,a,c,s,o,l,u,h,f,x,O,m=Object(i.useState)(void 0),v=Object(b.a)(m,2),g=(v[0],v[1]),A=Object(p.h)().treasureHuntID,y=Object(i.useState)(void 0),w=Object(b.a)(y,2),S=w[0],k=w[1],N=0,C=0,I=null,z=null;if(void 0===(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.state)||(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(r=n.state)||void 0===r?void 0:r.fromCards)){if(void 0===(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.state)&&(null===(c=e.userObs)||void 0===c||null===(s=c.userInfo)||void 0===s||null===(o=s.playedGames)||void 0===o?void 0:o["".concat(A)])){var L,B,D,E,H,P,T,U;N=null===(L=e.userObs.userInfo)||void 0===L||null===(B=L.playedGames["".concat(A)])||void 0===B?void 0:B.score,C=null===(D=e.userObs.userInfo)||void 0===D||null===(E=D.playedGames["".concat(A)])||void 0===E?void 0:E.qNum,I=null===(H=e.userObs.userInfo)||void 0===H||null===(P=H.playedGames["".concat(A)])||void 0===P?void 0:P.prevAnswer,z=null===(T=e.userObs.userInfo)||void 0===T||null===(U=T.playedGames["".concat(A)])||void 0===U?void 0:U.isJustAnswerd}else if((null===e||void 0===e||null===(l=e.location)||void 0===l||null===(u=l.state)||void 0===u?void 0:u.fromCards)&&(null===(h=e.userObs)||void 0===h||null===(f=h.userInfo)||void 0===f||null===(x=f.playedGames)||void 0===x?void 0:x["".concat(A)])){var W,F,Q,G,M,K,X,J;N=null===(W=e.userObs.userInfo)||void 0===W||null===(F=W.playedGames["".concat(A)])||void 0===F?void 0:F.score,C=null===(Q=e.userObs.userInfo)||void 0===Q||null===(G=Q.playedGames["".concat(A)])||void 0===G?void 0:G.qNum,I=null===(M=e.userObs.userInfo)||void 0===M||null===(K=M.playedGames["".concat(A)])||void 0===K?void 0:K.prevAnswer,z=null===(X=e.userObs.userInfo)||void 0===X||null===(J=X.playedGames["".concat(A)])||void 0===J?void 0:J.isJustAnswerd}}else N=e.location.state.score,C=e.location.state.qNum,I=e.location.state.prevAnswer,z=e.location.state.isJustAnswerd;Object(i.useEffect)(Object(j.a)(d.a.mark((function t(){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g({}),e.treasureHunt&&!(null===e||void 0===e||null===(n=e.location)||void 0===n||null===(r=n.state)||void 0===r?void 0:r.fromCards)){t.next=10;break}return t.prev=2,t.next=5,e.inTreasureHuntObs.initTreasureHunt(A).then((function(){g(e.inTreasureHuntObs.getTreasureHunt),k(!0),console.log("page treasureHunt",e.inTreasureHuntObs.getTreasureHunt)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])}))),[]);var Y=Object(i.useState)(!1),V=Object(b.a)(Y,2);return V[0],V[1],Object(q.jsxs)("div",{id:"cluePageStyle",children:[Object(q.jsx)(he.b,{jss:Pr,children:Object(q.jsxs)(pe.a,{theme:qr,children:[Object(q.jsx)(je,{}),Object(q.jsx)(R,{children:null!==(null===e||void 0===e||null===(O=e.inTreasureHuntObs)||void 0===O?void 0:O.getTreasureHunt)&&!0===S?Object(q.jsx)(Hr,{qNum:C,score:N,flag:!1,prevAnswer:I,boolStartGame:!0,userObs:e.userObs,treasureHunt:e.inTreasureHuntObs.getTreasureHunt,treasureHuntID:A,isJustAnswerd:z}):null})]})}),","]})},Rr=n(809),Wr=Object(m.a)(h.b)(Tr||(Tr=Object(O.a)(["\nborder-radius: 50px; \nbackground: ",";\nwhite-space: nowrap;\npadding: ",";\ncolor: ",";\nfont-size: ",";\noutline: none;\nfont-weight: bold;\nborder:none;\ncursor: pointer;\ndisplay:flex;\njustify-content:center;\nalign-items: center;\ntransition: all 0.2s ease-in-out;\n\n&:hover{\n    transition: all 0.2s ease-in-out;\n    background: ",";\n    color: #FE9A0F;\n    font-weight: bold;\n}\n"])),(function(e){e.primary;return"#C8B394"}),(function(e){return e.big?"14px 48px":"12px 30px"}),(function(e){return e.dark?"#3B2A19":"#fff"}),(function(e){return e.fontBig?"20px":"16px"}),(function(e){return e.primary?"#3B2A1A":"#F3F2C9"})),Fr=n(811),Qr=n(777),Gr=n(795),Mr=n(778),Kr=n(810),Xr=n(474),Jr=n(793),Yr=n.p+"static/media/gil.a3caac94.jpeg",Vr=n.p+"static/media/ido.8b5c2b3e.JPG",Zr=n.p+"static/media/maria.c1b7a090.jpeg",_r=Object(Xr.a)();function $r(e){e.preventDefault(),window.open("http://alma.haifa.ac.il","_blank")}var ea=function(){var e=Object(p.f)();return Object(q.jsxs)(Jr.a,{theme:_r,children:[Object(q.jsx)(Qr.a,{}),Object(q.jsx)(Rr.a,{position:"relative"}),Object(q.jsxs)("main",{children:[Object(q.jsx)(Nt.a,{sx:{bgcolor:" #3B2A1A",pt:1,pb:4},children:Object(q.jsxs)(Kr.a,{maxWidth:"sm",children:[Object(q.jsx)(Lt.a,{component:"h2",variant:"h3",align:"center",color:"#b36b00",fontWeight:"bold",gutterBottom:!0,children:"\u05e2\u05dc\u05de\u05d0"}),Object(q.jsx)(Lt.a,{variant:"h6",align:"center",color:"#e0c19e",fontWeight:"bold",paragraph:!0,children:'\u05e2\u05dc\u05de\u05d0 \u05d4\u05d5\u05d0 \u05db\u05dc\u05d9 \u05d3\u05d9\u05d2\u05d8\u05d0\u05dc\u05d9 \u05d4\u05db\u05d5\u05dc\u05dc \u05d0\u05ea \u05db\u05dc\u05dc \u05d4\u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d9\u05d4\u05d3\u05d5\u05ea \u05d4\u05e2\u05d5\u05dc\u05dd \u05d4\u05e2\u05ea\u05d9\u05e7 \u05dc\u05e4\u05d9 \u05d0\u05ea\u05e8\u05d9\u05dd. \u05d4\u05db\u05dc\u05d9 \u05d4\u05e4\u05d5\u05e2\u05dc \u05e2\u05dc \u05ea\u05e9\u05ea\u05d9\u05ea GIS  \u05de\u05d0\u05e4\u05e9\u05e8 \u05d4\u05e9\u05d5\u05d5\u05d0\u05d4 \u05d1\u05d9\u05df \u05d4\u05de\u05e4\u05d5\u05ea \u05d4\u05e2\u05d5\u05dc\u05d5\u05ea \u05de\u05d7\u05d9\u05d1\u05d5\u05e8\u05d9\u05dd \u05d5\u05e7\u05d5\u05e8\u05e4\u05d5\u05e1\u05d9\u05dd \u05e9\u05d5\u05e0\u05d9\u05dd. \u05e2\u05d3 \u05db\u05d4 \u05de\u05db\u05d9\u05dc \u05d4\u05db\u05dc\u05d9 \u05d0\u05ea \u05db\u05dc\u05dc \u05e1\u05e4\u05e8\u05d5\u05ea \u05d7\u05d6"\u05dc. \u05d1\u05d0\u05ea\u05e8 \u05de\u05e6\u05d5\u05d9\u05d9\u05dd \u05e7\u05d9\u05e9\u05d5\u05e8\u05d9\u05dd \u05dc\u05d8\u05e7\u05e1\u05d8\u05d9\u05dd \u05d5\u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05e8\u05db\u05d9\u05d1 \u05de\u05e4\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea \u05d5\u05d4\u05e9\u05d5\u05d5\u05d0\u05ea\u05d9\u05d5\u05ea \u05d1\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8\u05d9\u05dd \u05e8\u05d0\u05e9\u05d9\u05d9\u05dd \u05db\u05de\u05d5 \u05de\u05e9\u05e0\u05d4, \u05de\u05d3\u05e8\u05e9\u05d9 \u05d4\u05dc\u05db\u05d4,\u05de\u05d3\u05e8\u05e9\u05d9 \u05d0\u05d2\u05d3\u05d4 \u05d5\u05ea\u05dc\u05de\u05d5\u05d3 \u05d5\u05db\u05df \u05d1\u05d9\u05df \u05de\u05e1\u05db\u05ea\u05d5\u05ea \u05e9\u05d5\u05e0\u05d5\u05ea. \u05d1\u05d9\u05de\u05d9\u05dd \u05d0\u05dc\u05d5 \u05d0\u05e0\u05d5 \u05de\u05e9\u05dc\u05d9\u05de\u05d9\u05dd \u05d0\u05ea \u05d4\u05db\u05dc\u05dc\u05ea \u05d4\u05de\u05de\u05e6\u05d0 \u05d4\u05d0\u05e8\u05db\u05d9\u05d0\u05d5\u05dc\u05d5\u05d2\u05d9 \u05e9\u05d9\u05e9 \u05dc\u05d5 \u05d6\u05d9\u05e7\u05d4 \u05dc\u05d9\u05d4\u05d5\u05d3\u05d9\u05dd, \u05db\u05de\u05d5 \u05d2\u05dd \u05d0\u05ea \u05d4\u05e1\u05e4\u05e8\u05d5\u05ea \u05d4\u05e8\u05d5\u05de\u05d9\u05ea \u05d1\u05d9\u05d6\u05e0\u05d8\u05d9\u05ea'}),Object(q.jsx)(Mr.a,{sx:{pt:2},direction:"row",spacing:2,justifyContent:"center",children:Object(q.jsx)(Wr,{variant:"contained",onClick:$r,children:"\u05dc\u05d0\u05ea\u05e8 \u05f4\u05e2\u05dc\u05de\u05d0\u05f4"})})]})}),Object(q.jsxs)(Kr.a,{sx:{py:5},maxWidth:"md",children:[Object(q.jsx)(Lt.a,{component:"h2",variant:"h3",align:"center",color:"#b36b00",fontWeight:"bold",gutterBottom:!0,style:{direction:"rtl"},children:"\u05e6\u05d5\u05d5\u05ea \u05e4\u05d9\u05ea\u05d5\u05d7 \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsxs)(Gr.a,{container:!0,spacing:4,children:[Object(q.jsx)(Gr.a,{item:!0,xs:13,sm:6,md:4,children:Object(q.jsxs)(Ct.a,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:" #3B2A1A"},children:[Object(q.jsx)(zt.a,{component:"img",sx:{pt:"0.1%"},style:{height:"26vh"},image:Yr,alt:"random"}),Object(q.jsxs)(It.a,{sx:{flexGrow:1},children:[Object(q.jsx)(Lt.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{direction:"rtl",color:"#e0c19e",fontWeight:"bold"},children:"\u05d2\u05d9\u05dc \u05e1\u05dc\u05de\u05e0\u05d3\u05e8"}),Object(q.jsxs)(Lt.a,{style:{direction:"rtl",color:"#ffc266"},children:["\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8\u05d9\u05ea \u05d1\u05d7\u05d5\u05d2 \u05dc\u05de\u05e2\u05e8\u05db\u05d5\u05ea \u05de\u05d9\u05d3\u05e2 \u05d5\u05e7\u05d5\u05d2\u05e0\u05d9\u05e6\u05d9\u05d4",Object(q.jsx)("br",{}),"\u05d0\u05d5\u05e0\u05d9\u05d1\u05e8\u05e1\u05d9\u05d8\u05ea \u05d7\u05d9\u05e4\u05d4"]})]}),Object(q.jsx)(Fr.a,{})]})}),Object(q.jsx)(Gr.a,{item:!0,xs:13,sm:6,md:4,children:Object(q.jsxs)(Ct.a,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:" #3B2A1A"},children:[Object(q.jsx)(zt.a,{component:"img",sx:{pt:"0.1%"},style:{height:"26vh"},image:Vr,alt:"random"}),Object(q.jsxs)(It.a,{sx:{flexGrow:1},children:[Object(q.jsx)(Lt.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{direction:"rtl",color:"#e0c19e",fontWeight:"bold"},children:"\u05e2\u05d9\u05d3\u05d5 \u05e8\u05d5\u05dd"}),Object(q.jsxs)(Lt.a,{style:{direction:"rtl",color:"#ffc266"},children:["\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8 \u05d1\u05d7\u05d5\u05d2 \u05dc\u05de\u05e2\u05e8\u05db\u05d5\u05ea \u05de\u05d9\u05d3\u05e2 \u05d5\u05dc\u05d9\u05de\u05d5\u05d3\u05d9 \u05d0\u05e1\u05d9\u05d4",Object(q.jsx)("br",{}),"\u05d0\u05d5\u05e0\u05d9\u05d1\u05e8\u05e1\u05d9\u05d8\u05ea \u05d7\u05d9\u05e4\u05d4"]})]}),Object(q.jsx)(Fr.a,{})]})}),Object(q.jsx)(Gr.a,{item:!0,xs:13,sm:6,md:4,children:Object(q.jsxs)(Ct.a,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:" #3B2A1A"},children:[Object(q.jsx)(zt.a,{component:"img",sx:{pt:"0.1%"},style:{height:"26vh"},image:Zr,alt:"random"}),Object(q.jsxs)(It.a,{sx:{flexGrow:1},children:[Object(q.jsx)(Lt.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{direction:"rtl",color:"#e0c19e",fontWeight:"bold"},children:"\u05de\u05e8\u05d9\u05d4 \u05e0\u05d3\u05d0\u05e3"}),Object(q.jsxs)(Lt.a,{style:{direction:"rtl",color:"#ffc266"},children:["\u05e2\u05ea\u05d5\u05d3\u05d0\u05d9\u05ea \u05d1\u05d7\u05d5\u05d2 \u05dc\u05de\u05e2\u05e8\u05db\u05d5\u05ea \u05de\u05d9\u05d3\u05e2",Object(q.jsx)("br",{}),"\u05d0\u05d5\u05e0\u05d9\u05d1\u05e8\u05e1\u05d9\u05d8\u05ea \u05d7\u05d9\u05e4\u05d4"]})]}),Object(q.jsx)(Fr.a,{})]})})]}),Object(q.jsx)("div",{children:Object(q.jsx)(Wr,{size:"small",onClick:e.goBack,style:{position:"absolute",marginTop:"10px",marginBottom:"20px",height:"20px",width:"40px"},children:"\u05d7\u05d6\u05d5\u05e8 \u21a9\ufe0e"})})]})]})]})},ta=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),na=Object(de.a)({direction:"rtl"});var ra,aa=function(){var e=Object(i.useState)(!1),t=Object(b.a)(e,2);return t[0],t[1],Object(q.jsx)("div",{children:Object(q.jsx)(he.b,{jss:ta,children:Object(q.jsxs)(pe.a,{theme:na,children:[Object(q.jsx)(je,{}),Object(q.jsx)(ea,{})]})})})},ia=n(466),ca=n.n(ia);function sa(){return ra}n.e(0).then(n.t.bind(null,820,7));var oa=Object(L.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},form:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},input:{fontSize:15},large:{width:"150px",height:"150px",border:"4px solid #4E3620"}}})),la=He()((function(e){return{root:{width:22,height:22,padding:15,border:"2px solid #4E3620"}}}))(Pe.a),ua=function(e){var t=c.a.useState(""),n=Object(b.a)(t,2),r=n[0],a=n[1],s=(Re()(),oa()),o=Object(i.useRef)(),l=e.handleChangeImage,u=e.avatarImage;Object(i.useEffect)((function(){return!r&&u&&a(URL.createObjectURL(u)),function(){r&&URL.revokeObjectURL(r)}}),[r,u]),Object(i.useEffect)((function(){console.log(u),r&&!u&&a("")}),[u]);return Object(q.jsx)(Be.a,{"data-testid":"image-upload",children:Object(q.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px 10px",color:"#B05E27"},children:Object(q.jsxs)("div",{className:s.root,children:[Object(q.jsx)(De.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"left"},badgeContent:Object(q.jsx)(la,{onClick:function(){o.current.click()},style:{background:"#FFE268",color:"#4E3620"},children:Object(q.jsx)(Te.a,{})}),children:r?Object(q.jsx)("div",{alt:"avatar",className:s.large,width:"193",height:"130",children:Object(q.jsx)("img",{src:r})}):Object(q.jsx)("div",{children:Object(q.jsx)(ca.a,{className:s.large})})}),Object(q.jsx)("input",{ref:o,type:"file",style:{display:"none"},accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&(ra=e.target.files[0],function(e){e.image().then((function(t){var n=document.createElement("canvas"),i=n.getContext("2d"),c=Math.min(150/t.width,150/t.height),s=t.width*c+.5|0,o=t.height*c+.5|0;n.width=s,n.height=o,i.drawImage(t,0,0,s,o),n.toBlob((function(t){var n=new File([t],r.name,e);a(URL.createObjectURL(n)),l(n)}))}))}(t))}})]})})})},da=n.p+"static/media/treasureBack.1f18cfda.png",ja=n(231),ba=n(262),ha=n(88),pa=function(e){e.size&&e.size;var t=Object(i.useState)(),n=Object(b.a)(t,2),r=n[0],a=n[1];function c(t,n){var r=this;e.gameList.splice(t,1),a(e.gameList&&e.gameList.map((function(e,t){return Object(q.jsxs)(ha.a,{onClose:function(){c(t,r)},show:!0,children:[Object(q.jsx)(ha.a.Header,{children:Object(q.jsxs)("strong",{className:"me-auto",dir:"rlt",children:[" ",e.pointIntrest.placeName," "]})}),Object(q.jsxs)(ha.a.Body,{children:["\u05e8\u05de\u05d6: ",e.nextclue]}),Object(q.jsxs)(ha.a.Body,{children:["\u05e9\u05d0\u05dc\u05d4: ",e.question]})]},t)}))),e.canSave()}return Object(i.useEffect)((function(){a(e.gameList&&e.gameList.map((function(e,t){return Object(q.jsxs)(ha.a,{onClose:function(){c(t)},show:!0,children:[Object(q.jsx)(ha.a.Header,{children:Object(q.jsxs)("strong",{className:"me-auto",dir:"rlt",children:[" ",e.pointIntrest.placeName," "]})}),Object(q.jsxs)(ha.a.Body,{children:["\u05e8\u05de\u05d6: ",e.nextclue]}),Object(q.jsxs)(ha.a.Body,{children:["\u05e9\u05d0\u05dc\u05d4: ",e.question]})]},t)})))}),[e.gameList]),Object(q.jsx)(q.Fragment,{children:r})},fa=n(812),xa=Q.b().shape({quizName:Q.d().required("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),description:Q.d().min(8).required("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")}),Oa=function(e){var t,n,r,a=e.store,s=e.user,o=Object(i.useState)([]),u=Object(b.a)(o,2),h=u[0],x=u[1],O=Object(i.useState)([]),m=Object(b.a)(O,2),v=m[0],g=m[1],A=Object(i.useState)([]),y=Object(b.a)(A,2),w=y[0],k=y[1],C=Object(i.useState)([]),I=Object(b.a)(C,2),H=I[0],T=I[1],U=Object(i.useState)(!1),R=Object(b.a)(U,2),Q=R[0],G=R[1],M=Object(i.useState)(),K=Object(b.a)(M,2),X=K[0],J=K[1],Y=a.siteObs,V=a.subSiteObs,Z=a.clueObs,_=a.questionObs;Object(i.useEffect)((function(){x([]),Y.initSites().then((function(){x(Y.SitesList)}))}),[]);var $=Object(L.a)((function(e){return{root:{whiteSpace:"unset",wordBreak:"break-all",justifyContent:"flex-end"},Container:{opacity:.99999,zIndex:5,backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"".concat(100*X,"%"),minHeight:"100vh",backgroundImage:"url(".concat(da,")"),marginBottom:{totalSize:X}+30,"& .MuiInputLabel-root":{color:"black"}}}}))();Object(i.useEffect)((function(){J(ze.length?ze.length+30:1)}),[ze]);var ee=Object(i.useState)(),te=Object(b.a)(ee,2),ne=te[0],re=te[1],ae=Object(i.useState)(!1),ie=Object(b.a)(ae,2),ce=ie[0],se=ie[1],oe=Object(i.useState)(""),le=Object(b.a)(oe,2),ue=le[0],de=le[1],je=Object(i.useState)(""),be=Object(b.a)(je,2),he=be[0],pe=be[1],fe=Object(W.d)({resolver:Object(F.a)(xa)}),xe=fe.register,Oe=fe.handleSubmit,me=fe.formState.errors,ve=fe.reset;function ge(){return(ge=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(r=P.ref("TreasureHuntImages/".concat(n,"/").concat(t.name)).put(t)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case E.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case E.a.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log(e)}),(function(){r.snapshot.ref.getDownloadURL().then((function(e){try{E.a.firestore().collection("TreasureHunt").doc(n).update({imageURL:e}).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve(),Le([]),pe("\u05de\u05e9\u05d7\u05e7 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),Xe(),Qe(),k([]),T([]),He(""),Ue(""),re(),G(!1),ke(!1),it(null),Ne.push("/addQuiz");case 14:case"end":return e.stop()}}),e)}))))}catch(t){de("\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05de\u05d5\u05e0\u05d4 \u05dc\u05de\u05e9\u05d7\u05e7 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df \u05e0\u05db\u05e9\u05dc\u05d4"),Ne.push("/addQuiz"),ke(!1)}}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return!!e}var ye=Object(i.useState)(!1),we=Object(b.a)(ye,2),Se=we[0],ke=we[1],Ne=Object(p.f)(),Ce=Object(i.useState)([]),Ie=Object(b.a)(Ce,2),ze=Ie[0],Le=Ie[1],Be=c.a.useState(" "),De=Object(b.a)(Be,2),Ee=De[0],He=De[1],Pe=c.a.useState(" "),qe=Object(b.a)(Pe,2),Te=qe[0],Ue=qe[1],Re=c.a.useState(),We=Object(b.a)(Re,2),Fe=We[0],Qe=We[1],Ge=c.a.useState(),Me=Object(b.a)(Ge,2),Ke=Me[0],Xe=Me[1],Je=c.a.useState(!0),Ye=Object(b.a)(Je,2),Ve=Ye[0],Ze=Ye[1],_e=c.a.useState(!0),$e=Object(b.a)(_e,2),et=$e[0],tt=$e[1],nt=Object(i.useState)(null),rt=Object(b.a)(nt,2),at=rt[0],it=rt[1];function ct(e){ze.length>=("a"===e?2:3)?it(Object(q.jsx)(ja.a,{type:"submit",color:"primary",variant:"Light",disabled:Se,children:"\u05e1\u05d9\u05d5\u05dd \u2b05"})):it(null),G((null===ze||void 0===ze?void 0:ze.length)>=("a"===e?0:1))}return Object(q.jsxs)(B.a,{className:$.Container,component:"main",maxWidth:"xl",dir:"rtl",children:[Object(q.jsx)(ja.a,{variant:"info",style:{backgroundColor:"#EF8D32",border:"#B05E27"},onClick:function(){return se(!0)},children:"\u2139 \u05d4\u05d5\u05e8\u05d0\u05d5\u05ea"}),Object(q.jsxs)(ba.a,{show:ce,onHide:function(){return se(!1)},style:{backgroundColor:"#C68B59",border:"#B05E27"},dir:"rtl",children:[Object(q.jsx)(ba.a.Header,{closeButton:!0,children:Object(q.jsx)(ba.a.Title,{children:"\u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05dc\u05d4\u05e8\u05db\u05d1\u05ea \u05d4\u05de\u05e9\u05d7\u05e7"})}),Object(q.jsxs)(ba.a.Body,{children:["1. \u05d1\u05d7\u05e8\u05d5 \u05e9\u05dd \u05dc\u05de\u05e9\u05d7\u05e7 \u05d5\u05d4\u05d5\u05e1\u05d9\u05e4\u05d5 \u05ea\u05d9\u05d0\u05d5\u05e8 \u05e7\u05e6\u05e8 \u05d0\u05d5\u05d3\u05d5\u05ea\u05d9\u05d5 (\u05e0\u05d9\u05ea\u05df \u05d2\u05dd \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05ea\u05de\u05d5\u05e0\u05d4 )",Object(q.jsx)("br",{}),"2. \u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea \u05d4\u05d0\u05ea\u05e8 \u05d1\u05d5 \u05ea\u05e8\u05e6\u05d5 \u05e9\u05d4\u05de\u05e9\u05d7\u05e7 \u05d9\u05ea\u05e0\u05d4\u05dc",Object(q.jsx)("br",{}),"3. \u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea \u05de\u05e1\u05dc\u05d5\u05dc \u05d4\u05de\u05e9\u05d7\u05e7 \u05e2\u05dc \u05d9\u05d3\u05d9 \u05d1\u05d7\u05d9\u05e8\u05ea \u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d4\u05e2\u05e0\u05d9\u05d9\u05df, \u05d4\u05e8\u05de\u05d6\u05d9\u05dd \u05d5\u05d4\u05e9\u05d0\u05dc\u05d5\u05ea \u05e9\u05d9\u05d5\u05e4\u05d9\u05e2\u05d5.",Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),"*\u05e9\u05d9\u05de\u05d5 \u05dc\u05d1-",Object(q.jsx)("br",{}),"-\u05e1\u05d3\u05e8 \u05d1\u05d7\u05d9\u05e8\u05ea \u05d4\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05d9\u05d4\u05d9\u05d4 \u05e1\u05d3\u05e8 \u05d4\u05de\u05e9\u05d7\u05e7.",Object(q.jsx)("br",{}),"-\u05d9\u05d4\u05d9\u05d4 \u05e0\u05d9\u05ea\u05df \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05de\u05e9\u05d7\u05e7 \u05d1\u05e2\u05dc \u05de\u05d9\u05e0\u05d9\u05de\u05d5\u05dd 3 \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd",Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("h3",{children:" \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!"})]})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-sm",children:Object(q.jsxs)("form",{onSubmit:Oe((function(e){if(!0!==Se){ke(!0),de(""),pe("");var t=sa();console.log({description:e.description,treasureHuntLikesNum:0,quizName:e.quizName,authorName:s.firstName+" "+s.lastName,gameList:ze,isApproved:!1});try{E.a.firestore().collection("TreasureHunt").add({description:e.description,treasureHuntLikesNum:0,siteName:Ee.siteName,quizName:e.quizName,authorName:s.firstName+" "+s.lastName,gameList:ze,isApproved:!1,imageURL:Ee.sitePhoto?Ee.sitePhoto:null}).then((function(e){if(null!==e.id){var n=e.id;t?function(e,t){return ge.apply(this,arguments)}(t,n).then((function(){})):(ve(),Le([]),pe("\u05de\u05e9\u05d7\u05e7 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),Xe(),Qe(),k([]),T([]),He(""),Ue(""),G(!1),ke(!1),it(null),Ne.push("/addQuiz"))}}))}catch(n){console.log(n),de(n.toString()),Ne.push("/addQuiz"),ke(!1)}}})),children:[ue&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:ue})}),he&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:he})}),Object(q.jsx)(ua,{handleChangeImage:function(e){re(e)},avatarImage:ne,isEdiable:!1}),Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({fullWidth:!0,type:"quizName"},xe("quizName")),{},{label:"\u05e9\u05dd \u05d4\u05de\u05e9\u05d7\u05e7",className:"".concat(me.quizName?"is-invalid":""),error:Ae(me.quizName),helperText:null===(t=me.quizName)||void 0===t?void 0:t.message,variant:"outlined",required:!0})),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({multiline:!0,rows:4,fullWidth:!0,type:"text",variant:"outlined",label:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d9\u05d0\u05d5\u05e8 \u05dc\u05de\u05e9\u05d7\u05e7",className:"".concat(me.quizName?"is-invalid":""),error:Ae(me.description),helperText:"description must be at least 8 characters"===(null===(n=me.description)||void 0===n?void 0:n.message)?"\u05d9\u05e9 \u05dc\u05e8\u05e9\u05d5\u05dd \u05ea\u05d9\u05d0\u05d5\u05e8 \u05e9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 4 \u05de\u05d9\u05dc\u05d9\u05dd":null===(r=me.description)||void 0===r?void 0:r.message},xe("description")),{},{required:!0})),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-location",select:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8*",value:Ee,onChange:function(e){He(e.target.value),Ze(),V.initSubSites(e.target.value.id).then((function(){g(V.subSitesList)}))},variant:"outlined",helperText:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8 \u05dc\u05de\u05e9\u05d7\u05e7 ",disabled:Q,children:h&&h.map((function(e){return Object(q.jsx)(Et.a,{value:e,style:{justifyContent:"flex-end"},children:e.siteName},e.id)}))}),at,Object(q.jsx)("br",{}),Se&&Object(q.jsx)(fa.a,{sx:{display:"flex",justifyContent:"center",color:"#3B2A1A"}})]})}),Object(q.jsxs)("div",{className:"col-sm",children:[Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-point",select:!0,required:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05de\u05d9\u05e7\u05d5\u05dd ",value:Te,onChange:function(e){Ue(e.target.value),tt(),Z.initClues(Ee.id,e.target.value.id).then((function(){var e=Z.cluesList.filter((function(e){return e.isApproved}));k(e)})),_.initQuestions(Ee.id,e.target.value.id).then((function(){var e=_.questionsList.filter((function(e){return e.isApproved}));T(e)}))},disabled:Ve,variant:"outlined",children:v&&v.map((function(e){return Object(q.jsx)(Et.a,{value:e,style:{justifyContent:"flex-end"},children:e.placeName},e.id)}))}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-clue",select:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05e8\u05de\u05d6 \u05dc\u05de\u05d9\u05e7\u05d5\u05dd ",value:Fe,onChange:function(e){Qe(e.target.value),console.log("clue:",Fe)},disabled:et,style:{maxWidth:"35vw"},multiline:!0,rows:5,variant:"outlined",children:w.map((function(e,t){return Object(q.jsx)(Et.a,{value:e,style:{justifyContent:"flex-end"},children:e.clue},e.id)}))}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-question",select:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05e9\u05d0\u05dc\u05d4 \u05dc\u05de\u05d9\u05e7\u05d5\u05dd ",value:Ke,onChange:function(e){Xe(e.target.value)},disabled:et,style:{maxWidth:"35vw"},multiline:!0,rows:5,variant:"outlined",children:H.map((function(e){return Object(q.jsx)(Et.a,{value:e,style:{justifyContent:"flex-end"},children:e.question},e.id)}))}),Object(q.jsx)("br",{}),Object(q.jsx)(ja.a,{type:"submit",onClick:function(e){if(G(!0),!Ke||!Fe)return Ke||Fe||de(" \u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e9\u05d0\u05dc\u05d4 \u05d5\u05e8\u05de\u05d6 \u05d8\u05e8\u05dd \u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d7\u05e0\u05d4"),!Ke&&Fe&&de("\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e9\u05d0\u05dc\u05d4 \u05d8\u05e8\u05dd \u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d7\u05e0\u05d4"),!Fe&&Ke&&de("\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e8\u05de\u05d6 \u05d8\u05e8\u05dd \u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d7\u05e0\u05d4"),void Ne.push("/addQuiz");de(""),ct("a"),Le((function(e){return[].concat(Object(f.a)(e),[{pointIntrest:Te,question:Ke.question,answers:Ke.answers,correct:Ke.correctAnswer,placeName:Ke.pointName,qrURL:Te.barcode,nextclue:Fe.clue}])})),Xe(),Qe(),k([]),T([]),He(Ee),Ue()},variant:"outlined",color:"primary",className:$.submit,children:"\u2795 \u05d4\u05d5\u05e1\u05e4\u05d4 \u05dc\u05de\u05e9\u05d7\u05e7"}),Object(q.jsx)(z.a,{component:"h6",variant:"h6",style:{fontSize:"12px"},children:"\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05dc\u05e4\u05d7\u05d5\u05ea 3 \u05de\u05d9\u05e7\u05d5\u05de\u05d9\u05dd \u05e2\u05dc \u05de\u05e0\u05ea \u05e9\u05d9\u05d4\u05d9\u05d4 \u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05de\u05d5\u05e8 \u05d0\u05ea \u05d4\u05de\u05e9\u05d7\u05e7"})]}),Object(q.jsxs)("div",{className:"col-sm",children:[Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),ze&&Object(q.jsx)(pa,{gameList:ze,canSave:function(){ct("d")}}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{})]})]})]})},ma=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),va=Object(de.a)({direction:"rtl"});var ga,Aa,ya=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],new Bn),a=e.user;return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(he.b,{jss:ma,children:Object(q.jsxs)(pe.a,{theme:va,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Oa,{store:r,user:a})]})})})},wa=m.a.div(ga||(ga=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\noverflow: hidden;\nz-index: -1;\n\n\n\n@media screen and (max-width: 1080px) {\n    height:","%;\n  }\n\n@media screen and (max-width: 960px){\n    height:","%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:","%;\n  }\n"])),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100})),Sa=m.a.div(Aa||(Aa=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\n: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: 1;\n"])),da,(function(e){return e.size?e.size+100:100})),ka=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(-1),display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:"#412F1D"},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function Na(e){return!!e}function Ca(e){var t,n,r,a,s,o=e.store,u=e.user,h=Q.b().shape({question:Q.d().required("\u05e9\u05d3\u05d4 \u05e9\u05d0\u05dc\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),answer1:Q.d().required("\u05e9\u05d3\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),answer2:Q.d().required("\u05e9\u05d3\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),answer3:Q.d().required("\u05e9\u05d3\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),answer4:Q.d().required("\u05e9\u05d3\u05d4 \u05ea\u05e9\u05d5\u05d1\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")}),f={resolver:Object(F.a)(h),defaultValues:{}},x=Object(W.d)(f),O=x.register,m=x.handleSubmit,v=x.formState.errors,g=x.reset,k=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),T(!0),X(""),Z(""),r=[t.answer1,t.answer2,t.answer3,t.answer4],0,C(a={answers:r,correctAnswer:0}),e.prev=8,E.a.firestore().collection("Sites").doc(ee.id).collection("subSites").doc(ae.id).collection("questions").add({question:t.question,answers:r,correctAnswer:a.correctAnswer+1,locationName:ee.siteName,pointName:ae.placeName,creator:u.firstName+" "+u.lastName,isApproved:!1}).then((function(){g({question:"",answer1:"",answer2:"",answer3:"",answer4:""}),te(""),ie(""),Le([]),T(!1),Z("\u05d4\u05e9\u05d0\u05dc\u05d4 \u05d4\u05d5\u05e1\u05e4\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),U.push("/addQuestion")})),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(8),T(!1),U.push("/addQuestion"),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[8,12]])})));return function(t,n){return e.apply(this,arguments)}}();function C(e){for(var t,n=e.answers,r=n.length;0!==r;){t=Math.floor(Math.random()*r),r--;var a=[n[t],n[r]];n[r]=a[0],n[t]=a[1],e.correctAnswer===r&&(e.correctAnswer=t),e.correctAnswer===t&&(e.correctAnswer=r)}return n}var L=Object(i.useState)(!1),H=Object(b.a)(L,2),P=H[0],T=H[1],U=Object(p.f)(),R=ka(),G=Object(i.useState)(""),M=Object(b.a)(G,2),K=M[0],X=M[1],J=Object(i.useState)(""),Y=Object(b.a)(J,2),V=Y[0],Z=Y[1],_=c.a.useState(""),$=Object(b.a)(_,2),ee=$[0],te=$[1],ne=c.a.useState(""),re=Object(b.a)(ne,2),ae=re[0],ie=re[1],ce=c.a.useState(!0),se=Object(b.a)(ce,2),oe=(se[0],se[1]),le=Object(i.useState)(),ue=Object(b.a)(le,2),de=(ue[0],ue[1]),je=Object(i.useState)(),be=Object(b.a)(je,2),he=(be[0],be[1]),pe=Object(i.useState)(),fe=Object(b.a)(pe,2),xe=(fe[0],fe[1]),Oe=Object(i.useState)(),me=Object(b.a)(Oe,2),ve=(me[0],me[1]),ge=Object(i.useState)(),Ae=Object(b.a)(ge,2),ye=(Ae[0],Ae[1]),we=Object(i.useState)([]),Se=Object(b.a)(we,2),ke=Se[0],Ne=Se[1],Ce=Object(i.useState)([]),Ie=Object(b.a)(Ce,2),ze=Ie[0],Le=Ie[1],Be=o.siteObs,De=o.subSiteObs;return Object(i.useEffect)((function(){Ne([]),Be.initSites().then((function(){Ne(Be.SitesList)}))}),[]),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:R.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(wa,{size:0,children:Object(q.jsx)(Sa,{size:0})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:R.paper,children:[Object(q.jsx)(A.a,{className:R.avatar,children:Object(q.jsx)(I.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e9\u05d0\u05dc\u05d4 \u05dc\u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"}),P&&Object(q.jsx)(fa.a,{sx:{display:"flex",justifyContent:"center",color:"#3B2A1A"}}),Object(q.jsxs)("form",{className:R.form,onSubmit:m(k),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[K&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:K})}),V&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:V})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-location",select:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8*",value:ee,onChange:function(e){De.initSubSites(e.target.value.id).then((function(){te(e.target.value),ke.length>0?Le(De.subSitesList):Le([])}))},variant:"outlined",helperText:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8 \u05dc\u05de\u05e9\u05d7\u05e7 ",children:ke&&ke.map((function(e){return Object(q.jsx)(Et.a,{value:e,dir:"rlt",style:{justifyContent:"flex-end"},children:e.siteName},e.id)}))})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-point",select:!0,required:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05de\u05d9\u05e7\u05d5\u05dd*",value:ae,onChange:function(e){ie(e.target.value),oe()},variant:"outlined",children:ze&&ze.map((function(e){return Object(q.jsx)(Et.a,{value:e,dir:"rlt",style:{justifyContent:"flex-end"},children:e.placeName},e.id)}))})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"question",variant:"outlined",multiline:!0,rows:3,fullWidth:!0,type:"text",label:"\u05e9\u05d0\u05dc\u05d4*"},O("question")),{},{className:"".concat(v.question?"is-invalid":""),onChange:function(e){de(e.target.value)},error:Na(v.question),helperText:null===(t=v.question)||void 0===t?void 0:t.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"answer1",variant:"outlined",multiline:!0,rows:2,fullWidth:!0,type:"text",label:"\u05e0\u05db\u05d5\u05e0\u05d4*"},O("answer1")),{},{className:"".concat(v.answer1?"is-invalid":""),onChange:function(e){he(e.target.value)},error:Na(v.answer1),helperText:null===(n=v.answer1)||void 0===n?void 0:n.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"answer2",variant:"outlined",multiline:!0,rows:2,fullWidth:!0,type:"text",label:"\u05de\u05e1\u05d9\u05d7 1*"},O("answer2")),{},{className:"".concat(v.answer2?"is-invalid":""),onChange:function(e){xe(e.target.value)},error:Na(v.answer2),helperText:null===(r=v.answer2)||void 0===r?void 0:r.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"answer3",variant:"outlined",multiline:!0,rows:2,fullWidth:!0,type:"text",label:"\u05de\u05e1\u05d9\u05d7 2*"},O("answer3")),{},{className:"".concat(v.answer3?"is-invalid":""),onChange:function(e){ve(e.target.value)},error:Na(Na(v.answer3)),helperText:null===(a=v.answer3)||void 0===a?void 0:a.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"answer4",variant:"outlined",multiline:!0,rows:2,fullWidth:!0,type:"text",label:"\u05de\u05e1\u05d9\u05d7 3*"},O("answer4")),{},{className:"".concat(v.answer4?"is-invalid":""),onChange:function(e){ye(e.target.value)},error:Na(v.answer4),helperText:null===(s=v.answer4)||void 0===s?void 0:s.message}))})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:R.submit,disabled:P,children:"\u05e9\u05dc\u05d7"})]})]})]})})}var Ia=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),za=Object(de.a)({direction:"rtl"});var La,Ba,Da=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],new Bn),a=e.user;return Object(q.jsx)("div",{id:"AddQuestionPageStyle",children:Object(q.jsx)(he.b,{jss:Ia,children:Object(q.jsxs)(pe.a,{theme:za,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Ca,{store:r,user:a})]})})})},Ea=m.a.div(La||(La=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\noverflow: hidden;\nz-index: -1;\n\n\n\n@media screen and (max-width: 1080px) {\n    height:","%;\n  }\n\n@media screen and (max-width: 960px){\n    height:","%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:","%;\n  }\n"])),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100})),Ha=m.a.div(Ba||(Ba=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: 1;\n"])),da,(function(e){return e.size?e.size+100:100})),Pa=n(106),qa=n.n(Pa),Ta=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(-1),height:"86vh",display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:"#412F1D"},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function Ua(e){return!!e}function Ra(e){var t,n=e.store,r=e.user,a=Q.b().shape({clue:Q.d().required("\u05e9\u05d3\u05d4 \u05e9\u05d0\u05dc\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")}),s={resolver:Object(F.a)(a),defaultValues:{}},o=Object(W.d)(s),u=o.register,h=o.handleSubmit,f=o.formState.errors,x=o.reset,O=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),k(!0),T(""),M(""),e.prev=4,E.a.firestore().collection("Sites").doc(J.id).collection("subSites").doc(_.id).collection("clues").add({clue:t.clue,locationName:J.siteName,pointName:_.placeName,creator:r.firstName+" "+r.lastName,isApproved:!1}).then((function(){k(!1),x({clue:""}),Y(),$(),be([]),le([]),he.initSites().then((function(){le(he.SitesList)})),M("\u05d4\u05e8\u05de\u05d6 \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),C.push("/addClue")})),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(4),T(e.t0),k(!1),C.push("/addClue"),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(t,n){return e.apply(this,arguments)}}(),m=Object(i.useState)(!1),v=Object(b.a)(m,2),g=v[0],k=v[1],C=Object(p.f)(),I=Ta(),L=Object(i.useState)(""),H=Object(b.a)(L,2),P=H[0],T=H[1],U=Object(i.useState)(""),R=Object(b.a)(U,2),G=R[0],M=R[1],K=c.a.useState(),X=Object(b.a)(K,2),J=X[0],Y=X[1],V=c.a.useState(),Z=Object(b.a)(V,2),_=Z[0],$=Z[1],ee=c.a.useState(!0),te=Object(b.a)(ee,2),ne=(te[0],te[1]),re=Object(i.useState)(),ae=Object(b.a)(re,2),ie=(ae[0],ae[1]),ce=Object(i.useState)([]),se=Object(b.a)(ce,2),oe=se[0],le=se[1],ue=Object(i.useState)([]),de=Object(b.a)(ue,2),je=de[0],be=de[1],he=n.siteObs,pe=n.subSiteObs;return Object(i.useEffect)((function(){le([]),he.initSites().then((function(){le(he.SitesList)}))}),[]),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:I.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(Ea,{size:0,children:Object(q.jsx)(Ha,{size:0})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:I.paper,children:[Object(q.jsx)(A.a,{className:I.avatar,children:Object(q.jsx)(qa.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e8\u05de\u05d6 \u05dc\u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"}),g&&Object(q.jsx)(fa.a,{sx:{display:"flex",justifyContent:"center",color:"#3B2A1A"}}),Object(q.jsxs)("form",{className:I.form,onSubmit:h(O),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[P&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:P})}),G&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:G})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-location",select:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8*",value:J,onChange:function(e){pe.initSubSites(e.target.value.id).then((function(){Y(e.target.value),oe.length>0?be(pe.subSitesList):be([])}))},variant:"outlined",helperText:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8 \u05dc\u05de\u05e9\u05d7\u05e7 ",children:oe&&oe.map((function(e){return Object(q.jsx)(Et.a,{value:e,dir:"rlt",style:{justifyContent:"flex-end"},children:e.siteName},e.id)}))})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-point",select:!0,required:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05de\u05d9\u05e7\u05d5\u05dd*",value:_,onChange:function(e){$(e.target.value),ne()},variant:"outlined",children:je&&je.map((function(e){return Object(q.jsx)(Et.a,{value:e,dir:"rlt",style:{justifyContent:"flex-end"},children:e.placeName},e.id)}))})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"clue",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,type:"text",label:"\u05e8\u05de\u05d6*"},u("clue")),{},{className:"".concat(f.clue?"is-invalid":""),onChange:function(e){ie(e.target.value)},error:Ua(f.clue),helperText:null===(t=f.clue)||void 0===t?void 0:t.message}))})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:I.submit,disabled:g,children:"\u05e9\u05dc\u05d7"})]})]})]})})}var Wa=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),Fa=Object(de.a)({direction:"rtl"});var Qa,Ga,Ma=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],new Bn),a=e.user;return Object(q.jsx)("div",{id:"AddCluePageStyle",className:"bodyStandart",children:Object(q.jsx)(he.b,{jss:Wa,children:Object(q.jsxs)(pe.a,{theme:Fa,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Ra,{store:r,user:a})]})})})},Ka=m.a.div(Qa||(Qa=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\noverflow: hidden;\nz-index: -1;\n\n\n\n@media screen and (max-width: 1080px) {\n    height:","%;\n  }\n\n@media screen and (max-width: 960px){\n    height:","%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:","%;\n  }\n"])),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100})),Xa=m.a.div(Ga||(Ga=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: 1;\n"])),da,(function(e){return e.size?e.size+100:100})),Ja=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(-1),display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:"#3B2A1A"},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function Ya(e){return!!e}function Va(e){var t,n,r=e.store,a=e.user,s=Q.b().shape({story:Q.d().required("\u05e9\u05d3\u05d4 \u05e1\u05d9\u05e4\u05d5\u05e8 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),storyName:Q.d().required("\u05e9\u05d3\u05d4 \u05e9\u05dd \u05e1\u05d9\u05e4\u05d5\u05e8 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")}),o={resolver:Object(F.a)(s),defaultValues:{}},u=Object(W.d)(o),h=u.register,f=u.handleSubmit,x=u.formState.errors,O=u.reset,m=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),L(!0),M(""),Y(""),r=sa(),e.prev=5,E.a.firestore().collection("Stories").add({storyContent:t.story,storyName:t.storyName,storyLikesNum:0,siteName:_.siteName,placeName:ne.placeName,authorName:a.firstName+" "+a.lastName,isApproved:!1,imageURL:ne.imageURL?ne.imageURL:null}).then((function(e){if(null!==e.id){var t=e.id;r?v(r,t).then((function(){})):(L(!1),O({storyName:"",story:""}),$(""),re(""),we([]),Y("\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8 \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),H.push("/addStory"))}})),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(5),M("\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05e1\u05d9\u05e4\u05d5\u05e8 \u05e0\u05db\u05e9\u05dc\u05d4"),L(!1),H.push("/addStory"),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[5,9]])})));return function(t,n){return e.apply(this,arguments)}}();function v(e,t){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(r=P.ref("storiesImages/Stories/".concat(n,"/").concat(t.name)).put(t)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case E.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case E.a.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log(e)}),(function(){r.snapshot.ref.getDownloadURL().then((function(e){try{E.a.firestore().collection("Stories").doc(n).update({imageURL:e}).then(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O({storyName:"",story:""}),$(""),re(""),we([]),fe(),Y("\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8 \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),H.push("/addStory"),L(!1);case 8:case"end":return e.stop()}}),e)}))))}catch(t){M("\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05de\u05d5\u05e0\u05d4 \u05dc\u05e1\u05d9\u05e4\u05d5\u05e8 \u05e0\u05db\u05e9\u05dc\u05d4"),H.push("/addStory"),L(!1)}}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=Object(i.useState)(!1),C=Object(b.a)(k,2),I=C[0],L=C[1],H=Object(p.f)(),T=Ja(),U=Object(i.useState)(""),R=Object(b.a)(U,2),G=R[0],M=R[1],K=Object(i.useState)(""),X=Object(b.a)(K,2),J=X[0],Y=X[1],V=c.a.useState(" "),Z=Object(b.a)(V,2),_=Z[0],$=Z[1],ee=c.a.useState(" "),te=Object(b.a)(ee,2),ne=te[0],re=te[1],ae=c.a.useState(!0),ie=Object(b.a)(ae,2),ce=(ie[0],ie[1]),se=Object(i.useState)(),oe=Object(b.a)(se,2),le=(oe[0],oe[1]),ue=Object(i.useState)(),de=Object(b.a)(ue,2),je=(de[0],de[1]),be=Object(i.useState)(),he=Object(b.a)(be,2),pe=he[0],fe=he[1],xe=Object(i.useState)([]),Oe=Object(b.a)(xe,2),me=Oe[0],ve=Oe[1],ge=Object(i.useState)([]),Ae=Object(b.a)(ge,2),ye=Ae[0],we=Ae[1],Se=r.siteObs,ke=r.subSiteObs;return Object(i.useEffect)((function(){ve([]),Se.initSites().then((function(){ve(Se.SitesList)}))}),[]),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:T.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(Ka,{size:0,children:Object(q.jsx)(Xa,{size:0})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:T.paper,children:[Object(q.jsx)(A.a,{className:T.avatar,children:Object(q.jsx)(qa.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05e1\u05d9\u05e4\u05d5\u05e8 \u05dc\u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"}),Object(q.jsx)(ua,{handleChangeImage:function(e){fe(e)},avatarImage:pe,isEdiable:!1}),I&&Object(q.jsx)(fa.a,{sx:{display:"flex",justifyContent:"center",color:"#3B2A1A"}}),Object(q.jsxs)("form",{className:T.form,onSubmit:f(m),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[G&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:G})}),J&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:J})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-location",select:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8*",value:_,onChange:function(e){ke.initSubSites(e.target.value.id).then((function(){$(e.target.value),me.length>0?we(ke.subSitesList):we([])}))},variant:"outlined",helperText:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8 \u05dc\u05de\u05e9\u05d7\u05e7 ",children:me&&me.map((function(e){return Object(q.jsx)(Et.a,{value:e,dir:"rlt",style:{justifyContent:"flex-end"},children:e.siteName},e.id)}))})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{fullWidth:!0,id:"outlined-select-point",select:!0,required:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05de\u05d9\u05e7\u05d5\u05dd*",value:ne,onChange:function(e){re(e.target.value),ce()},variant:"outlined",children:ye&&ye.map((function(e){return Object(q.jsx)(Et.a,{value:e,dir:"rlt",style:{justifyContent:"flex-end"},children:e.placeName},e.id)}))})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"storyName",variant:"outlined",fullWidth:!0,type:"text",label:"\u05e9\u05dd \u05d4\u05e1\u05d9\u05e4\u05d5\u05e8*"},h("storyName")),{},{className:"".concat(x.storyName?"is-invalid":""),onChange:function(e){je(e.target.value)},error:Ya(x.storyName),helperText:null===(t=x.storyName)||void 0===t?void 0:t.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"story",variant:"outlined",multiline:!0,rows:8,fullWidth:!0,type:"text",label:"\u05e1\u05d9\u05e4\u05d5\u05e8*"},h("story")),{},{className:"".concat(x.story?"is-invalid":""),onChange:function(e){le(e.target.value)},error:Ya(x.story),helperText:null===(n=x.story)||void 0===n?void 0:n.message}))})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:T.submit,disabled:I,children:"\u05e9\u05dc\u05d7"})]})]})]})})}var Za=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),_a=Object(de.a)({direction:"rtl"});var $a,ei,ti=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],new Bn),a=e.user;return Object(q.jsx)("div",{id:"AddStoryPageStyle",className:"bodyStandart",children:Object(q.jsx)(he.b,{jss:Za,children:Object(q.jsxs)(pe.a,{theme:_a,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Va,{store:r,user:a})]})})})},ni=function(e){var t,n=e.pogress,r={height:"100%",width:"".concat(n.completed,"%"),backgroundColor:"#B3541E",borderRadius:"inherit",textAlign:"right",transition:"width 1s ease"},a=(t={padding:5,color:"white",fontWeight:"bold"},Object(ur.a)(t,"color","#fff"),Object(ur.a)(t,"textDecoration","#5C3D2E"),t);return Object(q.jsxs)("div",{children:[Object(q.jsx)("br",{}),Object(q.jsxs)("div",{dir:"rtl",width:"20%",children:[Object(q.jsx)(h.b,{style:{textDecoration:"#5C3D2E"},to:{pathname:"/treasureHunt/".concat(n.thID),state:{fromCards:!0}},children:Object(q.jsxs)("p",{style:{color:"#5C3D2E",fontWeight:"bold",fontSize:"17px"},children:[n.bartitle," \u2190"]})}),Object(q.jsxs)("p",{style:{fontWeight:"bold",fontSize:"14px"},children:["\u05d4\u05e0\u05d9\u05e7\u05d5\u05d3: ",n.numOfQuestions+" / "+n.score]})]}),Object(q.jsx)("div",{style:{height:30,width:"95%",backgroundColor:"#3B2A1A",borderRadius:50,margin:5},children:Object(q.jsx)("div",{style:r,children:Object(q.jsx)("span",{style:a,children:"".concat(n.completed,"%")})})})]})},ri=m.a.div($a||($a=Object(O.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 103%;\n  overflow: hidden;\n  opacity: 0.5;\n  z-index: -1;\n"]))),ai=m.a.video(ei||(ei=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n  object-fit: cover;\n  background: #232a34;\n  opacity: 0.9;\n  z-index: -1;\n"]))),ii=n(468),ci=n.n(ii),si=n(469),oi=n.n(si),li=n.p+"static/media/vide.52b90380.mp4",ui=(n(783),n(782));Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(20),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function di(e){Object(kt.a)();var t=Object(i.useState)(e.liked),n=Object(b.a)(t,2),r=n[0],a=n[1],c=Object(i.useState)(e.likesnum),s=Object(b.a)(c,2),o=s[0],l=s[1],u=e.userObs,d=e.sID;return Object(q.jsxs)(Ct.a,{sx:{display:"flex",width:346,minHeight:120,maxHeight:145},style:{marginBottom:"1rem"},children:[Object(q.jsx)(Nt.a,{sx:{display:"flex",flexDirection:"column",width:250},children:Object(q.jsxs)(It.a,{sx:{flex:"0 0 auto"},children:[Object(q.jsx)(Lt.a,{component:"div",fontSize:16,dir:"rtl",children:e.storyTitle}),Object(q.jsx)(Lt.a,{variant:"subtitle1",color:"text.secondary",component:"div",fontSize:13,dir:"rtl",children:e.author}),Object(q.jsx)(h.b,{to:{pathname:"/storycontent/".concat(d),state:{title:e.title,imgsrc:e.imgsrc,author:e.author,storyContent:e.istory,liked:r,likesnum:o}},children:"\u05e7\u05e8\u05d0 \u05e2\u05d5\u05d3 ..."}),Object(q.jsx)("button",{className:"likeBtn",onClick:function(){l(r?o-1:o+1),a(!r),u.updatesLikesStory(u.userInfo,d,r?o-1:o+1,!r)},children:r?Object(q.jsx)(vt.a,{style:{color:"#b71c1c"}}):Object(q.jsx)(Ot.a,{style:{color:"#b71c1c"}})}),o]})}),Object(q.jsx)(zt.a,{component:"img",sx:{width:100},image:e.imgsrc,alt:"Live from space album cover"})]})}n(655);var ji=function(e){Object(pt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r;return Object(jt.a)(this,n),(r=t.call(this,e)).state={liked:e.liked,likesnum:e.likesnum,imgsrc:e.imgsrc,title:e.title,author:e.author,istory:e.istory,sID:e.sID,user:e.user,userObs:e.userObs},r.toggleLike=r.toggleLike.bind(Object(ht.a)(r)),r}return Object(bt.a)(n,[{key:"toggleLike",value:function(){var e=this.state,t=e.likesnum,n=e.userObs,r=e.sID,a=e.liked;t=a?t-1:t+1,a=!a,this.setState({likesnum:t,liked:a}),n.updatesLikesStory(n.userInfo,r,t,a)}},{key:"render",value:function(){var e,t,n,r=this.state,a=r.likesnum,i=r.imgsrc,c=r.title,s=r.author,o=r.istory,l=r.sID,u=r.userObs;return Object(q.jsxs)("div",{className:"card text-right shadow",children:[Object(q.jsx)("div",{className:"overflow",children:Object(q.jsx)("img",{src:i,alt:"image 1",className:"card-img-top"})}),Object(q.jsxs)("div",{className:"card-body text-dark",children:[Object(q.jsx)("h4",{className:"card-title text-center",children:c}),Object(q.jsxs)("div",{className:"card-text text-secondary",children:[Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)(At.a,{style:{color:"#e67700"}})}),Object(q.jsxs)("div",{className:"col-11",children:[" ",s]})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1",children:Object(q.jsx)(Un.a,{style:{color:"#994f00"}})}),Object(q.jsxs)("div",{className:"col-11",children:[o.slice(0,200),Object(q.jsx)(h.b,{to:{pathname:"/storycontent/".concat(l),state:{title:c,imgsrc:i,author:s,storyContent:o,liked:this.state.liked,likesnum:a}},children:"\u05e7\u05e8\u05d0 \u05e2\u05d5\u05d3 ..."})]})]}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col-1",children:"registered"===(null===u||void 0===u||null===(e=u.userInfo)||void 0===e?void 0:e.type)||"creator"===(null===u||void 0===u||null===(t=u.userInfo)||void 0===t?void 0:t.type)||"admin"===(null===u||void 0===u||null===(n=u.userInfo)||void 0===n?void 0:n.type)?Object(q.jsx)("button",{className:"likeBtn",onClick:this.toggleLike,children:this.state.liked?Object(q.jsx)(vt.a,{style:{color:"#b71c1c"}}):Object(q.jsx)(Ot.a,{style:{color:"#b71c1c"}})}):null}),Object(q.jsxs)("div",{className:"col-11",children:[" ",a]})]})]})]})]})}}]),n}(i.Component),bi=Object(L.a)((function(e){return{paper:{marginTop:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center",minHeight:"75vh"},Container:{opacity:.99999,zIndex:50},button:{margin:e.spacing(3,0,2),backgroundColor:"#E1701A",fontSize:"20px",borderRadius:"20px",width:"5rem",border:"none",color:"white","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));var hi=function(e){var t=e.user,n=e.reviewStore,r=e.userObs,a=[],c=null===t||void 0===t?void 0:t.storyLikes,s=null===t||void 0===t?void 0:t.playedGames,o=Object(i.useState)("\u05d4\u05ea\u05e7\u05d3\u05de\u05d5\u05ea \u05d1\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"),l=Object(b.a)(o,2),u=l[0],h=l[1],f=Object(i.useState)([]),x=Object(b.a)(f,2),O=x[0],m=x[1],v=Object(i.useState)("xs"),g=Object(b.a)(v,2),A=g[0],y=g[1],w=n.storiesObs,S=bi(),k=t.firstName,C=Object(p.f)();function I(e,t){h(e),y(t)}return window.innerHeight,console.log("window.innerHeight",window.innerHeight),Object(i.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getNewLikesForUser().then((function(){c=null===t||void 0===t?void 0:t.storyLikes}));case 2:m([]),w.initStories().then((function(){var e=w.storiesList.filter((function(e){return e.isApproved}));m(e)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:S.Container,component:"main",maxWidth:A,children:[Object(q.jsx)(ri,{children:Object(q.jsx)(ai,{autoPlay:!0,loop:!0,muted:!0,src:li,type:"video/mp4"})}),Object(q.jsxs)("div",{className:"row",dir:"rtl",children:[Object(q.jsx)("div",{className:"col-md-6",dir:"rtl",children:Object(q.jsxs)("p",{style:{fontSize:"1.6rem",opacity:"0.9",fontWeight:"bold",color:"#1B1A17"},children:["\u05e9\u05dc\u05d5\u05dd ",k,"!"]})}),Object(q.jsxs)("div",{className:"col-md-6",dir:"ltr",children:["registered"===(null===t||void 0===t?void 0:t.type)&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("button",{style:{background:"transparent",fontSize:"0.8rem",border:"none",opacity:"0.8",fontWeight:"bold"},onClick:function(){I("\u05d1\u05e7\u05e9\u05d4 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d9\u05d5\u05e6\u05e8","xs")},children:[" ","\u05d1\u05e7\u05e9\u05d4 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d9\u05d5\u05e6\u05e8",Object(q.jsx)(Te.a,{style:{color:"#B85C38"}})]}),Object(q.jsx)("br",{})]}),("creator"===(null===t||void 0===t?void 0:t.type)||"admin"===(null===t||void 0===t?void 0:t.type))&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("button",{style:{background:"transparent",fontSize:"0.8rem",border:"none",opacity:"0.8",fontWeight:"bold"},onClick:function(){I("\u05e2\u05d3\u05db\u05d5\u05df \u05ea\u05db\u05e0\u05d9\u05dd","xs")},children:[" ","\u05e2\u05d3\u05db\u05d5\u05df \u05ea\u05db\u05e0\u05d9\u05dd",Object(q.jsx)(Te.a,{style:{color:"#B85C38"}})]}),Object(q.jsx)("br",{})]}),Object(q.jsxs)("button",{style:{background:"transparent",fontSize:"0.8rem",border:"none",opacity:"0.8",fontWeight:"bold"},onClick:function(){I("\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd \u05e9\u05d0\u05d4\u05d1\u05ea\u05d9","lg"),function(){var e=[];if(c){var t=function(t){O.map((function(n,r){t.toString()===n.id.toString()&&(n.liked=!0,e.push(n))}))};for(var n in c)t(n);m(e)}}()},children:["\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd \u05e9\u05d0\u05d4\u05d1\u05ea\u05d9 ",Object(q.jsx)(ci.a,{style:{color:"#B85C38"}})]}),Object(q.jsx)("br",{}),Object(q.jsxs)("button",{style:{background:"transparent",fontSize:"0.8rem",border:"none",opacity:"0.8",fontWeight:"bold"},onClick:function(){I("\u05d4\u05ea\u05e7\u05d3\u05de\u05d5\u05ea \u05d1\u05de\u05e9\u05d7\u05e7\u05d9\u05dd","xs")},children:[" ","\u05d4\u05de\u05e9\u05d7\u05e7\u05d9\u05dd \u05e9\u05dc\u05d9",Object(q.jsx)(oi.a,{style:{color:"#B85C38"}})]})]})]}),Object(q.jsxs)("div",{className:S.paper,children:[Object(q.jsx)(z.a,{component:"h1",variant:"h5",dir:"rtl",style:{color:"#5C3D2E",fontWeight:"bold",fontSize:"36px"},children:u}),Object(q.jsx)(N.a,{container:!0,spacing:2,children:Object(q.jsxs)(N.a,{item:!0,xs:12,children:["\u05d1\u05e7\u05e9\u05d4 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d9\u05d5\u05e6\u05e8"===u&&"registered"===(null===t||void 0===t?void 0:t.type)&&!1===(null===t||void 0===t?void 0:t.isApproved)?!1===(null===t||void 0===t?void 0:t.isAskedToBeCreator)?Object(q.jsx)("div",{children:Object(q.jsx)($e,{user:t})}):Object(q.jsxs)("div",{style:{direction:"rtl",textAlign:"flex-start"},children:[Object(q.jsx)(z.a,{component:"h7",variant:"h7",style:{color:"#5C3D2E"},children:"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05d1\u05e7\u05e9\u05d4 \u05e9\u05dc\u05da \u05d4\u05d9\u05e0\u05d5:"}),Object(q.jsx)(z.a,{component:"h7",variant:"h7",style:{color:"#5C3D2E"},children:!1===(null===t||void 0===t?void 0:t.declined)?" \u05d4\u05d9\u05e0\u05da \u05e0\u05de\u05e6\u05d0/\u05ea \u05db\u05e8\u05d2\u05e2 \u05d1\u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05de\u05ea\u05e0\u05d4, \u05e0\u05e6\u05d9\u05d2 \u05de\u05d8\u05e2\u05de\u05e0\u05d5 \u05d9\u05d1\u05d3\u05d5\u05e7 \u05d0\u05ea \u05d1\u05e7\u05e9\u05ea\u05da \u05d1\u05d4\u05e7\u05d3\u05dd":" \u05e9\u05dc\u05d5\u05dd, \u05dc\u05e6\u05e2\u05e8\u05d9\u05e0\u05d5 \u05e0\u05d0\u05dc\u05e6\u05e0\u05d5 \u05dc\u05d5\u05d5\u05ea\u05e8 \u05e2\u05dc \u05ea\u05e8\u05d5\u05de\u05ea\u05da \u05d1\u05e9\u05dc\u05d1 \u05d6\u05d4. \u05d0\u05e0\u05d5 \u05de\u05d5\u05d3\u05d9\u05dd \u05e2\u05dc \u05d4\u05e8\u05e6\u05d5\u05df \u05e9\u05dc\u05da \u05dc\u05ea\u05e8\u05d5\u05dd \u05dc\u05e0\u05d5!"})]}):null,Object(q.jsxs)("div",{className:window.innerHeight<916?"scroll":"",children:["\u05d4\u05ea\u05e7\u05d3\u05de\u05d5\u05ea \u05d1\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"===u&&(function(){if(s)for(var e in s)if(s.hasOwnProperty(e)){var t={bgcolor:"#00695c",thID:e.toString(),completed:s[e].GameAdvance,bartitle:s[e].quizName,score:s[e].score,numOfQuestions:s[e].numOfQuestions};a.push(t)}}(),a.map((function(e,t){return Object(q.jsx)(ni,{bgcolor:"#B85C38",pogress:e},t)}))),"\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd \u05e9\u05d0\u05d4\u05d1\u05ea\u05d9"===u&&window.innerHeight<916?Object(q.jsxs)("div",{className:"row",children:[O.map((function(e,t){return Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(di,{imgsrc:e.imageURL?e.imageURL:jr,title:e.storyName,liked:e.liked,likesnum:e.storyLikesNum,istory:e.storyContent,storyTitle:e.storyName,author:e.authorName,userObs:r,sID:e.id},t)},t)}))," "]}):"\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd \u05e9\u05d0\u05d4\u05d1\u05ea\u05d9"===u&&Object(q.jsxs)("div",{className:"row",children:[O.map((function(e,t){return Object(q.jsx)("div",{className:"col",children:Object(q.jsx)(ji,{sID:e.id,imgsrc:e.imageURL?e.imageURL:jr,title:e.storyName,author:e.authorName,istory:e.storyContent,storylink:"storycontent",liked:e.liked,likesnum:e.storyLikesNum,userObs:r})})}))," "]})]}),Object(q.jsx)("div",{className:"row justify-content-center",children:"\u05d4\u05ea\u05e7\u05d3\u05de\u05d5\u05ea \u05d1\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"===u?Object(q.jsx)("button",{className:S.button,onClick:function(){C.push("/treasureHuntSearch")},children:"+"}):null})]})})]})]})})},pi=new Bn,fi=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),xi=Object(de.a)({direction:"rtl"});var Oi,mi,vi,gi=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2);n[0],n[1],console.log("my user",e.user);var r=e.user;return Object(q.jsxs)("div",{id:"ActProg",children:[Object(q.jsx)(he.b,{jss:fi,children:Object(q.jsxs)(pe.a,{theme:xi,children:[Object(q.jsx)(je,{}),Object(q.jsx)(R,{children:Object(q.jsx)(hi,{user:r,reviewStore:pi,userObs:e.userObs})})]})}),","]})},Ai=n(784),yi=n(789),wi=m.a.div(Oi||(Oi=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\noverflow: hidden;\nz-index: -1;\n\n\n\n@media screen and (max-width: 1080px) {\n    height:","%;\n  }\n\n@media screen and (max-width: 960px){\n    height:","%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:","%;\n  }\n"])),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100})),Si=m.a.div(mi||(mi=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: 1;\n"])),da,(function(e){return e.size?e.size+100:100})),ki=Object(L.a)((function(e){return{root:{whiteSpace:"unset",wordBreak:"break-all"},paper:{marginBottom:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},Container:{opacity:.99999,zIndex:50,backgroundImage:"url(".concat(da,")")},avatar:{margin:e.spacing(1),backgroundColor:"#3B2A1A"},"& .MuiSelect-select":{width:"160px",background:"white",opacity:"0.7",textAlign:"left",dir:"rtl",color:"black",fontSize:"1.15rem"},MuiSelect_select:{width:"160px",background:"white",opacity:"0.7",textAlign:"left",dir:"rtl",color:"black",fontSize:"1.15rem",zIndex:"50"},"& .MuiFormLabel-root":{color:"black",textAlign:"left",dir:"rtl",fontSize:"1.15rem"}}})),Ni=function(e){var t=e.store,n=Object(i.useState)(),r=Object(b.a)(n,2),a=r[0],c=r[1],s=Object(i.useState)([]),o=Object(b.a)(s,2),l=o[0],u=o[1],h=Object(i.useState)([]),p=Object(b.a)(h,2),x=p[0],O=p[1],m=Object(i.useState)([]),v=Object(b.a)(m,2),g=v[0],y=v[1],w=Object(i.useState)([]),S=Object(b.a)(w,2),k=S[0],N=S[1],C=Object(i.useState)([]),I=Object(b.a)(C,2),L=I[0],D=I[1],E=Object(i.useState)([]),H=Object(b.a)(E,2),P=H[0],T=H[1],U=Object(i.useState)([]),R=Object(b.a)(U,2),W=R[0],F=R[1],Q=Object(i.useState)([]),G=Object(b.a)(Q,2),M=(G[0],G[1]),K=Object(i.useState)([]),X=Object(b.a)(K,2),J=X[0],Y=X[1],V=Object(i.useState)(" "),Z=Object(b.a)(V,2),_=Z[0],$=Z[1],ee=t.storiesObs,te=t.treasureHuntObs,ne=t.clueObs,re=t.userObs,ae=t.questionObs,ie=t.siteObs,ce=t.subSiteObs,se=["\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd","\u05e8\u05de\u05d6\u05d9\u05dd","\u05e9\u05d0\u05dc\u05d5\u05ea","\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd","\u05de\u05e9\u05d7\u05e7\u05d9 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df","\u05d0\u05ea\u05e8\u05d9\u05dd","\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"],oe=Object(i.useState)([]),le=Object(b.a)(oe,2),ue=le[0],de=le[1],je=Object(i.useState)(!1),be=Object(b.a)(je,2),he=be[0],pe=be[1],fe=Object(i.useState)(!1),xe=Object(b.a)(fe,2),Oe=xe[0],me=xe[1],ve=Object(i.useState)(),ge=Object(b.a)(ve,2),Ae=ge[0],ye=ge[1],we=Object(i.useState)(),Se=Object(b.a)(we,2),ke=Se[0],Ne=Se[1],Ce=function(){pe(!1)};Object(i.useEffect)((function(){Oe&&(console.log(ke),ye(Object(q.jsxs)(mr.a,{style:{textAlign:"right",direction:"rtl"},open:Oe,onClose:Ie,"aria-labelledby":"alert-dialog-title1","aria-describedby":"alert-dialog-description1",children:[Object(q.jsxs)(yr.a,{id:"alert-dialog-title1",children:["\u05de\u05d9\u05d3\u05e2 \u05e2\u05dc \u05d4\u05ea\u05d7\u05e0\u05d4: ",null===ke||void 0===ke?void 0:ke.placeName," "]}),Object(q.jsxs)(gr.a,{id:"alert-dialog-description1",children:[Object(q.jsx)(Ar.a,{style:{fontWeight:"bold"},children:"\u05e8\u05de\u05d6 \u05dc\u05ea\u05d7\u05e0\u05d4:"}),Object(q.jsx)(Ar.a,{children:null===ke||void 0===ke?void 0:ke.clue}),Object(q.jsx)(Ar.a,{style:{fontWeight:"bold"},children:"\u05e9\u05d0\u05dc\u05d4 \u05dc\u05ea\u05d7\u05e0\u05d4:"}),Object(q.jsx)(Ar.a,{children:null===ke||void 0===ke?void 0:ke.question})]})]})))}),[ke]);var Ie=function(){Ne(),me(!1),ye()},ze=function(e,t){if(e.target.checked)return de((function(e){return[].concat(Object(f.a)(e),[t])})),void console.log("newSelecteds",ue);e.target.checked||de((function(e){return e.filter((function(e){return e!==t}))}))},Le=function(e){$(e),c(e),function(e){if("\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd"===e)ee.initStories().then((function(){u(ee.storiesList),Y([]);var e=[];ee.storiesList.map((function(t){return e.push(t.siteName)})),Y(e),Y(Object(f.a)(new Set(e))),vi=ee}));else if("\u05de\u05e9\u05d7\u05e7\u05d9 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df"===e)te.initTreasureHunt().then((function(){O(te.treasureHuntList),M(te.treasureHuntList),Y([]);var e=[];te.treasureHuntList.map((function(t){return e.push(t.siteName)})),Y(e),Y(Object(f.a)(new Set(e))),vi=te}));else if("\u05e8\u05de\u05d6\u05d9\u05dd"===e)ne.initAllClues().then((function(){y(ne.cluesList),M(ne.cluesList),Y([]);var e=[];ne.cluesList.map((function(t){return e.push(t.locationName)})),Y(e),Y(Object(f.a)(new Set(e))),vi=ne}));else if("\u05e9\u05d0\u05dc\u05d5\u05ea"===e)ae.initAllQuestions().then((function(){D(ae.questionsList),M(ae.questionsList),Y([]);var e=[];ae.questionsList.map((function(t){return e.push(t.locationName)})),Y(e),Y(Object(f.a)(new Set(e))),vi=ae}));else if("\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"===e)re.initUsers().then((function(){N(re.usersList),M(re.usersList),vi=re}));else if("\u05d0\u05ea\u05e8\u05d9\u05dd"===e)ie.initSites().then((function(){T(ie.SitesList),M(ie.SitesList),vi=ie}));else{if("\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"!==e)return;ce.initAllSubSites().then((function(){F([]),M([]),F(ce.subSitesList),M(ce.subSitesList),Y([]);var e=[];ce.subSitesList.map((function(t){return e.push(t.siteName)})),Y(e),Y(Object(f.a)(new Set(e))),vi=ce}))}}(e),de([])};var Be=ki(),De=Object(i.useState)("\u05d4\u05db\u05dc"),Ee=Object(b.a)(De,2),He=Ee[0],Pe=Ee[1],qe=Object(i.useState)("\u05d4\u05db\u05dc"),Te=Object(b.a)(qe,2),Ue=Te[0],Re=Te[1],We=Object(i.useState)("\u05d4\u05db\u05dc"),Fe=Object(b.a)(We,2),Qe=Fe[0],Ge=Fe[1];function Me(){return(Me=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vi.approve(ue).then((function(){Le(a)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vi.decline(ue).then((function(){Le(a),pe(!1)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return"\u05d4\u05db\u05dc"===He||(!0===He?!0===e.isApproved:!1===He?!1===e.isApproved:(console.log("error"),e.isApproved))}function Je(e){return"\u05d4\u05db\u05dc"===Qe||(Qe===e.siteName||Qe===e.locationName)}return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:Be.Container,component:"main",maxWidth:"lg",dir:"rtl",children:[Object(q.jsx)(wi,{size:0,children:Object(q.jsx)(Si,{size:0})}),Object(q.jsxs)("div",{className:Be.paper,style:{padding:"2vh"},children:[Object(q.jsx)(A.a,{className:Be.avatar,children:Object(q.jsx)(qa.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h4",children:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05ea\u05db\u05e0\u05d9\u05dd"}),Object(q.jsx)(z.a,{component:"h6",variant:"h6",children:"\u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05e6\u05e4\u05d5\u05ea \u05d1\u05de\u05d9\u05d3\u05e2 \u05d1\u05d7\u05dc\u05e7 \u05d6\u05d4, \u05e8\u05d0\u05e9\u05d9\u05ea \u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e0\u05d5\u05e9\u05d0"}),Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"row",style:{justifyContent:"flex-end"},children:[Object(q.jsx)("div",{className:"col-3",style:{width:"300px"},children:Object(q.jsx)(Nt.a,{children:Object(q.jsxs)(qt.a,{children:[Object(q.jsx)(Pt.a,{id:"sites_names-select-label12",children:"\u05d1\u05d7\u05d9\u05e8\u05ea \u05e0\u05d5\u05e9\u05d0\u05d9\u05dd"}),Object(q.jsx)(Ht.a,{labelId:"sites_names-select-label12",id:"sites_names-select-select",value:_,defaultValue:_,sx:{width:"210px",background:"white",opacity:"0.7"},onChange:function(e,t){return Le(e.target.value)},children:se&&se.map((function(e){return Object(q.jsx)(Et.a,{value:e,style:{justifyContent:"flex-end"},children:e},e)}))})]})})}),Object(q.jsx)("div",{className:"col-3",style:{width:"300px"},children:"\u05d0\u05ea\u05e8\u05d9\u05dd"!==a&&"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"!==a&&Object(q.jsx)(Nt.a,{children:Object(q.jsxs)(qt.a,{children:[Object(q.jsx)(Pt.a,{id:"demo-simple-select-label",children:"\u05e1\u05d9\u05e0\u05d5\u05df \u05dc\u05e4\u05d9 \u05d0\u05d5\u05e9\u05e8 \u05d0\u05d5 \u05dc\u05d0"}),Object(q.jsxs)(Ht.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:He,sx:{direction:"rtl",width:"170px",background:"white",opacity:"0.7"},onChange:function(e){Pe(e.target.value)},children:[Object(q.jsx)(Et.a,{value:"\u05d4\u05db\u05dc",style:{justifyContent:"flex-end"},children:"\u05d4\u05db\u05dc"}),Object(q.jsx)(Et.a,{value:!0,style:{justifyContent:"flex-end"},children:"\u05de\u05d0\u05d5\u05e9\u05e8\u05d9\u05dd"}),Object(q.jsx)(Et.a,{value:!1,style:{justifyContent:"flex-end"},children:"\u05d8\u05e8\u05dd \u05d0\u05d5\u05e9\u05e8\u05d5/\u05e1\u05d5\u05e8\u05d1\u05d5"})]})]})})}),Object(q.jsxs)("div",{className:"col-3",style:{width:"300px"},children:[("\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"===a||"\u05e9\u05d0\u05dc\u05d5\u05ea"===a||"\u05e8\u05de\u05d6\u05d9\u05dd"===a||"\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd"===a||"\u05de\u05e9\u05d7\u05e7\u05d9 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df"===a)&&Object(q.jsx)(Nt.a,{children:Object(q.jsxs)(qt.a,{children:[Object(q.jsx)(Pt.a,{id:"sites_names-select-label",children:"\u05e1\u05d9\u05e0\u05d5\u05df \u05dc\u05e4\u05d9 \u05e9\u05dd \u05d0\u05ea\u05e8"}),Object(q.jsxs)(Ht.a,{labelId:"sites_names-select-label",id:"sites_names-select-select",value:Qe,sx:{direction:"rtl",minWidth:"120px",background:"white",opacity:"0.7"},onChange:function(e){Ge(e.target.value)},children:[Object(q.jsx)(Et.a,{value:"\u05d4\u05db\u05dc",style:{direction:"rtl",justifyContent:"flex-end"},children:"\u05d4\u05db\u05dc"}),J&&J.map((function(e){return Object(q.jsx)(Et.a,{value:e,style:{direction:"rtl",justifyContent:"flex-end"},children:e},e)}))]})]})}),"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"===a&&Object(q.jsx)(Nt.a,{children:Object(q.jsxs)(qt.a,{children:[Object(q.jsx)(Pt.a,{id:"demo-simple-select-label",sx:{direction:"rtl"},children:"\u05e1\u05d9\u05e0\u05d5\u05df \u05dc\u05e4\u05d9 \u05d1\u05d9\u05e7\u05e9 \u05d0\u05d5 \u05dc\u05d0"}),Object(q.jsxs)(Ht.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:Ue,sx:{direction:"rtl",width:"120px",background:"white",opacity:"0.7"},onChange:function(e){Re(e.target.value)},children:[Object(q.jsx)(Et.a,{value:"\u05d4\u05db\u05dc",style:{justifyContent:"flex-end"},children:"\u05d4\u05db\u05dc"}),Object(q.jsx)(Et.a,{value:!0,style:{justifyContent:"flex-end"},children:"\u05d1\u05e7\u05e9\u05d5 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d9\u05d5\u05e6\u05e8\u05d9\u05dd"})]})]})})]})]}),Object(q.jsx)("br",{}),"\u05de\u05e9\u05d7\u05e7\u05d9 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df"===a&&Object(q.jsx)(z.a,{component:"h7",variant:"h7",style:{fontWeight:"bold"},children:"\u05d0\u05dd \u05d1\u05e8\u05e6\u05d5\u05e0\u05db\u05dd \u05dc\u05e6\u05e4\u05d5\u05ea \u05d1\u05ea\u05d5\u05db\u05df \u05ea\u05d7\u05e0\u05d4 \u05d1\u05ea\u05d5\u05da \u05de\u05e9\u05d7\u05e7 \u05d9\u05e9 \u05dc\u05dc\u05d7\u05d5\u05e5 \u05e2\u05dc \u05d4\u05ea\u05d7\u05e0\u05d4 \u05d4\u05e8\u05e6\u05d5\u05d9\u05d4 \u05d1\u05de\u05e9\u05d7\u05e7 \u05e2\u05dd \u05d4\u05e2\u05db\u05d1\u05e8"}),Object(q.jsxs)(Ai.a,{celled:!0,compact:!0,definition:!0,dir:"rtl",children:[Object(q.jsx)(Ai.a.Header,{fullWidth:!0,children:Object(q.jsxs)(Ai.a.Row,{children:[Object(q.jsx)(Ai.a.HeaderCell,{}),"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"===a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05d9\u05d0\u05d5\u05e8 \u05d4\u05de\u05e9\u05ea\u05de\u05e9"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"})]}),"\u05e8\u05de\u05d6\u05d9\u05dd"===a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e8\u05de\u05d6"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e2\u05e0\u05d9\u05d9\u05df"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"})]}),"\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd"===a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05e1\u05d9\u05e4\u05d5\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05e0\u05e7' \u05e2\u05e0\u05d9\u05d9\u05df"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05d5\u05db\u05df \u05d4\u05e1\u05d9\u05e4\u05d5\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"})]}),"\u05de\u05e9\u05d7\u05e7\u05d9 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df"===a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05d4\u05de\u05e9\u05d7\u05e7"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05d9\u05d0\u05d5\u05e8 \u05d4\u05de\u05e9\u05d7\u05e7"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05d7\u05e0\u05d5\u05ea"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"})]}),"\u05e9\u05d0\u05dc\u05d5\u05ea"===a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05d4\u05e9\u05d0\u05dc\u05d4"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e2\u05e0\u05d9\u05d9\u05df"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05e9\u05d5\u05d1\u05d5\u05ea"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05e9\u05d5\u05d1\u05d4 \u05e0\u05db\u05d5\u05e0\u05d4"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e1\u05d8\u05d8\u05d5\u05e1"})]}),"\u05d0\u05ea\u05e8\u05d9\u05dd"===a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05d9\u05d0\u05d5\u05e8"})]}),"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"===a&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e2\u05e0\u05d9\u05d9\u05df"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05e9\u05dd \u05d4\u05d0\u05ea\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05ea\u05d9\u05d0\u05d5\u05e8"}),Object(q.jsx)(Ai.a.HeaderCell,{children:"\u05db\u05ea\u05d5\u05d1\u05ea url"})]})]})}),"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd"===a&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ai.a.Body,{children:k&&k.filter(Xe).filter((function(e){return"\u05d4\u05db\u05dc"===Ue||(!0===Ue?!0===e.isAskedToBeCreator:(console.log("error!!!!"),e.isApproved))})).map((function(e){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(t){return ze(t,e)},children:[Object(q.jsx)(Ai.a.Cell,{collapsing:!0,children:Object(q.jsx)(yi.a,{color:"primary",inputProps:{"aria-label":"select all desserts"}})}),Object(q.jsx)(Ai.a.Cell,{children:e.firstName+" "+e.lastName}),Object(q.jsx)(Ai.a.Cell,{style:{direction:"ltr"},children:e.email}),Object(q.jsx)(Ai.a.Cell,{children:e.infoProfileValue}),Object(q.jsxs)(Ai.a.Cell,{children:[!0===e.declined?"\u05de\u05e1\u05d5\u05e8\u05d1":e.isApproved?"\u05de\u05d0\u05d5\u05e9\u05e8":"\u05dc\u05d0 \u05de\u05d0\u05d5\u05e9\u05e8"," "]})]},e.id)}))})}),"\u05e8\u05de\u05d6\u05d9\u05dd"===a&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ai.a.Body,{children:g&&g.filter(Xe).filter(Je).map((function(e){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(t){return ze(t,e)},children:[Object(q.jsx)(Ai.a.Cell,{collapsing:!0,children:Object(q.jsx)(yi.a,{color:"primary",inputProps:{"aria-label":"select all desserts"}})}),Object(q.jsx)(Ai.a.Cell,{children:e.clue}),Object(q.jsx)(Ai.a.Cell,{children:e.locationName}),Object(q.jsx)(Ai.a.Cell,{children:e.pointName}),Object(q.jsxs)(Ai.a.Cell,{children:[e.isApproved?"\u05de\u05d0\u05d5\u05e9\u05e8":"\u05dc\u05d0 \u05de\u05d0\u05d5\u05e9\u05e8"," "]})]},e.id)}))})}),"\u05e9\u05d0\u05dc\u05d5\u05ea"===a&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ai.a.Body,{children:L&&L.filter(Xe).filter(Je).map((function(e){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(t){return ze(t,e)},children:[Object(q.jsx)(Ai.a.Cell,{collapsing:!0,children:Object(q.jsx)(yi.a,{color:"primary",inputProps:{"aria-label":"select all desserts"}})}),Object(q.jsx)(Ai.a.Cell,{children:e.question}),Object(q.jsx)(Ai.a.Cell,{children:e.locationName}),Object(q.jsx)(Ai.a.Cell,{children:e.pointName}),Object(q.jsxs)(Ai.a.Cell,{children:[Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",children:["1. ",e.answers[0]]},e.id),Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",children:["2. ",e.answers[1]]},e.id),Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",children:["3. ",e.answers[2]]},e.id),Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",children:["4. ",e.answers[3]]},e.id)]}),Object(q.jsx)(Ai.a.Cell,{children:e.correctAnswer}),Object(q.jsxs)(Ai.a.Cell,{children:[e.isApproved?"\u05de\u05d0\u05d5\u05e9\u05e8":"\u05dc\u05d0 \u05de\u05d0\u05d5\u05e9\u05e8"," "]})]},e.id)}))})}),"\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd"===a&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ai.a.Body,{children:l&&l.filter(Xe).filter(Je).map((function(e){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(t){return ze(t,e)},children:[Object(q.jsx)(Ai.a.Cell,{collapsing:!0,children:Object(q.jsx)(yi.a,{slider:!0})}),Object(q.jsx)(Ai.a.Cell,{children:e.storyName}),Object(q.jsx)(Ai.a.Cell,{children:e.siteName}),Object(q.jsx)(Ai.a.Cell,{children:e.placeName}),Object(q.jsx)(Ai.a.Cell,{children:e.storyContent}),Object(q.jsxs)(Ai.a.Cell,{children:[e.isApproved?"\u05de\u05d0\u05d5\u05e9\u05e8":"\u05dc\u05d0 \u05de\u05d0\u05d5\u05e9\u05e8"," "]})]},e.id)}))})}),"\u05de\u05e9\u05d7\u05e7\u05d9 \u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df"===a&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ai.a.Body,{children:x&&x.filter(Xe).filter(Je).map((function(e){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(t){return ze(t,e)},children:[Object(q.jsx)(Ai.a.Cell,{collapsing:!0,children:Object(q.jsx)(yi.a,{slider:!0})}),Object(q.jsx)(Ai.a.Cell,{children:e.quizName}),Object(q.jsx)(Ai.a.Cell,{children:e.siteName}),Object(q.jsx)(Ai.a.Cell,{children:e.description}),Object(q.jsx)(Ai.a.Cell,{children:null===e||void 0===e?void 0:e.gameList.map((function(e,t){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(){console.log({station:e}),function(e,t,n){Ne({clue:t,placeName:e,question:n}),me(!0)}(e.placeName,e.nextclue,e.question)},style:{color:"blue"},children:[t+1,". ",e.placeName]},t)}))}),Object(q.jsxs)(Ai.a.Cell,{children:[e.isApproved?"\u05de\u05d0\u05d5\u05e9\u05e8":"\u05dc\u05d0 \u05de\u05d0\u05d5\u05e9\u05e8"," "]})]},e.id)}))})}),"\u05d0\u05ea\u05e8\u05d9\u05dd"===a&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ai.a.Body,{children:P&&P.map((function(e){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(t){return ze(t,e)},children:[Object(q.jsx)(Ai.a.Cell,{collapsing:!0,children:Object(q.jsx)(yi.a,{slider:!0})}),Object(q.jsx)(Ai.a.Cell,{children:e.siteName}),Object(q.jsx)(Ai.a.Cell,{children:e.description})]},e.id)}))})}),"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"===a&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ai.a.Body,{children:W&&W.filter(Je).map((function(e){return Object(q.jsxs)(Ai.a.Row,{value:e,dir:"rlt",onClick:function(t){return ze(t,e)},children:[Object(q.jsx)(Ai.a.Cell,{collapsing:!0,children:Object(q.jsx)(yi.a,{slider:!0})}),Object(q.jsx)(Ai.a.Cell,{children:e.placeName}),Object(q.jsx)(Ai.a.Cell,{children:e.siteName}),Object(q.jsx)(Ai.a.Cell,{children:e.mainDescription[0]}),Object(q.jsx)(Ai.a.Cell,{style:{direction:"ltr"},children:e.barcode})]},e.id)}))})}),Object(q.jsxs)(Ai.a.Footer,{fullWidth:!0,children:[Object(q.jsxs)(Ai.a.Row,{children:[Object(q.jsx)(Ai.a.HeaderCell,{}),Object(q.jsxs)(Ai.a.HeaderCell,{colSpan:"4",children:[Object(q.jsx)(ui.a,{variant:"outlined",onClick:function(){pe(!0)},children:"\u05d0\u05ea\u05e8\u05d9\u05dd"!==a&&"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"!==a?"\u05e1\u05e8\u05d1":"\u05de\u05d7\u05e7"}),Object(q.jsxs)(mr.a,{open:he,onClose:Ce,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",style:{textAlign:"right",direction:"rtl"},children:[Object(q.jsx)(yr.a,{id:"alert-dialog-title",children:"\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7?"}),Object(q.jsx)(gr.a,{children:Object(q.jsx)(Ar.a,{id:"alert-dialog-description",children:"\u05dc\u05d0\u05d7\u05e8 \u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5, \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d7\u05d6\u05d5\u05e8 \u05d0\u05d7\u05d5\u05e8\u05d4"})}),Object(q.jsxs)(vr.a,{children:[Object(q.jsx)(ui.a,{onClick:Ce,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),Object(q.jsx)(ui.a,{onClick:function(){return Ke.apply(this,arguments)},autoFocus:!0,children:"\u05d0\u05d9\u05e9\u05d5\u05e8"})]})]}),Ae,"\u05d0\u05ea\u05e8\u05d9\u05dd"!==a&&"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"!==a&&Object(q.jsx)(ui.a,{size:"medium",onClick:function(){return Me.apply(this,arguments)},children:"\u05d0\u05e9\u05e8"})]})]}),"\xa0"]})]})]})]})})},Ci=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),Ii=Object(de.a)({direction:"rtl"});var zi,Li,Bi=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],new Bn);return Object(q.jsx)("div",{id:"AddSitePageStyle",className:"bodyStandart",children:Object(q.jsx)(he.b,{jss:Ci,children:Object(q.jsxs)(pe.a,{theme:Ii,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Ni,{store:r})]})})})},Di=(n(443),m.a.div(zi||(zi=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\noverflow: hidden;\nz-index: -1;\n\n@media screen and (max-width: 1080px) {\n    height:","%;\n  }\n\n@media screen and (max-width: 960px){\n    height:","%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:","%;\n  }\n"])),(function(e){return e.bgSize?e.bgSize+100:100}),(function(e){return e.bgSize?e.bgSize+100:100}),(function(e){return e.bgSize?e.bgSize+100:100}),(function(e){return e.bgSize?e.bgSize+100:100}))),Ei=m.a.div(Li||(Li=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: 1;\n"])),da,(function(e){return e.bgSize?e.bgSize+100:100})),Hi=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(-1),display:"flex",flexDirection:"column",alignItems:"center"},Container:{opacity:.99999,zIndex:50}}}));var Pi=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=(n[0],n[1],Hi());return Object(p.f)(),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:r.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(Di,{size:0,children:Object(q.jsx)(Ei,{size:0})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(z.a,{component:"h3",variant:"h3",children:"\u05d3\u05e3 \u05e1\u05e8\u05d9\u05e7\u05ea \u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"})}),Object(q.jsx)(w.a,{}),Object(q.jsx)("div",{className:r.paper,children:Object(q.jsx)(N.a,{container:!0,spacing:2,children:Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(Or,{isURL:!0,parameters:{}})})})})]})})},qi=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),Ti=Object(de.a)({direction:"rtl"});var Ui,Ri,Wi,Fi,Qi=function(e){var t,n=0,r=0,a=null;void 0!==(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.state)&&(n=e.location.state.score,r=e.location.state.qNum,a=e.location.state.prevAnswer);var c=Object(i.useState)(!1),s=Object(b.a)(c,2);return s[0],s[1],Object(q.jsxs)("div",{id:"scanIntrestPointInfoPageStyle",className:"bodyStandartHigher",children:[Object(q.jsx)(he.b,{jss:qi,children:Object(q.jsxs)(pe.a,{theme:Ti,children:[Object(q.jsx)(je,{}),Object(q.jsx)(R,{children:Object(q.jsx)(Pi,{qNum:r,score:n,flag:!1,prevAnswer:a,boolStartGame:!0})})]})}),","]})},Gi=m.a.div(Ui||(Ui=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\noverflow: hidden;\nopacity: 0.3;\nz-index: -1;\n\n@media screen and (max-width: 1080px) {\n  height:","%;\n}\n\n@media screen and (max-width: 960px){\n  height:","%;\n}\n\n@media screen and (max-width: 384px) {\n  height:","%;\n}\n\n"])),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100})),Mi=m.a.div(Ri||(Ri=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: 1;\n"])),(function(e){return e.img?e.img:null}),(function(e){return e.size?e.size+100:100})),Ki=Object(m.a)(te.a)(Wi||(Wi=Object(O.a)(["\nmargin-left: 8px;\nfont-size: 20px;\n\n"]))),Xi=Object(m.a)(te.b)(Fi||(Fi=Object(O.a)(["\nmargin-left: 8px;\nfont-size: 20px;\n"]))),Ji=n(13),Yi=n(470),Vi=n.n(Yi),Zi=n(790),_i=n(816),$i=n(817),ec=Object(Ji.a)((function(e){return Object(q.jsx)(Zi.a,Object(l.a)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var t=e.theme;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),tc=Object(Ji.a)((function(e){return Object(q.jsx)(_i.a,Object(l.a)({expandIcon:Object(q.jsx)(Vi.a,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper":{transform:"rotate(180deg)"},"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),nc=Object(Ji.a)($i.a)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));function rc(e){var t=i.useState(!1),n=Object(b.a)(t,2),r=n[0],a=n[1],c=e.otherDescriptions,s=e.AlmaInfo;console.log("props.AlmaInfo",e.AlmaInfo);var o=function(e){return function(t,n){a(!!n&&e)}};return Object(q.jsxs)(q.Fragment,{children:[c&&Object(q.jsx)(Lt.a,{component:"h5",variant:"h5",children:"\u05de\u05d9\u05d3\u05e2 \u05e0\u05d5\u05e1\u05e3:"}),c&&c.map((function(e,t){var n="panel"+(t+1);return Object(q.jsx)("div",{children:Object(q.jsxs)(ec,{expanded:r===n,onChange:o(n),children:[Object(q.jsx)(tc,{"aria-controls":n+"bh-content",id:n+"bh-header",children:Object(q.jsx)(Lt.a,{children:e.topic})}),Object(q.jsx)(nc,{children:Object(q.jsx)(Lt.a,{children:e.text})})]})},t+1+"A")})),s&&Object(q.jsx)(Lt.a,{component:"h5",variant:"h5",children:"\u05de\u05d9\u05d3\u05e2 \u05de\u05ea\u05d5\u05da \u05e2\u05dc\u05de\u05d0:"}),s&&s.map((function(e,t){var n="panel"+(t+1)+"B";return Object(q.jsx)("div",{children:Object(q.jsxs)(ec,{expanded:r===n,onChange:o(n),children:[Object(q.jsx)(tc,{"aria-controls":n+"bh-content",id:n+"bh-header",children:Object(q.jsx)(Lt.a,{children:e.topic})}),Object(q.jsx)(nc,{children:Object(q.jsx)(Lt.a,{children:e.text})})]})},t+1+"B")}))]})}function ac(e){var t,n,r,a,c,s,o,l,u,h,f,x=e.store,O=e.treasureHuntID;console.log(O);var m=Object(i.useState)({}),v=Object(b.a)(m,2),g=v[0],y=v[1],S=Object(i.useState)(0),k=Object(b.a)(S,2),C=k[0],I=(k[1],Object(p.f)()),D=Object(p.h)(),E=D.siteID,H=D.intrestPointID,P=Object(i.useState)(!1),T=Object(b.a)(P,2),U=T[0],R=T[1],W=function(){R(!U)},F=x.subSiteObs;Object(i.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y({}),F.initSubSite(E,H).then((function(){y(F.subSiteInfo)}));case 2:case"end":return e.stop()}}),e)}))),[]);var Q=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(0),display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},Container:{opacity:.99999,zIndex:50}}}))(),G=null===g||void 0===g||null===(t=g.subSiteData)||void 0===t?void 0:t.imageURL;return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:Q.Container,component:"main",maxWidth:"md",dir:"rtl",children:[Object(q.jsx)(Gi,{size:0,children:Object(q.jsx)(Mi,{size:0,img:G||jr})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:Q.paper,children:[O&&Object(q.jsx)(wt.a,{size:"small",variant:"outlined",onClick:function(){return I.push({pathname:"/treasureHunt/".concat(O)})},style:{position:"absolute",left:"20px",marginTop:"25px",color:"#4d2800",borderRadius:"50px"},children:"\u05d7\u05d6\u05d5\u05e8 \u05dc\u05de\u05e9\u05d7\u05e7 \u21a9\ufe0e"}),Object(q.jsx)(A.a,{className:Q.avatar,style:{backgroundColor:"#412F1D"},children:Object(q.jsx)(qa.a,{})}),Object(q.jsx)(z.a,{component:"h4",variant:"h4",children:(null===g||void 0===g||null===(n=g.subSiteData)||void 0===n?void 0:n.placeName)&&(null===g||void 0===g||null===(r=g.subSiteData)||void 0===r?void 0:r.placeName)}),Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsx)(z.a,{component:"h5",variant:"h5",children:"\u05de\u05d9\u05d3\u05e2 \u05db\u05dc\u05dc\u05d9"}),(null===g||void 0===g||null===(a=g.subSiteData)||void 0===a?void 0:a.mainDescription)&&(null===g||void 0===g||null===(c=g.subSiteData)||void 0===c?void 0:c.mainDescription.map((function(e,t){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(z.a,{variant:"body1",gutterBottom:!0,style:{fontSize:"1.2rem"},children:e},t),Object(q.jsx)("br",{})]})})))]}),Object(q.jsx)(N.a,{item:!0,xs:12,children:((null===g||void 0===g||null===(s=g.subSiteData)||void 0===s?void 0:s.otherDescriptions)||(null===g||void 0===g||null===(o=g.subSiteData)||void 0===o?void 0:o.AlmaInfo))&&Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(rc,{otherDescriptions:null===g||void 0===g||null===(l=g.subSiteData)||void 0===l?void 0:l.otherDescriptions,AlmaInfo:null===g||void 0===g||null===(u=g.subSiteData)||void 0===u?void 0:u.AlmaInfo,SetAlmaExpandedSize:C})})})]}),Object(q.jsx)("br",{}),Object(q.jsx)(N.a,{item:!0,xs:8,md:10,children:Object(q.jsxs)(Wr,{to:{pathname:"/stories",state:{selectedSite:null===g||void 0===g||null===(h=g.subSiteData)||void 0===h?void 0:h.siteName}},onMouseEnter:W,onMouseLeave:W,primary:"true",dark:"false",smooth:"true",duration:500,spy:"true",exact:"true",offset:0,children:["\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd ",U?Object(q.jsx)(Ki,{}):Object(q.jsx)(Xi,{})]})}),Object(q.jsxs)(N.a,{item:!0,xs:8,md:5,children:[Object(q.jsx)("br",{}),Object(q.jsxs)(Wr,{to:{pathname:"/treasureHuntSearch",state:{selectedSite:null===g||void 0===g||null===(f=g.subSiteData)||void 0===f?void 0:f.siteName}},onMouseEnter:W,onMouseLeave:W,primary:"true",dark:"true",smooth:"true",duration:500,spy:"true",exact:"true",offset:0,children:["'\u05de\u05e9\u05d7\u05e7\u05d9 '\u05d7\u05e4\u05e9 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df ",U?Object(q.jsx)(Ki,{}):Object(q.jsx)(Xi,{})]})]})]})]})})}var ic=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),cc=Object(de.a)({direction:"rtl"});var sc,oc,lc=function(e){var t,n,r,a="";void 0!==(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.state)&&(a=e.location.state.url);var c=Object(i.useState)(!1),s=Object(b.a)(c,2),o=(s[0],s[1],new Bn);return Object(q.jsx)("div",{id:"interstPointInfoPageStyle",children:Object(q.jsx)(he.b,{jss:ic,children:Object(q.jsxs)(pe.a,{theme:cc,children:[Object(q.jsx)(je,{}),Object(q.jsx)(ac,{url:a,store:o,treasureHuntID:null===e||void 0===e||null===(n=e.location)||void 0===n||null===(r=n.state)||void 0===r?void 0:r.treasureHuntID})]})})})},uc=m.a.div(sc||(sc=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100.5%;\nheight:130%;\noverflow: hidden;\nz-index: -1;\n\n\n\n@media screen and (max-width: 1080px) {\n    height:130%;\n  }\n\n@media screen and (max-width: 960px){\n    height:130%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:130%;\n  }\n"]))),dc=m.a.video(oc||(oc=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight: 100%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: -1;\n"])),da),jc=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(21),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:"#3B2A1A"},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}));function bc(){var e,t,n,r,a=Q.b().shape({siteDescription:Q.d().required("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),siteName:Q.d().required("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),lat:Q.a().typeError("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05d7\u05d5\u05d1\u05d4 \u05d5\u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e1\u05e4\u05e8"),long:Q.a().typeError("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05d7\u05d5\u05d1\u05d4 \u05d5\u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e1\u05e4\u05e8")}),c=Object(i.useState)(),s=Object(b.a)(c,2),o=s[0],u=s[1],h=Object(i.useState)(),f=Object(b.a)(h,2),x=f[0],O=f[1],m={resolver:Object(F.a)(a),defaultValues:{}},v=Object(W.d)(m),g=v.register,k=v.handleSubmit,C=v.formState.errors,I=(v.control,function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),G(!0),ae(""),oe(""),r=sa(),e.prev=5,E.a.firestore().collection("Sites").add({description:t.siteDescription,siteName:t.siteName,geoLocation:new E.a.firestore.GeoPoint(t.lat,t.long)}).then((function(e){if(null!==e.id){var t=e.id;r?L(r,t).then((function(){})):(G(!1),V(""),ee(""),O(""),u(""),oe("\u05d4\u05d0\u05ea\u05e8 \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),M.push("/addSite"))}})),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(5),ae("\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05d0\u05ea\u05e8 \u05e0\u05db\u05e9\u05dc\u05d4"),G(!1),M.push("/addSite"),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[5,9]])})));return function(t,n){return e.apply(this,arguments)}}());function L(e,t){return H.apply(this,arguments)}function H(){return(H=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(r=P.ref("siteImages/Sites/".concat(n,"/").concat(t.name)).put(t)).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes;switch(e.state){case E.a.storage.TaskState.PAUSED:case E.a.storage.TaskState.RUNNING:}}),(function(e){console.log(e)}),(function(){r.snapshot.ref.getDownloadURL().then((function(e){try{E.a.firestore().collection("Sites").doc(n).update({sitePhoto:e}).then((function(){oe("\u05d4\u05d0\u05ea\u05e8 \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),G(!1),V(""),ee(""),O(""),u(""),je(),M.push("/addSite")}))}catch(t){ae("\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05de\u05d5\u05e0\u05d4 \u05dc\u05d0\u05ea\u05e8 \u05e0\u05db\u05e9\u05dc\u05d4"),G(!1),M.push("/addSite")}}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=Object(i.useState)(!1),U=Object(b.a)(T,2),R=U[0],G=U[1],M=Object(p.f)(),K=jc(),X=Object(i.useState)(""),J=Object(b.a)(X,2),Y=J[0],V=J[1],Z=Object(i.useState)(""),_=Object(b.a)(Z,2),$=_[0],ee=_[1],te=Object(i.useState)(""),ne=Object(b.a)(te,2),re=ne[0],ae=ne[1],ie=Object(i.useState)(""),ce=Object(b.a)(ie,2),se=ce[0],oe=ce[1],le=Object(i.useState)(),ue=Object(b.a)(le,2),de=ue[0],je=ue[1];return Object(i.useEffect)((function(){}),[]),Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:K.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(uc,{children:Object(q.jsx)(dc,{src:da})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:K.paper,children:[Object(q.jsx)(A.a,{className:K.avatar,children:Object(q.jsx)(qa.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05d0\u05ea\u05e8"}),Object(q.jsx)(ua,{handleChangeImage:function(e){je(e)},avatarImage:de,isEdiable:!1}),R&&Object(q.jsx)(fa.a,{sx:{display:"flex",justifyContent:"center",color:"#3B2A1A"}}),Object(q.jsxs)("form",{className:K.form,onSubmit:k(I),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[re&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:re})}),se&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:se})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"siteName",variant:"outlined",fullWidth:!0,type:"text",label:"\u05e9\u05dd \u05d4\u05d0\u05ea\u05e8*"},g("siteName")),{},{className:"".concat(C.siteName?"is-invalid":""),value:Y,onChange:function(e){V(e.target.value)},error:C.siteName,helperText:null===(e=C.siteName)||void 0===e?void 0:e.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"siteDescription",variant:"outlined",multiline:!0,rows:8,fullWidth:!0,type:"text",label:"\u05ea\u05d9\u05d0\u05d5\u05e8 \u05d4\u05d0\u05ea\u05e8*"},g("siteDescription")),{},{className:"".concat(C.siteDescription?"is-invalid":""),value:$,onChange:function(e){ee(e.target.value)},error:C.siteDescription,helperText:null===(t=C.siteDescription)||void 0===t?void 0:t.message}))}),Object(q.jsx)(N.a,{item:!0,xs:6,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"lat",variant:"outlined",fullWidth:!0,type:"text",label:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d0\u05d5\u05e8\u05da*"},g("lat")),{},{className:"".concat(C.lat?"is-invalid":""),value:o,onChange:function(e){u(e.target.value)},error:C.lat,helperText:null===(n=C.lat)||void 0===n?void 0:n.message}))}),Object(q.jsx)(N.a,{item:!0,xs:6,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"long",variant:"outlined",fullWidth:!0,type:"text",label:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05e8\u05d5\u05d7\u05d1*"},g("long")),{},{className:"".concat(C.long?"is-invalid":""),value:x,onChange:function(e){O(e.target.value)},error:C.long,helperText:null===(r=C.long)||void 0===r?void 0:r.message}))})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:K.submit,disabled:R,children:"\u05e9\u05dc\u05d7"})]})]})]})})}var hc=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),pc=Object(de.a)({direction:"rtl"});var fc,xc,Oc=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2);return n[0],n[1],Object(q.jsx)("div",{id:"AddSitePageStyle",className:"bodyStandart",children:Object(q.jsx)(he.b,{jss:hc,children:Object(q.jsxs)(pe.a,{theme:pc,children:[Object(q.jsx)(je,{}),Object(q.jsx)(bc,{})]})})})},mc=m.a.div(fc||(fc=Object(O.a)(["\nposition: absolute;\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100.5%;\nheight:","%;\noverflow: hidden;\nz-index: -1;\n\n\n\n@media screen and (max-width: 1080px) {\n  height:","%;\n  }\n\n@media screen and (max-width: 960px){\n  height:","%;\n  }\n\n  @media screen and (max-width: 384px) {\n    height:","%;\n  }\n"])),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100}),(function(e){return e.size?e.size+100:100})),vc=m.a.video(xc||(xc=Object(O.a)(["\nposition: absolute;\nbackground-image: url(",");\ntop:0;\nright:0;\nbottom: 0;\nleft:0;\nwidth: 100%;\nheight:","%;\nbackground-position: center;\nbackground-size: cover;\nbackground-repeat: no-repeat;\n-o-object-fit: cover;\nobject-fit: cover;\nz-index: -1;\n"])),da,(function(e){return e.size?e.size+100:100})),gc=12,Ac=null,yc=null;function wc(){return Sc(Ac)}function Sc(e){if(null===e)return null;var t=null===e||void 0===e?void 0:e.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.topic)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(n=e.text)||void 0===n?void 0:n.length)>0}));return(null===t||void 0===t?void 0:t.length)>0?t:null}var kc=function(e){e.inputType&&e.inputType,e.size&&(gc=e.size);var t=c.a.useState(e.otherDescriptionsList),n=Object(b.a)(t,2),r=n[0],a=n[1],s=c.a.useState(e.almaList),o=Object(b.a)(s,2),l=o[0],u=o[1],d=c.a.useState([]),j=Object(b.a)(d,2),h=j[0],p=j[1],x=c.a.useState([]),O=Object(b.a)(x,2),m=O[0],v=O[1],g=c.a.useState([]),A=Object(b.a)(g,2),y=(A[0],A[1]),w=Object(i.useState)(),k=Object(b.a)(w,2),C=(k[0],k[1]),I=Object(i.useState)(),L=Object(b.a)(I,2),B=(L[0],L[1]),D=Object(i.useState)(),E=Object(b.a)(D,2),H=(E[0],E[1]),P=Object(i.useState)(),T=Object(b.a)(P,2),U=(T[0],T[1]);Object(i.useEffect)((function(){a([]),u([]),p([]),v([]),y([]),C(),B(),H(),U(),Ac=null,yc=null}),[e.isSubmited]);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05d9\u05d3\u05e2 \u05e0\u05d5\u05e1\u05e3 \u05e2\u05dc \u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"}),r,Object(q.jsx)(ui.a,{item:!0,xs:12,type:"button",onClick:function(e){a((function(e){return[].concat(Object(f.a)(e),[Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsx)(N.a,{item:!0,xs:gc,children:Object(q.jsx)(S.a,{type:"text",name:"topic",variant:"outlined",fullWidth:!0,label:"\u05e0\u05d5\u05e9\u05d0",onChange:function(t){return function(e,t){B(e.target.value),e.target.value,h[t]||(h[t]={topic:"",text:""}),h[t].topic=e.target.value,Ac=h}(t,e.length)}},e.length)}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{name:"text",variant:"outlined",multiline:!0,rows:8,fullWidth:!0,type:"text",label:"\u05ea\u05d5\u05db\u05df*",onChange:function(t){return function(e,t){C(e.target.value),e.target.value,h[t]||(h[t]={topic:"",text:""}),h[t].text=e.target.value,Ac=h}(t,e.length)}},e.length)})]})])}))},variant:"outlined",primary:!0,children:"\u2795 \u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05db\u05e0\u05d9\u05dd \u05e2\u05dd \u05e0\u05d5\u05e9\u05d0\u05d9\u05dd"}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05d9\u05d3\u05e2 \u05e0\u05d5\u05e1\u05e3 \u05e2\u05dc \u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df \u05de\u05e2\u05dc\u05de\u05d0"}),l,Object(q.jsx)(ui.a,{item:!0,xs:12,type:"button",onClick:function(t){u((function(t){return[].concat(Object(f.a)(t),[Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsx)(N.a,{item:!0,xs:gc,children:Object(q.jsx)(S.a,{type:"text",name:e.topic,variant:"outlined",fullWidth:!0,label:"\u05e0\u05d5\u05e9\u05d0",onChange:function(e){return function(e,t){U(e.target.value),e.target.value,m[t]||(m[t]={topic:"",text:""}),m[t].topic=e.target.value,yc=m}(e,t.length)}},t.length)}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,{name:e.text,variant:"outlined",multiline:!0,rows:8,fullWidth:!0,type:"text",label:"\u05ea\u05d5\u05db\u05df*",onChange:function(e){return function(e,t){H(e.target.value),e.target.value,m[t]||(m[t]={topic:"",text:""}),m[t].text=e.target.value,yc=m}(e,t.length)}},t.length)})]})])}))},variant:"outlined",primary:!0,children:"\u2795 \u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05db\u05e0\u05d9\u05dd \u05de\u05e2\u05dc\u05de\u05d0"})]})};function Nc(e){var t,n,r,a,c,s,o,u,h=e.store,f=Q.b().shape({intrestPointName:Q.d().required("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),description:Q.d().required("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4"),lat:Q.a().typeError("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05d7\u05d5\u05d1\u05d4 \u05d5\u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e1\u05e4\u05e8"),long:Q.a().typeError("\u05e9\u05d3\u05d4 \u05d6\u05d4 \u05d4\u05d5\u05d0 \u05d7\u05d5\u05d1\u05d4 \u05d5\u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e1\u05e4\u05e8")}),x={resolver:Object(F.a)(f),defaultValues:{}},O=Object(W.d)(x),m=O.register,v=O.handleSubmit,g=O.formState.errors;function k(e,t){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(r=P.ref("subSitesImages/SubSites/".concat(n,"/").concat(t.name)).put(t)).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes;switch(e.state){case E.a.storage.TaskState.PAUSED:case E.a.storage.TaskState.RUNNING:}}),(function(e){}),(function(){r.snapshot.ref.getDownloadURL().then((function(e){try{E.a.firestore().collection("Sites").doc(oe.id).collection("subSites").doc(n).update({imageURL:e,barcode:"https://tracetory-4340e.firebaseapp.com/intrestPointInfoPage/".concat(oe.id,"/").concat(n)}).then((function(){Se(""),le(),Ie([]),ze.initSites().then((function(){Ie(ze.SitesList)})),be(""),ge(""),xe(""),Fe([]),Te([]),ie(),te(" \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),R.push("/addIntrestPoint"),U(!1)}))}catch(t){Z("\u05d4\u05d5\u05e1\u05e4\u05d4 \u05e0\u05db\u05e9\u05dc\u05d4"),R.push("/addIntrestPoint"),U(!1)}}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=Object(i.useState)(!1),H=Object(b.a)(I,2),T=H[0],U=H[1],R=Object(p.f)(),G=Object(i.useState)(),M=Object(b.a)(G,2),K=(M[0],M[1]),X=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(0),minHeight:"70vh",display:"flex",flexDirection:"column",alignItems:"center",color:"rgb(0,0,0)","& .MuiInputLabel-root":{color:"black"}},avatar:{margin:e.spacing(1),backgroundColor:"#412F1D"},form:{width:"100%",marginTop:e.spacing(3)},Container:{opacity:.99999,zIndex:50},submit:{margin:e.spacing(3,0,2),backgroundColor:"#412F1D","&:hover":{transition:"all 0.2s ease-in-out",background:"#3B2A1A",color:"#FE9A0F",fontWeight:"bold"}}}}))();Object(i.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K((null===(t=wc())||void 0===t?void 0:t.length)?wc().length+30:0);case 1:case"end":return e.stop()}}),e)}))),[wc()]);var J=Object(i.useState)(""),Y=Object(b.a)(J,2),V=Y[0],Z=Y[1],_=Object(i.useState)(""),$=Object(b.a)(_,2),ee=$[0],te=$[1],ne=Object(i.useState)(),re=Object(b.a)(ne,2),ae=re[0],ie=re[1],ce=Object(i.useState)(),se=Object(b.a)(ce,2),oe=se[0],le=se[1],ue=Object(i.useState)(),de=Object(b.a)(ue,2),je=de[0],be=de[1],he=Object(i.useState)(),pe=Object(b.a)(he,2),fe=pe[0],xe=pe[1],Oe=Object(i.useState)(),me=Object(b.a)(Oe,2),ve=me[0],ge=me[1],Ae=Object(i.useState)(),ye=Object(b.a)(Ae,2),we=ye[0],Se=ye[1],ke=Object(i.useState)([]),Ne=Object(b.a)(ke,2),Ce=Ne[0],Ie=Ne[1],ze=h.siteObs,Le=Object(i.useState)(0),Be=Object(b.a)(Le,2),De=Be[0],Ee=Be[1];Object(i.useEffect)((function(){Ie([]),ze.initSites().then((function(){Ie(ze.SitesList)}))}),[]);var He=Object(i.useState)([]),Pe=Object(b.a)(He,2),qe=Pe[0],Te=Pe[1],Ue=Object(i.useState)([]),Re=Object(b.a)(Ue,2),We=Re[0],Fe=Re[1],Qe=sa(),Ge=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),U(!0),Z(""),te(""),e.prev=4,E.a.firestore().collection("Sites").doc(oe.id).collection("subSites").add({placeName:t.intrestPointName,AlmaInfo:Sc(yc),barcode:"",mainDescription:[t.description],otherDescriptions:wc(),siteName:oe.siteName,siteID:oe.id,geoPointSite:oe.geoLocation,geoPoint:new E.a.firestore.GeoPoint(t.lat,t.long)}).then((function(e){if(null!==e.id){var t=e.id;Qe?k(Qe,t).then((function(){})):E.a.firestore().collection("Sites").doc(oe.id).collection("subSites").doc(t).update({barcode:"https://tracetory-4340e.firebaseapp.com/intrestPointInfoPage/".concat(oe.id,"/").concat(t)}).then((function(){Se(""),le(),Ie([]),ze.initSites().then((function(){Ie(ze.SitesList)})),be(""),ge(""),xe(""),Ee(De+1),Ee(De-1),Fe([]),Te([]),te(" \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),R.push("/addIntrestPoint"),U(!1)}))}})),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(4),R.push("/addIntrestPoint"),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:X.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(mc,{size:0,children:Object(q.jsx)(vc,{size:0})}),Object(q.jsx)(w.a,{}),Object(q.jsxs)("div",{className:X.paper,children:[Object(q.jsx)(A.a,{className:X.avatar,children:Object(q.jsx)(qa.a,{})}),Object(q.jsx)(z.a,{component:"h1",variant:"h5",children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"}),Object(q.jsx)(ua,{handleChangeImage:function(e){ie(e)},avatarImage:ae,isEdiable:!1}),T&&Object(q.jsx)(fa.a,{sx:{display:"flex",justifyContent:"center",color:"#3B2A1A"}}),Object(q.jsxs)("form",{className:X.form,onSubmit:v(Ge),children:[Object(q.jsxs)(N.a,{container:!0,spacing:2,children:[V&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"error",children:V})}),ee&&Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{severity:"success",children:ee})}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,(n={fullWidth:!0,name:"locationName",id:"outlined-select-location",select:!0,label:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8*",value:oe,onChange:function(e){le(e.target.value)},variant:"outlined",helperText:"\u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea\u05e8*",error:g.selectedLocation},Object(ur.a)(n,"helperText",null===(t=g.selectedLocation)||void 0===t?void 0:t.message),Object(ur.a)(n,"children",Ce&&Ce.map((function(e){return Object(q.jsx)(Et.a,{value:e,dir:"rlt",style:{justifyContent:"flex-end"},children:e.siteName},e.id)}))),n))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"intrestPointName",variant:"outlined",fullWidth:!0,type:"text",label:"\u05e9\u05dd \u05e0\u05e7\u05d5\u05d3\u05ea \u05d4\u05e2\u05e0\u05d9\u05d9\u05df*"},m("intrestPointName")),{},{className:"".concat(g.intrestPointName?"is-invalid":""),value:we,onChange:function(e){Se(e.target.value)},error:g.intrestPointName,helperText:null===(r=g.intrestPointName)||void 0===r?void 0:r.message}))}),Object(q.jsx)(N.a,{item:!0,xs:12,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"description",variant:"outlined",multiline:!0,rows:8,fullWidth:!0,type:"text",label:"\u05ea\u05d9\u05d0\u05d5\u05e8 \u05db\u05dc\u05dc\u05d9*"},m("description")),{},{className:"".concat(g.description?"is-invalid":""),value:je,onChange:function(e){be(e.target.value)},error:g.description,helperText:null===(a=g.description)||void 0===a?void 0:a.message}))}),Object(q.jsx)(N.a,{item:!0,xs:6,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"lat",variant:"outlined",fullWidth:!0,type:"text",label:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05d0\u05d5\u05e8\u05da*"},m("lat")),{},{className:"".concat(g.lat?"is-invalid":""),value:fe,onChange:function(e){xe(e.target.value)},error:g.lat,helperText:null===(c=g.lat)||void 0===c?void 0:c.message}))}),Object(q.jsx)(N.a,{item:!0,xs:6,children:Object(q.jsx)(S.a,Object(l.a)(Object(l.a)({name:"long",variant:"outlined",fullWidth:!0,type:"text",label:"\u05e0\u05e7\u05d5\u05d3\u05ea \u05e8\u05d5\u05d7\u05d1*"},m("long")),{},{className:"".concat(g.long?"is-invalid":""),value:ve,onChange:function(e){ge(e.target.value)},error:g.long,helperText:null===(s=g.long)||void 0===s?void 0:s.message}))}),Object(q.jsx)(N.a,{container:!0,spacing:2,children:Object(q.jsx)(kc,{register:m,topic:"topic",text:"text",otherDescriptionsList:qe,almaList:We,isSubmited:De,errorTopic:g.topic,errorText:g.text,errors:g,helperTextTopic:null===(o=g.topic)||void 0===o?void 0:o.message,helperTextText:null===(u=g.text)||void 0===u?void 0:u.message})})]}),Object(q.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:X.submit,disabled:T,children:"\u05e9\u05dc\u05d7"})]})]})]})})}var Cc=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),Ic=Object(de.a)({direction:"rtl"});var zc,Lc,Bc,Dc,Ec,Hc,Pc,qc,Tc,Uc,Rc,Wc,Fc,Qc=function(e){var t=new Bn,n=Object(i.useState)(!1),r=Object(b.a)(n,2);return r[0],r[1],Object(q.jsx)("div",{id:"AddIntrestPointPageStyle",className:"bodyStandart",children:Object(q.jsx)(he.b,{jss:Cc,children:Object(q.jsxs)(pe.a,{theme:Ic,children:[Object(q.jsx)(je,{}),Object(q.jsx)(Nc,{store:t})]})})})},Gc=n(177),Mc=m.a.footer(zc||(zc=Object(O.a)(["\n//background-color: #393e46; \nbackground-color: #3B2A1A; \nposition: relative;\nheight: 57px;\nmargin: 0 auto;\nbottom: 0;\n\n@media screen and (max-width: 820px){\n    height: 76px;\n \n }\n \n"]))),Kc=m.a.div(Lc||(Lc=Object(O.a)(["\n//padding: 10px 5px;\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-items: 1100px;\nmargin: 0 auto;\n"]))),Xc=(m.a.div(Bc||(Bc=Object(O.a)(["\ndisplay: flex;\njustify-content: center;\n\n@media screen and (max-width: 820px){\n    padding-top: 32px;\n}\n"]))),m.a.div(Dc||(Dc=Object(O.a)(["\ndisplay: flex;\n\n@media screen and (max-width: 820px){\n    flex-direction: column;\n}\n"]))),m.a.div(Ec||(Ec=Object(O.a)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: flex-start;\nmargin: 10px;\ntext-align: left;\nwidth: 160px;\nbox-sizing: border-box;\ncolor: #fff;\n\n@media screen and (max-width: 420px){\n    margin:0;\n    padding: 10px;\n    width: 100%;\n}\n"]))),m.a.h1(Hc||(Hc=Object(O.a)(["\nfont-size: 14px;\n// margin-bottom: 16px;\n\n"]))),Object(m.a)(h.b)(Pc||(Pc=Object(O.a)(["\ncolor: #fff;\ntext-direction: none;\n margin-bottom: 1.6rem;\nfont-size: 14px;\n\n&:hover{\n    color: #B4B897;\n    transition: 0.3 ease-out;\n}\n\n"]))),m.a.section(qc||(qc=Object(O.a)(["\nmax-width: 10000px;\nwidth: 100%;\n\n\n"])))),Jc=m.a.div(Tc||(Tc=Object(O.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nmax-width: 1100px;\nmargin: 1px auto 0 auto;\n\n@media screen and (max-width: 820px){\n   flex-direction: column;\n\n}\n\n"]))),Yc=Object(m.a)(h.b)(Uc||(Uc=Object(O.a)(["\ncolor: #fff;\njustify-self: start;\ncursor: pointer;\nfont:roboto slab;\ntext-decoration: none;\nfont-size: 1.5rem;\nalign-items: center;\n// margin-bottom: 16px;\nfont-weight: bold; \n"]))),Vc=m.a.small(Rc||(Rc=Object(O.a)(["\ncolor: #fff;\n// margin-bottom: 16px;\n"]))),Zc=m.a.div(Wc||(Wc=Object(O.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nwidth: 240px;\n\n"]))),_c=m.a.a(Fc||(Fc=Object(O.a)(["\ncolor: #fff;\nfont-size: 24px;\n"]))),$c=function(){return Object(q.jsx)(Mc,{children:Object(q.jsx)(Kc,{children:Object(q.jsx)(Xc,{children:Object(q.jsxs)(Jc,{children:[Object(q.jsx)(Yc,{to:"./",children:" TraStory "}),Object(q.jsxs)(Vc,{children:[" \u05d0\u05d5\u05e0\u05d9\u05d1\u05e8\u05e1\u05d9\u05d8\u05ea \u05d7\u05d9\u05e4\u05d4 ",(new Date).getFullYear()," \u05db\u05dc \u05d4\u05d6\u05db\u05d5\u05d9\u05d5\u05ea \u05e9\u05de\u05d5\u05e8\u05d5\u05ea   "]}),Object(q.jsxs)(Zc,{children:[Object(q.jsx)(_c,{herf:"/",target:"_blank","aria-label":"Fackbook",children:Object(q.jsx)(Gc.b,{})}),Object(q.jsx)(_c,{herf:"/",target:"_blank","aria-label":"Instagram",children:Object(q.jsx)(Gc.c,{})}),Object(q.jsx)(_c,{herf:"/",target:"_blank","aaria-label":"Youtube",children:Object(q.jsx)(Gc.e,{})})]})]})})})})},es=n(377);function ts(e){var t=e.userURL,n=Object(L.a)((function(e){return{avatar:{margin:e.spacing(1),width:52,height:52,background:"#C8B394"}}}))();return Object(q.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#412F1D",borderRadius:"50px"},children:t?Object(q.jsx)(A.a,{id:"pic1Sub",className:n.avatar,src:t,alt:"Uploaded images"}):Object(q.jsx)(A.a,{className:n.avatar,src:"/broken-image.jpg"})})}var ns,rs,as,is,cs,ss,os,ls,us,ds,js,bs,hs,ps,fs,xs,Os,ms,vs,gs,As=n(779),ys=m.a.nav(ns||(ns=Object(O.a)(["\n  background: ",";\n  height: 95px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.3rem;\n  position: sticky;\n  top: 0;\n  z-index: 19;\n  direction: rtl;\n  @media screen and (max-width: 960px) {\n    transition: 0.8s all ease;\n  }\n"])),(function(e){e.scrollNav;return"#C8B394"})),ws=m.a.div(rs||(rs=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 82px;\n  z-index: 1;\n  width: 100%;\n  padding: 0 24px;\n  max-width: 1500px;\n"]))),Ss=Object(m.a)(h.b)(as||(as=Object(O.a)(["\n  color: #fff;\n  justify-self: flex-start;\n  cursor: pointer;\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  margin-left: 24px;\n  font-weight: bold;\n  text-decoration: none;\n"]))),ks=m.a.div(is||(is=Object(O.a)(["\n  display: none;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transition: translate(-100%, 60%);\n    font-size: 1.8rem;\n    cursor: pointer;\n    color: #fff;\n  }\n"]))),Ns=m.a.ul(cs||(cs=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  list-style: none;\n  text-align: center;\n  margin-right: -22px;\n\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),Cs=m.a.li(ss||(ss=Object(O.a)(["\n  height: 80px;\n"]))),Is=Object(m.a)(h.b)(os||(os=Object(O.a)(["\n  color: #fff;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  font-weight: bold;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    color: #3b2a1a;\n  }\n"]))),zs=(m.a.nav(ls||(ls=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),Object(m.a)(h.b)(us||(us=Object(O.a)(["\n  border-radius: 90px;\n  white-space: nowrap;\n  font-size: 16px;\n  display: flex;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #3b2a1a;\n    color: #a12568;\n  }\n"])))),Ls=m.a.p(ds||(ds=Object(O.a)(["\n  border-radius: 90px;\n  position: relative;\n  buttom: 16px;\n  white-space: nowrap;\n  font-size: 16px;\n  font-weight: bold;\n  display: flex;\n  margin-bottom: 14px;\n  outline: none;\n  border: none;\n  z-index: 10;\n  cursor: pointer;\n  text-decoration: none;\n"]))),Bs=(Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),Object(de.a)({direction:"rtl"}),Object(L.a)((function(e){return{TheButton:{color:"#ffffff",fontSize:"20px",transition:"all 0.2s ease-in-out",fontWeight:"bold",fill:"#ffffff",icon:"#ffffff"},Item:{color:"#3B2A1A",fontSize:"17px",transition:"all 0.4s ease-in-out",fill:"#ffffff",icon:"#ffffff",justifyContent:"flex-start",direction:"rtl"}}}))),Ds=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),r=n[0],a=n[1],c=Bs(),s=Object(p.f)(),o=function(){window.scrollY>=80?a(!0):a(!1)},l=U(),u=l.currentUser,h=l.logout,f=Object(i.useState)({type:null}),x=Object(b.a)(f,2),O=x[0],m=x[1],v="\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea";function g(){return(g=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!u){e.next=7;break}return e.next=5,h().then((function(){s.push("/")}));case 5:e.next=8;break;case 7:window.location.reload(!1);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return O&&(v="\u05e9\u05dc\u05d5\u05dd "+O.firstName),Object(i.useEffect)((function(){var t,n,r,a,i;m(e.user?{email:null===(t=e.user)||void 0===t?void 0:t.email,firstName:null===(n=e.user)||void 0===n?void 0:n.firstName,lastName:null===(r=e.user)||void 0===r?void 0:r.lastName,ProfieImgURL:null===(a=e.user)||void 0===a?void 0:a.ProfieImgURL,type:null===(i=e.user)||void 0===i?void 0:i.type}:null),window.addEventListener("scroll",o)}),[e.user]),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(ys,{scrollNav:r,children:Object(q.jsxs)(ws,{children:[Object(q.jsx)(Ss,{to:"/",onClick:function(){es.animateScroll.scrollToTop()},children:Object(q.jsx)("img",{src:"data:image/png;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QCARXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAKgAgAEAAAAAQAAAKqgAwAEAAAAAQAAAEkAAAAA/+0AOFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/iAihJQ0NfUFJPRklMRQABAQAAAhgAAAAAAhAAAG1udHJSR0IgWFlaIAAAAAAAAAAAAAAAAGFjc3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD21gABAAAAANMtAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACWRlc2MAAADwAAAAdHJYWVoAAAFkAAAAFGdYWVoAAAF4AAAAFGJYWVoAAAGMAAAAFHJUUkMAAAGgAAAAKGdUUkMAAAGgAAAAKGJUUkMAAAGgAAAAKHd0cHQAAAHIAAAAFGNwcnQAAAHcAAAAPG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAWAAAABwAcwBSAEcAQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAG+iAAA49QAAA5BYWVogAAAAAAAAYpkAALeFAAAY2lhZWiAAAAAAAAAkoAAAD4QAALbPcGFyYQAAAAAABAAAAAJmZgAA8qcAAA1ZAAAT0AAAClsAAAAAAAAAAFhZWiAAAAAAAAD21gABAAAAANMtbWx1YwAAAAAAAAABAAAADGVuVVMAAAAgAAAAHABHAG8AbwBnAGwAZQAgAEkAbgBjAC4AIAAyADAAMQA2/8AAEQgASQCqAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAwICAgICAwICAgMDAwMEBgQEBAQECAYGBQYJCAoKCQgJCQoMDwwKCw4LCQkNEQ0ODxAQERAKDBITEhATDxAQEP/bAEMBAwMDBAMECAQECBALCQsQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEP/dAAQAC//aAAwDAQACEQMRAD8A+kKKKK+MPowooooAKKKKACiiigApCcU5VZ2CqpZmOAB1Jql8RtGuLH4ceJblhcyXQ0m68qG0KiXeYyFClvl3ZIxngGuPFZhhsFKEK0rObsl1ZrToTrJuC0SuzxH9oj4ka98MviL8MdZbxVc6d4TnvbuLXLO2QSvOoQFXaPYWdFBIO1gQWXAJr1vwR478KfEXQU8SeDdXTUdPaWSDzBG8bLIhwyMjgMpB7EV8NftSjXk8ZaBYa1a6paLFoUU1paalq66hPAsrfPl1GF3NEPl3vnYDuH3a9c/Yh8DeJNCstX8c6xI9rpXiaysl0mFpEdbqJTJJ9pAViUz5mwBgrHac8Yr0q9TD0aCqVJpLRJ3Su3svUyp06lSfLCLb/wAtz6oooorEAooooAKKKKACiiigAooooA//0PpCiiivjD6MKKKKACiiigAooooA2vDFtO91JexWgnEC7eZAuxj3568Z/Ol8aJ9r0+GwdNv268t7crkHKlwzdP8AZU1Z8GzSg3VsrRBPlkIYHce3Bzj0/OuM+LfxZ+HHw/1jRYPGfjLS9KZZprny55wHJWB9oK9Rkk4zjJGK/OM3jiMTnyhCHM4K6tfpG6v038j3sG4Qwr5nZPT72fJP7eFlbr4a8Da8kMcV5LaXtjNcBAGby4Qyhm6naVcgE8ZY+tfRnhOOODwP4ejjhEKppNmAgG3Z+5Tj9a8A/an+KXgjXvBtl4C1nwtqX9om/TWbZZJ7ZJILWVpCH+R3KiSN3QHvyPXHSfDP9p34Wr8PvD9n4o8VDSdW0/TLa01H7TY3AgS4SIBtsxjKMuFJBz0z6V18V5PmOYZLSo06cnKNRtpavl96zt21R28P5hhcLmE6lSaScVq9FfTS9j6L064N1ZxTN94jDfUcGrNUdFuVvtLtr5LmO4juEEsUsTKyPG3KspXggjGCKvV9dljqywVJ1r83Kr3Vne3VXdn3Pn8eoRxVRU7ct3a2q3ez6oKKKK7jkCiiigAooooAKKKKAP/R+kKK+XIv2nPjj4h8R+KNI+HvwU0rxJa+GdUutOuZ7fVSrReXK6KZA2MMyxk4Xdjn2zmeEf2r/j54+s7vUPBPwL0fW7WwKi6ltdWcLDuTeN3mBTynzfKDxXyn1afkfRJ3PraivM/2efi1ffGn4ejxrqGm2FjIb+e0EdlcNNEVjxhgzAHJz0xXpoVj0Un6CsZRcXysE7ifhShHPRGP4Gq1xp0VznzWugO+yeRMf98kVkXXgbw5enN1DfyZ6htUu8fl5uKEl1D0N9gV+8Cv1GKqz6ppdqM3Wp2cP/XS4Rf5muSvvgj8L9VH/Ex8HRXgbjE9xcSA/m9YZ/Za/Z2JJPwc8Mkk5JNpk/zq0qfVv7v+CK8jzf4u/tUvoGr3Vt4Ov719PtXksI20ueJJNUnX/Xt57BvJtY2Cw+ZGDK8hl2gCPcfliTxE/jrxnY3PxF1EWui3F2W1AwM0EVvbbWZvmJZ/nKqjzOzSfvGbcMAD7Y8efBj9mXwL4TvvGHin4V6GdP0e2BIW2LuVBxHDGu7klm2qo7tXzzpGmSeN7eTxH8Ov2GfDN9oQkdYJpLn55NrYI3F0G4EEHYHUEEBjiuyi6SXNFW89NSHGT0bPLNZi17xN4v1a98ZSCwewh8+9W3USR2ltGEWCztFGEIxJHHCOFIYyHJ37q+mD7d4Y8R6baaZKb6GS01exiiLyu6Ru8U8S4GWYRzowxyxU8Cvqn4KaF8A/i5PrXhfWf2ftP8PeINBjgXU7CdWlh2hmRArEg/IyMu1lBGMjggn1SH9nP4EaGzavp3ws0W2uLSKSRZbaNo5VAQ7trBgRkZH4mnKtGMrNMXJpoz5k+C37QOr/AAR11/hz4lL6j4Osrk27OqlptNfjzXix9+JZCwMWMqAxTpsP2xYeItA1SGO403XdOuo5UDo0N1GwZSMgjBr54+CPg/8AZX+Ouj6jrfhn4D2OnwaZNDBIt/ax7mMkKyqR5cjDG1xnJBzmvRf+GWf2dTz/AMKc8MnP/Tp/9esK3s3L3rp+n/BLV7aHqSEScx/N/u8/ypxRx1Rh+Fef6d8Afg/pKBNH8AWNkqcAWrzRAf8AfLity2+HvhWyIFrZ3sG3smqXYx+Hm1g1Do393/BHdnR9OooqlbaRa2uFge846BryaT/0JjV7YwwCjDPqOtQUJRR06j86UI5GQjf98mgBKKXY5GQjflSYPoaQWP/S9+bSNK0601CXTtMtLV7mOSSdoYFQyttb5mIHzHk8n1r5b/4J7hX8K+MVcAhrzTwQRkEfY1/+vX0f8SfG2mfD/wAHX3iXV7LUbu3iCweTp9s1xMzynYuEHJGTyew5r5Z/YX8TQeFr/VfAOr6PrcV/r8sNxaTNpkyW6i3tdrq8jqApO0ketfLU4t0pM+hbR9h6dpemaRb/AGTSdOtbKDcX8q3hWNNx6nCgDNeA/tn+G7hfAcPxE0/xVr+m3miz21glrYahJb29wt1dRIzSiMhiyj7pzjkgg5r6Ir54/bU8T21t8NovAyaZqt1qGt3dreQNaWMk8UcdrdRSSeYyA7SRwoxyfQAkRh23VQ2tDO/Zt+Hfj/xDB4K+Mvir4n3t7psWkGLTtD3XGxYChSJ5mMuySXlmZmQsSR83yivpDUFvHsLlNOYLdtBIICx4Em07M9f4sV4/+yR4mtdX+DOi+Gk0/UrS88K20OmXgvLR4A8m3cGj3gFkweuBzxXoXxOtPE+ofDnxPYeC53h1+40i6i0x0fay3JjYR4J6HPQ+tOrd1bMS2PlW/wDgvrLeHtQ1/wCLn7S95p3j6GOaVbK18TBrUui5QEAxupYj7sYQLkAA9T6t+xx8S/E/xH+G1+fFt7cXt5ompCyS5uSDPJE9vFMqyEAZZPMKbjyQoySck/OPwobwJp/hjUvBup/s06p4r8f3s9z9lurrSV3RblOzzWnw8BjwSzEfM3zbizYr1T9gjV4rTS/FXg64gv8A7a1xb6uJprdkR4fIit8EsAfM3xMSuOAR9K6a0b05XJTs0j6D+Lvw9T4p/D3V/BBvvsUt8kcltcFC6xXEUgkiZlBBZd6jIBBIzXzl4T+Ifx4/Zn0GDwd4++Er614W0gFLbUdLkLiGHJbasqKVZASeZlh2jqT1r3r4/aH438Q/CnWNN+Hct4mvbrae3Fnem1ndI51eVI5AVwzIGABIDZwSAa8c8KfteTeEfDFj4W+IHws8cTeItKs47O5f7KAt/KihS/70q+Wxk8MOeC3fCkm4WtdX2Kfc9Q+B/iH4M/EC51z4k/DfSlstc1d4019ZkKXYfG5BKu4qR12uhKtzgnmum+LPgiP4g+Cbzw/J4h1bRVVlvPtWmTeVOfKy/l7v7jYww7gkV4T+xx4C8X2XiTxh8Tdc8OTeH9L8Qgx6fZTxPC7BrqWc7Y3AYRRiQIhYKThiFAwT9QX0LXNlcWyEBpoZIlz0yykD+dTV9ypowWqsfFf7DXgZPFdzN8RG8Sazp7+HL6ALpdpcbbK986xDfv0x823zfl9Nq19qXl1Fp9lPfXBIitonmc99qqSf0FfGX7H/AIrufhJ4gvPg94r8I6/Hquu6pBAs4sykNrJDa+Uxl3YOwmH5XXcp3r25P2be2kWoWVxYXGfKuoXhfHUK6lT/ADqsT/E8ugo7aHxh8MvD3jb9sDU/EPjnxN8TfEfh3R7G4jgsLLSLlohCZIxKkQTOzCRPGWcgu7s3KqAK7T9mvx5418OfFjxN+zz431+41z+x1nk0+7uJGlkj8kxFl8xyXZHiuIXCsWKNvG4jAHE/CTxhrv7IWoeJPh9488BeINS0+6uI7mxvdOhDpOY4hCrq7bYyrxxxHAbcrbgRjBrsf2avB3izxf8AGPxT+0P4n8P3ei2uqi4i063uo2jeYzeSpIRgG2JFbRruIAZmbHABO07Wlf4baC1uj6S8V+HYvF3hrU/C0+pX+nR6tavaNd2Evl3MAcY3xP8AwuOoOOtfDnwp8JfEv4g+OvHnws8N/FzWtIsrGSeO8vrq8urqd4be9lihWPEqmMsyEvsZQQAvINfc/iLXbPwvoOoeJdQiuZbXS7aS8mS2hMszIg3EIg5ZiBwB1NfGX7MHjK10b49eJdQv9B8QRQ+OLqeDT2bS5lELS3s1wvnMygINjgEgnB4561nQclCTXQp2+Z9l+GNGbw54b0rw+15LeNptnDam4lZi8xRApdixJJYjPJJ55NfGP7TXhDVPA3xf02+vfH3jS38MeM7nzria01eeI6exlWO4WIBhGqokiSqGU8LITnHH3DXi37XXw8Xx/wDBfVXgtDPfeH/+Jtboi7ndEUrcRqOuXgaRR74rPD1OWpr1CSujw/48+HNS1j9pTSPAHgzxz4qW519LH7ckesXEVvaAptzEsTKoxb28srbgcu684avrrQ/CkGg6Lp+hw6tql3Hp1rFaJPcz75pRGgUPIxHzMcZJ7kmvl79jXw/qPjXx/wCJ/jN4jl+1z2sMWlW1yQR5lw8MQkYdsLBFbKCO7P3zX2B+NXWqSi1FPYUV1P/T+kKD+NFFfGH0YUe1FFAFW4uruL/VaXNcf7ssa/8AoTCsi68ReIoNwg+H2qXOOmy+slz+ctdAe31pPSqTS6Ba5wGqfET4h2JY2XwF8T6hkcmHVtMXPt804rS8P+I/F2uaVaX+p+C7nwldzah9kksdR8q7l8ojiXdbyFAvXuffFdZ3H1pyfcb6mrc1bSJNmupz7eJ79WgX/hHriTzluWxGHO3yy4QElAMtsH/fa4zkEsu/E2oWyed/YzTkJE2FEuMFJWbafLyT+7UAEDl1zjPPTv1P+e1O/iP0NK67DOZk8SXc0OvraWWLnSoy0QbdIZGw+0MoAOTsBwpOQ470yTxFq1vFcSyaQ8rx/aCkaowyEljVQSA2SVctx1wePTd0/wD111/18f8Asoq233l/3h/I0adgOeGu6mt4IZNFdle5MKuof5YtsZDHK9fnYnkDCNzu+WqV34s12GwluLDwhPqN4mkrqSWUFyEkldjgQAyhQrk55fAwCeK6sfcb8f8A0Kof+X66/wByP+tLmS6AeeaZ8SviRf8AyXv7PHiqxGes2r6Ww+uFnP8AKujtfE3iec5uPhtq9ueOX1Cxb+UtdEfu/jTx1H0odRPaP5/5kq/cpW19fS8zaJcW/H8c0LY/75Y1dBPGcj29KQdTS1JYV4z+0Ro/x48VWUfg74U2mkDRdYsZrbWLq6uhBcKWZQEjfkxqU3hmCM3I24PNezUDrTjPkfMJq6scT8G/hra/Cb4e6Z4LhuEubi3Dz3tyiFFnupWLyuqnJC7jhRnhQortqKKJScnzMFof/9k="})}),Object(q.jsx)(ks,{onClick:e.toggle,children:Object(q.jsx)(Gc.a,{})}),Object(q.jsxs)(Ns,{children:[Object(q.jsx)(Cs,{children:Object(q.jsxs)(Is,{to:"/stories",smooth:"true",duration:500,spy:"true",exact:"true",offset:-80,children:[" ","\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd"," "]})}),Object(q.jsx)(Cs,{children:Object(q.jsxs)(Is,{to:"/treasureHuntSearch",smooth:"true",duration:500,spy:"true",exact:"true",offset:-80,children:[" ","\u05de\u05e6\u05d0 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df"," "]})}),("admin"===(null===O||void 0===O?void 0:O.type)||"creator"===(null===O||void 0===O?void 0:O.type)||"registered"===(null===O||void 0===O?void 0:O.type))&&Object(q.jsx)(Cs,{children:Object(q.jsxs)(Is,{to:"/activity",smooth:"true",duration:500,spy:"true",exact:"true",offset:-80,children:[" ","\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05e9\u05dc\u05d9"," "]})}),Object(q.jsx)(Cs,{children:Object(q.jsxs)(Is,{to:"/almaInfo",smooth:"true",duration:500,spy:"true",exact:"true",offset:-80,children:[" ","\u05d0\u05d5\u05d3\u05ea\u05d9\u05e0\u05d5"," "]})}),"admin"===(null===O||void 0===O?void 0:O.type)&&Object(q.jsx)(Cs,{children:Object(q.jsxs)(Is,{to:"/approveContent",smooth:"true",duration:500,spy:"true",exact:"true",offset:-80,children:[" ","\u05d0\u05d9\u05e9\u05d5\u05e8 \u05ea\u05db\u05e0\u05d9\u05dd"," "]})}),("admin"===(null===O||void 0===O?void 0:O.type)||"creator"===(null===O||void 0===O?void 0:O.type))&&Object(q.jsxs)(As.a,{title:Object(q.jsx)("span",{className:c.TheButton,children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d5\u05db\u05df"}),children:[Object(q.jsxs)(As.a.Item,{className:c.Item,href:"/addStory",children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e1\u05d9\u05e4\u05d5\u05e8 \ud83d\udcdc"," "]}),Object(q.jsxs)(As.a.Item,{className:c.Item,href:"/addQuiz",children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e9\u05d7\u05e7 \u05de\u05d8\u05de\u05d5\u05df \ud83d\udd75\ufe0f\u200d\u2640\ufe0f"," "]}),"admin"===(null===O||void 0===O?void 0:O.type)&&Object(q.jsxs)(As.a.Item,{className:c.Item,href:"/addSite",children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05d0\u05ea\u05e8 \ud83d\uddfa"]}),"admin"===(null===O||void 0===O?void 0:O.type)&&Object(q.jsxs)(As.a.Item,{className:c.Item,href:"/addIntrestPoint",children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df \ud83d\udcdd"]}),Object(q.jsxs)(As.a.Item,{className:c.Item,href:"/addClue",children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05de\u05d6 \ud83d\udd0d"]}),Object(q.jsxs)(As.a.Item,{className:c.Item,href:"/addQuestion",children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e9\u05d0\u05dc\u05d4 \ud83e\udd14"," "]})]})]}),"admin"===(null===O||void 0===O?void 0:O.type)||"creator"===(null===O||void 0===O?void 0:O.type)||"registered"===(null===O||void 0===O?void 0:O.type)?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{children:[Object(q.jsx)(zs,{to:"/activity",children:Object(q.jsx)(ts,{sizeAvatar:"30px",userURL:null===O||void 0===O?void 0:O.ProfieImgURL})}),Object(q.jsx)(Ls,{style:{color:"#3B2A1A",fontSize:"17px"},children:v})]}),Object(q.jsx)(wt.a,{variant:"text",onClick:function(e){return g.apply(this,arguments)},style:{color:"#3B2A1A"},children:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea\u21a9\ufe0e"})]}):Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)("div",{children:[Object(q.jsx)(zs,{to:"/signin",children:Object(q.jsx)(ts,{sizeAvatar:"30px",userURL:null===O||void 0===O?void 0:O.ProfieImgURL})}),Object(q.jsx)(Ls,{style:{color:"#3B2A1A",fontSize:"17px"},children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"})]})})]})})})},Es=m.a.aside(js||(js=Object(O.a)(["\n  position: fixed;\n  z-index: 999;\n  height: 100%;\n  width: 100%;\n  background-image: url(",");\n  // background: #3B2A1A;\n  display: grid;\n  align-items: center;\n  top: 0;\n  left: 0;\n  transition: all 0.3s ease-in-out;\n  opacity: ",";\n  top: ",";\n  // top: 0;\n"])),da,(function(e){return e.isOpen?"150%":"0"}),(function(e){return e.isOpen?"0":"-150%"})),Hs=Object(m.a)(Gc.d)(bs||(bs=Object(O.a)(["\n  color: #3b2a1a;\n"]))),Ps=m.a.div(hs||(hs=Object(O.a)(["\n  position: absolute;\n  top: 1.2rem;\n  right: 1.5rem;\n  background: transparent;\n  font-size: 2rem;\n  cursor: pointer;\n  outline: none;\n"]))),qs=m.a.div(ps||(ps=Object(O.a)(["\n  color: #fff;\n"]))),Ts=m.a.ul(fs||(fs=Object(O.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: repeat(6, 80px);\n  text-align: center;\n\n  @media screen and (max-width: 413) {\n    grid-template-rows: repeat(6, 60px);\n  }\n"]))),Us=Object(m.a)(h.b)(xs||(xs=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  text-decoration: none;\n  list-style: none;\n  transition: 0.2s ease-in-out;\n  text-decoration: none;\n  color: #734d26;\n  cursor: pointer;\n\n  &:hover {\n    color: #c8b394;\n    transition: 0.2s ease-in-out;\n  }\n"]))),Rs=(m.a.div(Os||(Os=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n"]))),Object(m.a)(h.b)(ms||(ms=Object(O.a)(["\n  border-radius: 50px;\n  background: #eae2b6;\n  white-space: nowrap;\n  padding: 16px 64px;\n  color: #010606;\n  font-size: 16px;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #7f8b52;\n    color: #c8b394;\n  }\n"]))),function(e){var t,n,r,a,c,s,o,l=Object(i.useState)(),u=Object(b.a)(l,2),h=u[0],f=u[1],x=U(),O=x.currentUser,m=x.logout,v=Object(p.f)();function g(){return(g=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!O){e.next=7;break}return e.next=5,m().then((function(){v.push("/")}));case 5:e.next=8;break;case 7:window.location.reload(!1);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){var t,n,r,a,i;f(h?{email:null===(t=e.user)||void 0===t?void 0:t.email,firstName:null===(n=e.user)||void 0===n?void 0:n.firstName,lastName:null===(r=e.user)||void 0===r?void 0:r.lastName,ProfieImgURL:null===(a=e.user)||void 0===a?void 0:a.ProfieImgURL}:{email:"",firstName:"",lastName:"",ProfieImgURL:null}),console.log("type sidebar",null===(i=e.user)||void 0===i?void 0:i.type)}),[e.user]),Object(q.jsxs)(Es,{isOpen:e.isOpen,onClick:e.toggle,children:[Object(q.jsx)(Ps,{onClick:e.toggle,children:Object(q.jsx)(Hs,{})}),Object(q.jsxs)(qs,{children:[Object(q.jsxs)(Ts,{children:[Object(q.jsxs)(Us,{to:"/almaInfo",onClick:e.toggle,children:[" ","\u05d0\u05d5\u05d3\u05d5\u05ea\u05d9\u05e0\u05d5"," "]}),Object(q.jsxs)(Us,{to:"/treasureHuntSearch",onClick:e.toggle,children:[" ","\u05de\u05e6\u05d0 \u05d0\u05ea \u05d4\u05de\u05d8\u05de\u05d5\u05df"]}),Object(q.jsxs)(Us,{to:"/stories",onClick:e.toggle,children:[" ","\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd"," "]}),"registered"===(null===(t=e.user)||void 0===t?void 0:t.type)&&Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(Us,{to:"/activity",onClick:e.toggle,children:[" ","\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05e9\u05dc\u05d9"," "]})}),("admin"===(null===(n=e.user)||void 0===n?void 0:n.type)||"creator"===(null===(r=e.user)||void 0===r?void 0:r.type))&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Us,{to:"/activity",onClick:e.toggle,children:[" ","\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05e9\u05dc\u05d9"," "]}),Object(q.jsxs)(Us,{to:"/addStory",onClick:e.toggle,children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e1\u05d9\u05e4\u05d5\u05e8"," "]}),Object(q.jsxs)(Us,{to:"/addQuiz",onClick:e.toggle,children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05de\u05e9\u05d7\u05e7 \u05de\u05d8\u05de\u05d5\u05df"," "]}),Object(q.jsxs)(Us,{to:"/addClue",onClick:e.toggle,children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e8\u05de\u05d6"," "]}),Object(q.jsxs)(Us,{to:"/addQuestion",onClick:e.toggle,children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e9\u05d0\u05dc\u05d4"," "]})]}),"admin"===(null===(a=e.user)||void 0===a?void 0:a.type)&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Us,{to:"/addSite",onClick:e.toggle,children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05d0\u05ea\u05e8"," "]}),Object(q.jsxs)(Us,{to:"/addIntrestPoint",onClick:e.toggle,children:[" ","\u05d4\u05d5\u05e1\u05e4\u05ea \u05e0\u05e7\u05d5\u05d3\u05ea \u05e2\u05e0\u05d9\u05d9\u05df"," "]}),Object(q.jsxs)(Us,{to:"/approveContent",onClick:e.toggle,children:[" ","\u05d0\u05d9\u05e9\u05d5\u05e8 \u05ea\u05db\u05e0\u05d9\u05dd"," "]})]})]}),("admin"===(null===(c=e.user)||void 0===c?void 0:c.type)||"creator"===(null===(s=e.user)||void 0===s?void 0:s.type)||"registered"===(null===(o=e.user)||void 0===o?void 0:o.type))&&Object(q.jsx)(wt.a,{onClick:function(e){return g.apply(this,arguments)},style:{color:"#fff",fontSize:"18px"},children:"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea\u21a9\ufe0e"})]})]})}),Ws=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().collection("users").doc(n),e.next=4,r.get();case 4:return a=e.sent,(i=a.data()).id=n,console.log(i),e.next=10,Ms(n).then((function(e){i.playedGames=e}));case 10:return e.next=12,Qs(n).then((function(e){i.storyLikes=e}));case 12:return e.next=14,Gs(n).then((function(e){i.likedGames=e}));case 14:t.setUser(i),e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.log("error_fetchIntrestPoint",e.t0),e.abrupt("return");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),Fs=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qs(n.id).then((function(e){n.storyLikes=e}));case 3:return e.next=5,Gs(n.id).then((function(e){n.likedGames=e}));case 5:t.setUser(n),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log("error_fetchIntrestPoint",e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Qs=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collection("users").doc(t).collection("LikedStories"),e.next=4,n.get();case 4:return r=e.sent,a={},console.log("LikedStories",a),r.docs.forEach((function(e){a["".concat(e.id)]=e.data()})),console.log("LikedStories",a),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),console.log("error_fetchIntrestPoint",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Gs=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collection("users").doc(t).collection("LikedGames"),e.next=4,n.get();case 4:return r=e.sent,a={},console.log("LikedGames",a),r.docs.forEach((function(e){a["".concat(e.id)]=e.data()})),console.log("LikedGames",a),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),console.log("error_fetchIntrestPoint",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Ms=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.a.firestore().collection("users").doc(t).collection("playedGames"),e.next=4,n.get();case 4:return r=e.sent,a={},console.log("playedGames",a),r.docs.forEach((function(e){a["".concat(e.id)]=e.data(),a["".concat(e.id)].GameAdvance=parseInt(a["".concat(e.id)].qNum/a["".concat(e.id)].numOfQuestions*100)})),console.log("playedGamesData",a),e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),console.log("error_fetchIntrestPoint",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),Ks=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Xs=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=E.a.firestore().collection("TreasureHunt").doc(n),e.next=4,r.get();case 4:a=e.sent,(i=a.data())&&(i.id=n,t.setTreasureHunt(i)),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log("error_fetchTreasureHunt",e.t0),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Js=function e(){Object(jt.a)(this,e),this.userObs=Object(Ft.b)({user:null,signInUser:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.user){e.next=5;break}return e.next=3,Ws(this,t.uid).then((function(){return console.log("get info from firebase user",n.user),n.user}));case 3:e.next=7;break;case 5:return console.log("Already exsit user",this.user),e.abrupt("return",this.user);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),setUser:Object(Ft.a)((function(e){return this.user=e})),updateUserParameters:Object(Ft.a)((function(e){this.user.playedGames["".concat(e.treasureHuntID)]={qNum:e.qnum,boolStartGame:e.boolStartGame,flag:!0,prevAnswer:e.prevAnswer,score:e.score}})),get userInfo(){return this.user},setUserGameProgress:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,a,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("totalQuestions19.2",n),t.playedGames["".concat(i)]={qNum:0,numOfQuestions:n.gameList.length,quizName:null===n||void 0===n?void 0:n.quizName,boolStartGame:a,score:0,GameAdvance:0},this.user=t,e.prev=3,e.next=6,E.a.firestore().collection("users").doc(t.id).collection("playedGames").doc(i).set({qNum:0,numOfQuestions:t.playedGames["".concat(i)].numOfQuestions,quizName:n.quizName,boolStartGame:a,score:0});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",null);case 12:return e.abrupt("return",this.user);case 13:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),updateUserGameProgress:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,a,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updateuser",t),console.log("updateuser parameters",n),console.log("19.1",parseInt(100*(n.qNum+1)/r.gameList.length)),t.playedGames["".concat(n.treasureHuntID)]={qNum:n.qNum+1,numOfQuestions:r.gameList.length,quizName:null===r||void 0===r?void 0:r.quizName,boolStartGame:i,prevAnswer:n.prevAnswer,score:n.score,GameAdvance:parseInt((n.qNum+1)/r.gameList.length*100)},this.user=t,e.prev=5,console.log(n.qNum),e.next=9,E.a.firestore().collection("users").doc(t.id).collection("playedGames").doc(n.treasureHuntID).update({qNum:n.qNum+1,score:n.score,prevAnswer:n.prevAnswer});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",null);case 15:return e.abrupt("return",this.user);case 16:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),getUserTreasureHunt:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.user){e.next=5;break}return e.next=3,Ks(this,t,n).then((function(){return console.log("get info from firebase TreasureHunt",r.user),r.user}));case 3:e.next=7;break;case 5:return console.log("Already exsit TreasureHunt",this.user),e.abrupt("return",this.user);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()),updatesLikesTH:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,a){var i,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=E.a.firestore().batch(),console.log(t.id),console.log(a),console.log(r),c=E.a.firestore().collection("TreasureHunt").doc(n).collection("gameLikes").doc(t.id),s=E.a.firestore().collection("TreasureHunt").doc(n),o=E.a.firestore().collection("users").doc(t.id).collection("LikedGames").doc(n),!0!==a){e.next=17;break}return i.set(c,{}),i.set(o,{}),i.update(s,{treasureHuntLikesNum:r}),e.next=14,i.commit();case 14:this.user.likedGames[n]={},e.next=23;break;case 17:return i.delete(c),i.update(s,{treasureHuntLikesNum:r}),i.delete(o),e.next=22,i.commit();case 22:this.user.likedGames[n]=null;case 23:e.next=29;break;case 25:return e.prev=25,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 29:return e.abrupt("return",this.user);case 30:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()),updatesLikesStory:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t,n,r,a){var i,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("i'm heree",n),e.prev=1,i=E.a.firestore().batch(),console.log(t.id),console.log(a),console.log(r),c=E.a.firestore().collection("Stories").doc(n).collection("storyLikes").doc(t.id),s=E.a.firestore().collection("Stories").doc(n),o=E.a.firestore().collection("users").doc(t.id).collection("LikedStories").doc(n),console.log("add doc",o),!0!==a){e.next=19;break}return i.set(c,{}),i.set(o,{}),i.update(s,{storyLikesNum:r}),e.next=16,i.commit();case 16:this.user.storyLikes[n]={},e.next=25;break;case 19:return i.delete(c),i.update(s,{storyLikesNum:r}),i.delete(o),e.next=24,i.commit();case 24:this.user.storyLikes[n]=null;case 25:e.next=31;break;case 27:return e.prev=27,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 31:return e.abrupt("return",this.user);case 32:case"end":return e.stop()}}),e,this,[[1,27]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()),getNewLikesForUser:Object(Ft.a)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fs(this,this.user);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 9:return e.abrupt("return",this.user);case 10:case"end":return e.stop()}}),e,this,[[0,5]])}))))}),this.inTreasureHuntObs=Object(Ft.b)({treasureHunt:null,setTreasureHunt:Object(Ft.a)((function(e){this.treasureHunt=e})),get getTreasureHunt(){return this.treasureHunt},initTreasureHunt:Object(Ft.a)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(this,t).then((function(){return console.log("get info from firebase treasureHunt",n.treasureHunt),n.treasureHunt}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),resetTH:Object(Ft.a)((function(){this.treasureHunt=null}))}),this.userUnregisteredObs=Object(Ft.b)({userUnregistered:null,signInUser:Object(Ft.a)((function(){return this.userUnregistered?console.log("Already exsit user",this.userUnregistered):(this.userUnregistered={},console.log("intialiezed userUnregistered",this.userUnregistered)),this.userUnregistered})),setUser:Object(Ft.a)((function(e){return this.userUnregistered=e})),updateUserParameters:Object(Ft.a)((function(e){this.userUnregistered.playedGames["".concat(e.treasureHuntID)]={qNum:e.qnum,boolStartGame:e.boolStartGame,flag:!0,prevAnswer:e.prevAnswer,score:e.score}})),get userInfo(){return this.userUnregistered},setUserGameProgress:Object(Ft.a)((function(e,t,n,r,a){return e.playedGames={},e.playedGames["".concat(a)]={qNum:0,numOfQuestions:t.gameList.length,quizName:t.quizName,boolStartGame:r,score:0},this.userUnregistered=e,this.userUnregistered})),updateUserGameProgress:Object(Ft.a)((function(e,t,n,r,a){return console.log("updateuser",e),console.log("updateuser parameters",t),e.playedGames["".concat(t.treasureHuntID)]={qNum:t.qNum+1,numOfQuestions:n.gameList.length,quizName:n.quizName,boolStartGame:a,prevAnswer:t.prevAnswer,score:t.score},this.user=e,this.userUnregistered})),getUserTreasureHunt:Object(Ft.a)((function(e,t){}))})},Ys=(n(447),function(e){Object(pt.a)(n,e);var t=Object(ft.a)(n);function n(e){var r;return Object(jt.a)(this,n),(r=t.call(this,e)).toggleLike=function(e){var t=r.state,n=t.likesnum,a=t.liked,i=t.userObs,c=t.sID;n=a?n-1:n+1,a=!a,r.setState({likesnum:n,liked:a}),i.updatesLikesStory(i.userInfo,c,n,a)},r.state={liked:e.liked,likesnum:e.likesnum,storyContent:e.storyContent,path:e.path,userObs:e.userObs,sID:e.sID},r}return Object(bt.a)(n,[{key:"render",value:function(e){var t,n,r,a=this.state,i=a.likesnum,c=a.liked,s=a.path,o=(a.storyContent,a.userObs);return Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{className:"scroll",dir:"rtl",children:this.state.storyContent}),Object(q.jsxs)("div",{className:"row","justify-content":"space-between",display:"flex",children:[Object(q.jsxs)("div",{className:"col-8",children:["registered"===(null===o||void 0===o||null===(t=o.userInfo)||void 0===t?void 0:t.type)||"creator"===(null===o||void 0===o||null===(n=o.userInfo)||void 0===n?void 0:n.type)||"admin"===(null===o||void 0===o||null===(r=o.userInfo)||void 0===r?void 0:r.type)?Object(q.jsx)("button",{className:"likeBtn",onClick:this.toggleLike,children:c?Object(q.jsx)(vt.a,{style:{color:"#b71c1c"}}):Object(q.jsx)(Ot.a,{style:{color:"#b71c1c"}})}):null,i]}),Object(q.jsx)("div",{className:"col-3",children:Object(q.jsx)("button",{className:"backBtn",onClick:s,children:"\u05d7\u05d6\u05d5\u05e8"})})]})]})}}]),n}(i.Component)),Vs=Object(L.a)((function(e){return{paper:{marginBottom:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},Container:{opacity:.99999,zIndex:50}}}));var Zs=function(e){var t=Vs(),n=Object(p.f)(),r=m.a.div(vs||(vs=Object(O.a)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: ","%;\n    overflow: hidden;\n    opacity: 0.25;\n    z-index: -1;\n  "])),(function(e){return e.VideoBg?e.VideoBg+100:100})),a=m.a.div(gs||(gs=Object(O.a)(["\n    border: 1px solid #000;\n    background-image: url(",");\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    -o-object-fit: cover;\n    object-fit: cover;\n    width: 100%;\n    height: ","%;\n  "])),e.imgsrc,(function(e){return e.VideoBg?e.VideoBg+100:100}));return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(B.a,{className:t.Container,component:"main",maxWidth:"xs",dir:"rtl",children:[Object(q.jsx)(r,{size:0,children:Object(q.jsx)(a,{size:0})}),Object(q.jsx)(w.a,{}),Object(q.jsx)("div",{className:t.paper,children:Object(q.jsx)(N.a,{container:!0,spacing:2,children:Object(q.jsxs)(N.a,{item:!0,xs:12,children:[Object(q.jsxs)(z.a,{component:"h1",variant:"h5",children:[e.title," "]}),Object(q.jsxs)("p",{className:"author",children:[Object(q.jsx)(At.a,{style:{color:"#e67700"}}),e.author]}),Object(q.jsx)(Ys,{liked:e.liked,likesnum:e.likesnum,storyContent:e.storyContent,path:n.goBack,userObs:e.userObs,sID:e.sID})]})})})]})})},_s=Object(fe.c)({plugins:[].concat(Object(f.a)(Object(be.a)().plugins),[Oe()()])}),$s=Object(de.a)({direction:"rtl"});var eo=function(e){var t,n,r,a,c,s,o,l,u=Object(i.useState)(!1),d=Object(b.a)(u,2),j=(d[0],d[1],Object(p.h)().storyId);return console.log("set user location\u05de\u05d2\u05d9\u05e2 state"),void 0!==(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.state)&&(console.log("set user location?.state"),n=e.location.state.title,r=e.location.state.author,a=e.location.state.storyContent,c=e.location.state.liked,s=e.location.state.likesnum,o=e.location.state.imgsrc,console.log("storyContent",a)),l=e.userObs,console.log("sID page",e.sID),Object(q.jsx)("div",{id:"storycontentPage",className:"bodyStandart",children:Object(q.jsx)(he.b,{jss:_s,children:Object(q.jsxs)(pe.a,{theme:$s,children:[Object(q.jsx)(je,{}),Object(q.jsx)(R,{children:Object(q.jsx)(Zs,{title:n,author:r,storyContent:a,liked:c,likesnum:s,imgsrc:o,userObs:l,sID:j})})]})})})},to=new Js;var no=function(){var e=Object(i.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],a=function(){r(!n)},c=U().currentUser,s=to.userObs,o=to.userUnregisteredObs,u=Object(i.useState)(),f=Object(b.a)(u,2),x=f[0],O=f[1],m=Object(i.useState)(),v=Object(b.a)(m,2),g=(v[0],v[1]),A=Object(i.useState)(!1),y=Object(b.a)(A,2),w=y[0],S=y[1],k=Object(i.useState)(),N=Object(b.a)(k,2),C=N[0],I=N[1];return Object(i.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O({}),!c){e.next=12;break}return e.prev=2,e.next=5,s.signInUser(c).then((function(){var e;O(s.userInfo),S(null===s||void 0===s||null===(e=s.userInfo)||void 0===e?void 0:e.type),I(!0)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("error",e.t0);case 10:e.next=13;break;case 12:try{O(),o.signInUser(),g(o.userInfo),I(!0)}catch(t){console.log("error",t)}case 13:case"end":return e.stop()}}),e,null,[[2,7]])}))),[c]),console.log("refresh-app"),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(h.a,{children:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Rs,{isOpen:n,toggle:a,user:x}),Object(q.jsx)(Ds,{toggle:a,user:x}),Object(q.jsx)("div",{id:"body1",children:Object(q.jsxs)(p.c,{children:[Object(q.jsx)(p.a,{path:"/",component:function(){return Object(q.jsx)(ge,{user:x,toDisplay:C})},exact:!0}),Object(q.jsx)(p.a,{path:"/almaInfo",component:aa,exact:!0}),Object(q.jsx)(p.a,{path:"/signin",component:Ne,exact:!0}),Object(q.jsx)(p.a,{path:"/signup",component:Ze,exact:!0}),Object(q.jsx)(p.a,{path:"/editProfile",component:function(){return Object(q.jsx)(at,{user:x})},exact:!0}),Object(q.jsx)(p.a,{path:"/ForgotPassword",component:dt,exact:!0}),Object(q.jsx)(p.a,{path:"/intrestPointScan",component:Qi,exact:!0}),Object(q.jsx)(p.a,{path:"/intrestPointInfoPage/:siteID/:intrestPointID",component:lc,exact:!0}),Object(q.jsx)(p.a,{path:"/treasureHuntSearch",component:function(e){return Object(q.jsx)(qn,Object(l.a)(Object(l.a)({},e),{},{userObs:x?s:o}))},exact:!0}),Object(q.jsx)(p.a,{path:"/stories",component:function(e){return Object(q.jsx)(Zn,Object(l.a)(Object(l.a)({},e),{},{userObs:x?s:o}))},exact:!0}),Object(q.jsx)(p.a,{path:"/storycontent/:storyId",component:function(e){return Object(q.jsx)(eo,Object(l.a)(Object(l.a)({},e),{},{userObs:x?s:o}))},exact:!0}),Object(q.jsx)(p.a,{path:"/tresurHuntTamplateQuest",component:function(e){return Object(q.jsx)(lr,Object(l.a)(Object(l.a)({},e),{},{userObs:x?s:o}))},exact:!0}),Object(q.jsx)(p.a,{path:"/treasureHunt/:treasureHuntID",component:function(e){return Object(q.jsx)(Ur,Object(l.a)(Object(l.a)({},e),{},{userObs:x?s:o,inTreasureHuntObs:to.inTreasureHuntObs}))},exact:!0}),("registered"===w||"creator"===w||"admin"===w)&&Object(q.jsx)(p.a,{path:"/activity",component:function(){return Object(q.jsx)(gi,{user:x,userObs:s})},exact:!0}),("creator"===w||"admin"===w)&&Object(q.jsx)(p.a,{path:"/addClue",component:function(){return Object(q.jsx)(Ma,{user:x})},exact:!0}),("creator"===w||"admin"===w)&&Object(q.jsx)(p.a,{path:"/addQuestion",component:function(){return Object(q.jsx)(Da,{user:x})},exact:!0}),("creator"===w||"admin"===w)&&Object(q.jsx)(p.a,{path:"/addQuiz",component:function(){return Object(q.jsx)(ya,{user:x})},exact:!0}),("creator"===w||"admin"===w)&&Object(q.jsx)(p.a,{path:"/addStory",component:function(){return Object(q.jsx)(ti,{user:x})},exact:!0}),"admin"===w&&Object(q.jsx)(p.a,{path:"/addSite",component:function(){return Object(q.jsx)(Oc,{})}}),"admin"===w&&Object(q.jsx)(p.a,{path:"/addIntrestPoint",component:function(){return Object(q.jsx)(Qc,{})}}),"admin"===w&&Object(q.jsx)(p.a,{path:"/approveContent",component:Bi,exact:!0})]})}),Object(q.jsx)($c,{})]})})})};o.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(R,{children:Object(q.jsx)(no,{})})}),document.getElementById("root"))}},[[663,2,3]]]);
//# sourceMappingURL=main.2bbfdca8.chunk.js.map