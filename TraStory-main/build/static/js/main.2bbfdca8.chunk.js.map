{"version":3,"sources":["videos/video.mp4","components/SignIn/SignInElemments.js","Firebase.js","Contexts/AuthContexts.js","components/SignIn/index.js","components/HeroSection/HeroElements.js","components/HeroSection/index.js","components/ScrollToTop.js","pages/index.js","pages/Signin.js","components/AvatarPicker/index.js","components/Signup/SignupElements.js","components/Signup/TextFieldForm.js","components/Signup/index.js","pages/Signup.js","components/EditProfile/index.js","pages/EditProfile.js","components/ForgotPassword/ForgotPasswordElemments.js","components/ForgotPassword/index.js","pages/ForgotPassword.js","images/mapDef.jpg","components/TreasureHuntCards/FullScreenGameCard.js","components/TreasureHuntCards/PhoneScreenGameCard.js","images/viewBackground.jpeg","components/TreasureHuntCards/index.js","stores/Store.js","pages/treasureHuntCards.js","components/Stories/FullScreenStoryCard.js","components/Stories/PhoneScreenStoryCard.js","images/defualt.jpg","components/Stories/index.js","pages/stories.js","components/TresurHuntTamplate/TresurHuntTamplateElemments.js","components/TresurHuntTamplate/Answers.jsx","components/TresurHuntTamplate/Quiz.jsx","components/TresurHuntTamplate/index.js","pages/TresurHuntTamplateQuestPage.js","images/tree.jpeg","components/TreasureHunt/TreasureHuntElement.js","components/QRreader/index.js","components/StaticMap/index.js","images/treasure.png","components/TreasureHunt/index.js","pages/treasureHuntPage.js","components/ButtonElements.js","images/gil.jpeg","images/ido.JPG","images/maria.jpeg","components/AboutUs.js","pages/almaInfo.js","components/AvatarQuiz/index.js","images/treasureBack.png","components/CreateGame/DynamicList.js","components/CreateGame/index.js","pages/addQuiz.js","components/AddQuestion/AddQuestionElements.js","components/AddQuestion/index.js","pages/AddQuestion.js","components/AddClue/AddClueElements.js","components/AddClue/index.js","pages/AddClue.js","components/AddStory/AddStoryElements.js","components/AddStory/index.js","pages/AddStory.js","components/ActivityProfile/progressbarElement.js","videos/vide.mp4","components/EditContent/index.js","components/ActivityProfile/PhoneScreenActivityStoriesElements.js","components/ActivityProfile/FullScreenActivityStoriesElements.js","components/ActivityProfile/index.js","pages/activityProgress.js","components/ApprovalTable/index.js","components/ApprovalTable/ApprovalTableElements.js","pages/approveContet.js","components/ScanIntrestPointInfo/ScanIntrestPointInfoElement.js","components/ScanIntrestPointInfo/index.js","pages/InterstPointScanPage.js","components/IntrestPointInfo/IntrestPointInfoElemments.js","components/CustomizedAccordions.js","components/IntrestPointInfo/index.js","pages/IntrestPointInfoPage.js","components/AddSite/AddSiteElements.js","components/AddSite/index.js","pages/AddSite.js","components/AddIntestPoint/AddIntrestPointElements.js","components/AddIntestPoint/otherDescriptions.js","components/AddIntestPoint/index.js","pages/AddIntrestPoint.js","components/Footer/FooterElements.js","components/Footer/index.js","components/ProfiePic/index.js","images/logo.png","components/Navebar/NavbarElements.js","components/Navebar/index.js","components/Sidebar/SidebarElements.js","components/Sidebar/index.js","stores/UserInfoStore.js","components/StoryContent/iconsPlus.js","components/StoryContent/index.js","pages/storyContent.js","App.js","index.js"],"names":["HeroBg","styled","div","VideoBg","video","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","firestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","email","password","a","createUserWithEmailAndPassword","doc","userid","user","uid","useEffect","onAuthStateChanged","value","login","signInWithEmailAndPassword","then","signup","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","SignIn","props","useStyles","makeStyles","theme","paper","marginTop","spacing","minHeight","inSignInPage","display","flexDirection","alignItems","avatar","margin","backgroundColor","form","width","Container","zIndex","opacity","background","submit","transition","color","fontWeight","validationSchema","Yup","shape","required","formOptions","resolver","yupResolver","useForm","register","handleSubmit","errors","formState","getUserDate","error","setError","history","useHistory","classes","onSubmit","data","e","preventDefault","Promise","resolve","setTimeout","goBack","push","console","log","message","isError","className","component","maxWidth","dir","autoPlay","loop","muted","src","Video","type","CssBaseline","Avatar","Typography","variant","align","unaffected","Grid","container","item","xs","Alert","severity","TextField","name","fullWidth","label","helperText","Button","disabled","justifyContent","Link","href","HeroContainer","HeroContent","HeroH1","h1","HeroP","p","A","HeroBtnWrapper","HeroSection","MdArrowForward","MdKeyboardArrowRight","link","id","style","ScrollToTop","pathName","useLocation","window","scrollTo","jss","create","plugins","jssPreset","rtl","createTheme","direction","Home","userDB","getUserData","StylesProvider","ThemeProvider","toDisplay","SigninPage","imageExport","root","input","fontSize","large","height","border","EditIconButton","withStyles","padding","IconButton","AvatarPicker","startUrl","file","setFile","useTheme","imageRef","useRef","handleChangeImage","avatarImage","URL","createObjectURL","revokeObjectURL","List","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","onClick","current","click","alt","ref","accept","onChange","event","fileObject","target","files","image","img","canvas","document","createElement","ctx","getContext","ratio","Math","min","drawImage","toBlob","blob","resizedFile","File","renderImage","inputType","size","TextFieldForm","textError","marginBottom","Signup","firstName","lastName","matches","confirmPassword","oneOf","isSignOrEdistor","userProfile","defaultValues","ProfieImgURL","control","imageHandler","image1","uploadTask","put","on","snapshot","progress","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","getDownloadURL","downloadURL","collection","update","isAskedToBeCreator","infoProfileValue","length","authAndFirstoreCollection","updateProfile","email1","password1","firstName1","lastName1","url1","useruid","set","isApproved","setAvatarImage","setisAskedToBeCreator","setInfoProfileValue","title","submitEditButtomTitle","imageFile","isEdiable","FormControlLabel","Checkbox","checked","multiline","rows","SignupPage","palette","primary","main","EditProfile","infoProfile","setSuccess","success","EditProfilePage","ForgotPassword","setMessage","ForgotPasswordPage","FullScreenGameCard","likesnum","liked","imgsrc","author","description","storylink","userObs","thID","toggleLike","bind","this","setState","updatesLikesTH","userInfo","imageDef","to","pathname","fromCards","Component","PhoneScreenGameCard","setLiked","setLikesnum","Card","sx","Box","CardContent","flex","CardMedia","createBrowserHistory","backgroundPosition","backgroundSize","backgroundRepeat","backgroundImage","textAlign","DisplayGames","sitesNames","setSitesNames","siteObs","store","selectedSite","siteName","setSiteName","setGames","setUser","gamesObs","reviewStore","treasureHuntObs","selectSiteFilter","initSites","temp","SitesList","map","site","initTreasureHunt","games","slist","userSlist","likedGames","filter","idx","tmpCheck","key","toString","gamesDisplay","treasureHuntList","mb","innerHeight","innerWidth","position","left","borderRadius","fontFamily","FormControl","InputLabel","Select","labelId","MenuItem","option","itm","index","filledCards","imageURL","quizName","authorName","treasureHuntLikesNum","fetchSites","response","get","docs","forEach","siteTemp","declineAllSitesMain","sitesToChange","declineAllSites","removeSiteCollectionsData","removeAllSiteTreasureHunt","delete","all","subSite","removeSubSiteCollectionsData","subSiteName","placeName","removeAllSubSiteStories","where","story","declineStory","th","THtemp","declineTreasureHunt","siteID","removeCluesOFSubSiteData","removeQustionsOFSubSiteData","subSiteID","clue","question","fetchSubSites","subSiteObs","subsiteTemp","addSubSite","fetchAllSubSites","collectionGroup","declineSubSite","subSitesToChange","initAllSubSites","fetchSubSite","subSiteTemp","siteData","subSiteData","response1","response2","setSubSiteinfo","fetchSiteInfo","fetchClues","clueObs","clueTemp","addClue","fetchAllClues","path","arrayPath","split","sizeUrl","approveClues","cluesToChange","batch","sfRef","commit","declineClues","fetchQuestions","questionObs","questionTemp","addQuestion","fetchAllQuestions","approveQuestions","questionsToChange","declineQuestions","fetchStories","storiesObs","isOnlyAprrove","orderBy","storyTemp","approveStories","storyObs","storiesToChange","approveTreasureHuntsOrStories","declineStories","declineTreasureHuntOrStory","sfReflikes","removeTreasureHuntFromAllTheUsers","desertRef","refFromURL","catch","fetchTreasureHunt","treasureHuntTemp","addTreasureHunt","approveTreasureHunt","treasureHuntToChange","items","TreasureHuntOrStory","likesCollection","storyLikesNum","like","includes","itemID","t","ItemPath","data1","temp1","data2","temp2","dataToChange","collectionName","fetchUsers","userTemp","addUser","approveUsers","usersToChange","declined","declineUsers","Store","observable","questions","action","decline","Array","isArray","approve","initQuestions","initAllQuestions","getAllQuestions","clues","initClues","initAllClues","getAllClues","subSites","initSubSites","getAllSubSites","initSubSite","undefined","sites","addSite","getAllSites","stories","addStory","initStories","getAllStories","treasureHunt","getAllTreasureHunt","users","initUsers","TreasureHuntSearch","location","FullscreenStoryCard","istory","sID","updatesLikesStory","slice","storyContent","PhoneScreenStoryCard","maxHeight","customHistory","DisplayStories","setStories","arr","storiesList","storyLikes","storiesDisplay","storyName","Stories","Answers","isAnswered","questionAnswered","classNames","checkAnswer","elem","currentTarget","correct","increaseScore","answer","Number","dataset","updatedClassNames","showButton","answers","Quiz","qNum","myqNum","total","totalQuestions","score","myScore","lastscore","isOnlyQuiz","dataQuestions","nextQuestion","handleShowButton","handleStartQuiz","handleIncreaseScore","pushData","alert","isFlag","prevAnswer","isJustAnswerd","withRouter","TresurHuntTamplate","TresurHuntTamplatePage","flag","ImageBg","QRreader","setScanResultWebCam","isQRScan","setIsQRScan","info","infoInizialize","isURL","textInfo","setTextInfo","isCorrectScan","isInGameMode","bgcolor","m","delay","onError","onScan","result","element","parameters","treasureHuntID","url","handleURL","handleTextInfo","showViewFinder","StaticMap","pointIntrest","geoPointSite","latitude","longitude","gameList","i","geoPoint","locations","MapContainer","center","zoom","TileLayer","attribution","Marker","icon","_iconSize","forecast","L","iconUrl","iconSize","Popup","sizePage","TheButton","whiteSpace","outline","cursor","bTStyled","hTStyled","fontStyle","TreasureHunt","setScore","setQNum","setPrevAnswer","setParameters","open","setOpen","scroll","setScroll","handleClose","round","descriptionElementRef","descriptionElement","focus","returnMyScoreNotice","finalScore","nextclue","playedGames","setBoolStartGame","updateUserGameProgress","boolStartGame","scrollType","answerResultFeedback","startGameDisplay","setUserGameProgress","barcode","Dialog","onClose","minWidth","DialogTitle","DialogContent","dividers","DialogContentText","DialogActions","textDecoration","alignContent","alignitem","qrURL","TreasureHuntPage","setTreasureHunt","useParams","bool","setBool","inTreasureHuntObs","getTreasureHunt","LinkR","big","dark","fontBig","toAlma","AboutUs","AppBar","pt","pb","gutterBottom","paragraph","Stack","py","sm","md","gil","flexGrow","CardActions","ido","maria","AlmaInfo","getURL","DynamicList","setGameList","delteItem","toast","splice","Toast","show","Header","Body","canSave","schema","CreateGame","setSites","setSubSites","setClues","setQuestions","selectDisabled","setSelectDisabled","totalSize","setTotalSize","wordBreak","setShow","reset","setSelectedQuestion","setSelectedClue","setSelectedLocation","setSelectedPoint","setDisableFinish","selectedLocation","selectedPoint","selectedClue","selectedQuestion","isLocationSelected","setIsLocationSelected","isPointSelected","setIsPointSelected","disableFinish","arg","Offcanvas","onHide","closeButton","Title","add","sitePhoto","AvatarQuiz","select","subSitesList","CircularProgress","arrClue","cluesList","arrQ","questionsList","correctAnswer","pointName","AddQuiz","AddQuestion","answer1","answer2","answer3","answer4","shuffle","locationName","creator","randomIndex","array","currentIndex","floor","random","setQuestionValue","setAnswer1Value","setAnswer2Value","setAnswer3Value","setAnswer4Value","AddQuestionPage","AddClue","setClueValue","AddCluePage","AddStory","setStoryValue","setStoryNameValue","AddStoryPage","ProgressBar","pogress","fillerStyles","completed","labelStyles","bartitle","numOfQuestions","PhoneScreenActivityStoriesElements","storyTitle","FullScreenActivityStoriesElements","button","ActivityProfile","plist","mlist","subject","setSubject","screenType","setScreenType","userName","getSubject","stype","getNewLikesForUser","hasOwnProperty","tmp","GameAdvance","barsDisplay","ActProg","choosenObs","MuiSelect_select","AprprovalTable","treasureHunts","setTreasureHunts","setUsers","setTableList","topic","setTopic","optionList","selectedList","setSelectedList","openInfoStation","setOpenInfoStation","dialogInfo","setDialogInfo","stationInfo","setStationInfo","handleColseInfoStation","handleSelectAllClick","Set","usersList","toDataBase","setIsApproved","setIsAskedToBeCreator","selectFilter","defaultValue","Table","celled","compact","definition","Row","HeaderCell","Cell","collapsing","inputProps","slider","station","handleClickInfoStation","mainDescription","Footer","colSpan","autoFocus","ApproveContentPage","bgSize","ScanIntrestPointInfo","ScanIntrestPointInfos","ArrowForward","ArrowRight","Accordion","disableGutters","elevation","square","divider","borderBottom","AccordionSummary","expandIcon","mode","transform","marginLeft","AccordionDetails","MuiAccordionDetails","borderTop","CustomizedAccordions","expanded","setExpanded","otherDescriptions","handleChange","panel","isExpanded","panelName","text","IntrestPointDataInfo","IntrestPointInfo","SetIntrestPointInfo","almaExpandedSize","intrestPointID","hover","setHover","onHover","subSiteInfo","SetAlmaExpandedSize","onMouseEnter","onMouseLeave","smooth","duration","spy","exact","offset","InterstPointInfoPage","AddSite","siteDescription","lat","typeError","long","latValue","setLatValue","longValue","setLongValue","geoLocation","GeoPoint","setSiteNameValue","setSiteDescriptionValue","siteNameValue","siteDescriptionValue","AddSitePage","toExport","toExportAlma","getTopicText","checkInfo","OtherDescriptions","otherDescriptionsList","setArr","almaList","arrAlma","setArrAlma","arrTexTopic","setArrTexTopic","arrTexTopicAlma","setArrTexTopicAlma","setArrAlmaTexTopic","setText","setTextAlma","setTopicAlma","isSubmited","handleChangeTopic","handleChangeText","handleChangeTopicAlma","handleChangeTextAlma","AddIntrestPoint","intrestPointName","setIntrestPointNameValue","setDescriptionValue","setAlmaList","setOtherDescriptionsList","descriptionValue","intrestPointNameValue","setIsSubmited","errorTopic","errorText","helperTextTopic","helperTextText","AddIntrestPointPage","FooterContainer","footer","FooterWrap","SocialMedia","section","SocialMediaWrap","SocialLogo","WebsiteRights","small","SocialIcons","SocialIconLink","Date","getFullYear","herf","ProfiePic","userURL","Nav","nav","scrollNav","NavbarContainer","NavLogo","MobileIcon","NavMenu","ul","NavItem","li","NavLinks","NavBtnLink","LogParaphP","fill","Item","Navbar","setScrollNav","changeNav","scrollY","logParaph","reload","addEventListener","scrollToTop","toggle","NavDropdown","sizeAvatar","SidebarContainer","aside","isOpen","CloseIcon","FaTimes","Icon","SidebarWrapper","SidebarMenu","SidebarLink","Sidebar","getUser","userData","userSignIn","getUserPlayedGames","playedGamesData","getUserlikedStories","storyLikesData","getUserlikedGames","likedGamesData","getNewLikes","storyData","userSignInStoriesData","gamesLikesData","userSignInLikedGamesData","gameData","userSignInGamesData","parseInt","getUserTreasureHunt","userID","treasureHuntData","UserInfoStore","signInUser","updateUserParameters","qnum","addOrRemove","sfRef1","sfRef2","resetTH","userUnregisteredObs","userUnregistered","IconsP","StoryContent","storyId","userInfoStore","App","setIsOpen","SetUser","SetUserUnregistered","setType","setToDisplay","InterstPointScanPage","IntrestPointInfoPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2bbfdca8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/video.5f562593.mp4\";","import styled from \"styled-components\";\r\n\r\nexport const HeroBg = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  opacity: 0.5;\r\n  z-index: -1;\r\n\r\n  @media screen and (max-width: 1080px) {\r\n    height: 100%;\r\n  }\r\n\r\n  @media screen and (max-width: 960px) {\r\n    height: 100%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nexport const VideoBg = styled.video`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  -o-object-fit: cover;\r\n  object-fit: cover;\r\n  background: #232a34;\r\n  opacity: 0.5;\r\n  z-index: -1;\r\n`;\r\n","import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAJ3dkpFhfBo5BJwjycdDZ9kpGyf4DzgcA\",\r\n  authDomain: \"tracetory-4340e.firebaseapp.com\",\r\n  projectId: \"tracetory-4340e\",\r\n  storageBucket: \"tracetory-4340e.appspot.com\",\r\n  messagingSenderId: \"628717194814\",\r\n  appId: \"1:628717194814:web:016c6a3be539b88dc44b6f\",\r\n  measurementId: \"G-09YT4YQKFK\"\r\n})\r\n\r\n// firebase.initializeApp(firebaseConfig)\r\n\r\nexport const auth = app.auth()\r\n\r\nconst storage = firebase.storage();\r\nconst firestore = firebase.firestore(); \r\n\r\n\r\nexport { storage, firebase as default, firestore };\r\n\r\n\r\n","import React, { useContext, useState, useEffect } from \"react\"\r\nimport firebase,{ auth } from \"../Firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  async function signup(email, password) {\r\n    const doc = await auth.createUserWithEmailAndPassword(email, password);\r\n    let userid = doc.user.uid;\r\n    return userid;\r\n  }\r\n\r\n  function login(email, password) {\r\n    // let userTemp= {email:'', firstName:'', lastName:'',ProfieImgURL:''};\r\n    return auth.signInWithEmailAndPassword(email, password).then((doc)=>{\r\n\r\n    })\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    // console.log(currentUser.uid)\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)     \r\n    })\r\n    \r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword,\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}","import { HeroBg, VideoBg } from \"./SignInElemments\";\r\nimport Video from \"../../videos/video.mp4\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport React, { useState } from \"react\";\r\nimport { useAuth } from \"../../Contexts/AuthContexts\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as Yup from \"yup\";\r\n\r\nexport default function SignIn(props) {\r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(0),\r\n      minHeight: props?.inSignInPage ? \"86vh\" : \"0\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: \"#3B2A1A\",\r\n    },\r\n    form: {\r\n      width: \"100%\", // Fix IE 11 issue.\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    Container: {\r\n      zIndex: 99,\r\n      opacity: props?.inSignInPage ? 0.99999 : null,\r\n      background: !props?.inSignInPage ? \"white\" : null,\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n      backgroundColor: \"#412F1D\",\r\n      \"&:hover\": {\r\n        transition: \"all 0.2s ease-in-out\",\r\n        background: \"#3B2A1A\",\r\n        color: \"#FE9A0F\",\r\n        fontWeight: \"bold\",\r\n      },\r\n    },\r\n  }));\r\n\r\n  const errorRequiredField = \"   \";\r\n  // form validation rules\r\n  const validationSchema = Yup.object().shape({\r\n    email: Yup.string()\r\n      .required(\"\" + errorRequiredField)\r\n      .email(\"  \"),\r\n    password: Yup.string()\r\n      //   ,         ,      '.matches'   \r\n      .required(\"\" + errorRequiredField),\r\n  });\r\n  const formOptions = { resolver: yupResolver(validationSchema) };\r\n\r\n  // get functions to build form with useForm() hook\r\n  const { register, handleSubmit, formState } = useForm(formOptions);\r\n  const { errors } = formState;\r\n\r\n  const { login, getUserDate } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  // const [values, setValues] = useState(initialValues);\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await login(data.email, data.password).then(() => {\r\n        new Promise((resolve) => setTimeout(resolve, 800)).then(() => {\r\n          setLoading(false);\r\n          props?.inSignInPage ? history.goBack() : history.push(\"/\");\r\n        });\r\n      });\r\n    } catch (e) {\r\n      console.log(\"error\", e.message);\r\n      setError(\"      \");\r\n      history.push(props?.inSignInPage ? \"/signin\" : \"/\"); //\"/signin\"\r\n      setLoading(false);\r\n      return;\r\n    }\r\n  };\r\n\r\n  function isError(error) {\r\n    if (error) return true;\r\n    else return false;\r\n  }\r\n\r\n  console.log(\"refresh-signin\");\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\r\n        {props?.inSignInPage && (\r\n          <HeroBg>\r\n            <VideoBg autoPlay loop muted src={Video} type=\"video/mp4\" />\r\n          </HeroBg>\r\n        )}\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\" align=\"center\">\r\n            \r\n          </Typography>\r\n          <div className={classes.unaffected}>\r\n            <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\r\n              <Grid container spacing={2}>\r\n                {error && (\r\n                  <Grid item xs={12}>\r\n                    <Alert severity=\"error\">{error}</Alert>\r\n                  </Grid>\r\n                )}\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    name=\"email\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    type=\"email\"\r\n                    label=\"\"\r\n                    {...register(\"email\")}\r\n                    error={isError(errors.email)}\r\n                    className={`${errors.email ? \"is-invalid\" : \"\"}`}\r\n                    helperText={errors.email?.message}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    name=\"password\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    type=\"password\"\r\n                    label=\"\"\r\n                    {...register(\"password\")}\r\n                    error={isError(errors.password)}\r\n                    className={`${errors.password ? \"is-invalid\" : \"\"}`}\r\n                    helperText={errors.password?.message}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} disabled={loading}>\r\n                \r\n              </Button>\r\n              <Grid container justifyContent=\"flex-start\">\r\n                <Grid item>\r\n                  <Link href=\"/signup\" variant=\"body2\">\r\n                      ?  \r\n                  </Link>\r\n                  <br />\r\n                  <Link href=\"/ForgotPassword\" variant=\"body2\">\r\n                      ?   \r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\nimport { MdKeyboardArrowRight, MdArrowForward } from \"react-icons/md\";\n\nexport const HeroContainer = styled.div`\n  background: #0c0c0c;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 30px;\n  height: calc(100vh - 20px);\n  //height: 600px;\n  position: relative;\n  z-index: 14;\n\n  :before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    rigth: 0;\n    bottom: 0;\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0.6) 100%), linear-gradient(180deg, rgba(0, 0, 0, 0.2) 0%, transparent 100%);\n    z-index: 2;\n  }\n`;\n\nexport const HeroBg = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\nexport const VideoBg = styled.video`\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n  filter: brightness(70%);\n  object-fit: cover;\n  background: #232a34;\n`;\n\nexport const HeroContent = styled.div`\n  z-index: 3;\n  max-width: 1200px;\n  position: absolute;\n  padding: 8px 24px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const HeroH1 = styled.h1`\ncolor: #fff;\nfont-size: 50px;\n//font-weight: bold;\ntext-align:center;\n\n@media screen and (max-width: 768px){\n    font-size 40px;\n}\n\n@media screen and (max-width: 480px){\n    font-size 32px;\n}\n`;\n\nexport const HeroP = styled.p`\nmargin-top: 20px;\ncolor:#fff;\n//border-radius: 30px ;\n//background-color: #1a0d00;\nfont-size: 23px;\n//opacity: 0.6;\n //padding: 8px 24px;\ntext-align: center;\nmax-width: 600px;\n\n@media screen and (max-width: 768px){\n    font-size 24px;\n}\n\n@media screen and (max-width: 480px){\n    font-size 18px;\n}\n`;\n\nexport const A = styled.a`\n  color: #fff;\n`;\n\nexport const HeroBtnWrapper = styled.div`\n  margin-top: 32px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const ArrowForward = styled(MdArrowForward)`\n  margin-left: 8px;\n  font-size: 20px;\n`;\n\nexport const ArrowRight = styled(MdKeyboardArrowRight)`\n  margin-left: 8px;\n  font-size: 20px;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport Video from \"../../videos/video.mp4\";\nimport SignIn from \"../SignIn\";\nimport { HeroContainer,\n   HeroBg,\n    VideoBg,\n     HeroContent,\n      HeroH1,\n       HeroP,\n        HeroBtnWrapper,\n        A } from \"./HeroElements\";\n\nconst HeroSection = (props) => {\n  const [hover, setHover] = useState(false);\n\n  const onHover = () => {\n    setHover(!hover);\n  };\n\n  var link = <A href=\"/almaInfo\"></A>;\n  \n  return (\n    <HeroContainer id=\"home\">\n      <HeroBg>\n        <VideoBg autoPlay loop muted src={Video} type=\"video/mp4\" />\n      </HeroBg>\n      <HeroContent>\n        <HeroH1> TraStory     </HeroH1>\n        <HeroP>    {link}     ,    </HeroP>\n        <HeroBtnWrapper>\n          {!(props.user?.type === \"admin\" || props.user?.type === \"registered\" || props.user?.type === \"creator\") && (\n            <div style={{}}>\n              <SignIn />\n            </div>\n          )}\n        </HeroBtnWrapper>\n      </HeroContent>\n    </HeroContainer>\n  );\n  // }\n};\n\nexport default HeroSection;\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n    const {pathName} = useLocation()\r\n\r\n    useEffect(\r\n        () => {\r\n            window.scrollTo(0,0);\r\n        }, [pathName]\r\n    );\r\n    return null;\r\n}","// import { BrowerRouter as Router } from 'express';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport HeroSection from \"../components/HeroSection\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport { useAuth } from \"../Contexts/AuthContexts\";\r\n\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\nimport ScrollToTop from \"../components/ScrollToTop\";\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\",\r\n});\r\n\r\n// const Home = ({buttonLabel, primary, dark, dark2}) => {\r\nfunction Home(props) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const { currentUser, userDB, getUserData, logout, login } = useAuth();\r\n  // const user= getUserData();\r\n  // console.log(currentUser);\r\n\r\n  // const [user, setUser] = useState();\r\n\r\n  // const {uid} = useAuth().currentUser;\r\n\r\n  // const getUser =() => {\r\n  //   try {\r\n  //     console.log(\"is userDB?\",userDB)\r\n  //       setUser(userDB);\r\n  //   } catch(error) {\r\n  //     console.log(\"error\",error)\r\n  //     //do whatever\r\n  //   }\r\n  //   // window.location.reload(false);\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //     // if(!userDB){\r\n  //   //   console.log(\"gfhgh\")\r\n  //   //   history.push(\"/\")\r\n  //   // }\r\n  //   setUser(getUserData());\r\n  //     console.log(\"userDB123\",userDB)\r\n  //     // console.log(\"currentUser123\",currentUser)\r\n  //   // alert(user?.get(\"firstName\"));\r\n  // }, [logout, login]) ;\r\n  // useEffect(() => {\r\n  //   setUser(\r\n  //   {email:'email' , firstName:'firstName' ,\r\n  //   lastName:'lastName' ,ProfieImgURL:null})\r\n  //   //getUser();\r\n  // },[]);\r\n\r\n  let user = props.user;\r\n  return (\r\n    <div id=\"HomePageStyle\">\r\n      <StylesProvider jss={jss}>\r\n        <ThemeProvider theme={theme}>\r\n          <ScrollToTop />\r\n          {props.toDisplay && <HeroSection user={user} toDisplay={props.toDisplay} />}\r\n        </ThemeProvider>\r\n      </StylesProvider>\r\n      {/* {user && <label>{user?.firstName}</label>}\r\n          <br/> \r\n          {user && <label>{user?.email}</label>}\r\n          <br/>  */}\r\n      {/* <InfoSection {...homeObjOne}/>  */}\r\n      {/* <br/>   \r\n           <InfoSection {...homeObjTwo}/> */}\r\n      {/* <Services />\r\n          <InfoSection {...homeObjThree}/>     */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport ScrollToTop from \"../components/ScrollToTop\";\r\nimport SignIn from \"../components/SignIn\";\r\n\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\",\r\n});\r\n\r\nfunction SigninPage() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  return (\r\n    <div id=\"signInPageStyle\">\r\n      <StylesProvider jss={jss}>\r\n        <ThemeProvider theme={theme}>\r\n          <ScrollToTop />\r\n          <SignIn inSignInPage={true} />\r\n        </ThemeProvider>\r\n      </StylesProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SigninPage;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport List from \"@material-ui/core/List\";\r\nimport t from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Avatar, Badge } from \"@material-ui/core\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport useTheme from \"@material-ui/core/styles/useTheme\";\r\nimport { borderColor } from \"@mui/system\";\r\n\r\nimport(\"screw-filereader\");\r\n\r\nlet imageExport;\r\n\r\nexport function getURL(){ \r\n  return imageExport;\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1)\r\n    }\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"auto\",\r\n    width: \"fit-content\"\r\n  },\r\n  input: {\r\n    fontSize: 15\r\n  },\r\n  large: {\r\n    width: \"150px\",//theme.spacing(25),\r\n    height: \"150px\",//theme.spacing(25),\r\n    border: `4px solid #4E3620`,\r\n  }\r\n}));\r\n\r\nconst EditIconButton = withStyles((theme) => ({\r\n  root: {\r\n    width: 22,\r\n    height: 22,\r\n    padding: 15,\r\n    border: `2px solid #4E3620`\r\n  }\r\n}))(IconButton);\r\n\r\nexport const AvatarPicker = (props) => {\r\n  let startUrl=\"\";\r\n  if(props.startUrl!==null)\r\n    startUrl=props.startUrl;\r\n  const [file, setFile] = React.useState(startUrl);\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const imageRef = useRef();\r\n  const { handleChangeImage, avatarImage } = props;\r\n\r\n  useEffect(() => {\r\n    if (!file && avatarImage) {\r\n      setFile(URL.createObjectURL(avatarImage));\r\n    }\r\n\r\n    return () => {\r\n      if (file) URL.revokeObjectURL(file);\r\n    };\r\n  }, [file, avatarImage]);\r\n\r\n  const renderImage = (fileObject) => {\r\n    fileObject.image().then((img) => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const maxWidth = 150;\r\n      const maxHeight = 150;\r\n\r\n      const ratio = Math.min(maxWidth / img.width, maxHeight / img.height);\r\n      const width = (img.width * ratio + 0.5) | 0;\r\n      const height = (img.height * ratio + 0.5) | 0;\r\n\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      ctx.drawImage(img, 0, 0, width, height);\r\n\r\n      canvas.toBlob((blob) => {\r\n        const resizedFile = new File([blob], file.name, fileObject);\r\n        setFile(URL.createObjectURL(resizedFile));\r\n        handleChangeImage(resizedFile);\r\n      });\r\n    });\r\n  };\r\n\r\n  const showOpenFileDialog = () => {\r\n    imageRef.current.click();\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const fileObject = event.target.files[0];\r\n    if (!fileObject) return;\r\n    imageExport=\"\";\r\n    imageExport=event.target.files[0];    \r\n    renderImage(fileObject);\r\n  };\r\n\r\n  return (\r\n    <List data-testid={\"image-upload\"}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          margin: \"20px 10px\",\r\n          color:\"#B05E27\"\r\n        }}\r\n      >\r\n        <div className={classes.root}>\r\n          <Badge\r\n            overlap=\"circular\"\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"left\"\r\n            }}\r\n            badgeContent={\r\n              <EditIconButton\r\n                onClick={showOpenFileDialog}\r\n                style={{ background: \"#FFE268\" , color:\"#4E3620\"}}\r\n              >\r\n                <EditIcon />\r\n              </EditIconButton>\r\n            }\r\n          >\r\n            <Avatar alt={\"avatar\"} src={file} className={classes.large} />\r\n          </Badge>\r\n          <input\r\n            ref={imageRef}\r\n            type=\"file\"\r\n            style={{ display: \"none\" }}\r\n            accept=\"image/*\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    </List>\r\n  );\r\n};\r\nAvatarPicker.propTypes = {\r\n  handleChangeImage: t.func.isRequired,\r\n  avatarImage: t.object\r\n};\r\nexport default AvatarPicker;\r\n","import styled from \"styled-components\";\r\n\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:130%;\r\noverflow: hidden;\r\nopacity: 0.5;\r\nz-index: -1;\r\n\r\n\r\n\r\n@media screen and (max-width: 1080px) {\r\n    height:130%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n    height:130%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:130%;\r\n  }\r\n`;\r\n\r\nexport const VideoBg = styled.video`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight: 100%;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nbackground: #232a34;\r\nopacity: 0.5;\r\nz-index: -1;\r\n`;","import TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport React from \"react\";\r\n\r\nfunction isError(error){\r\n  if(error) return true; \r\n  else return false; \r\n}\r\n\r\nlet inputType=\"text\";\r\nlet size= 12;\r\n\r\nconst TextFieldForm = (props) => {\r\n  if(props.inputType)\r\n    inputType=props.inputType;\r\n  if(props.size)\r\n    size=props.size;\r\n  \r\n  return (\r\n    <Grid item xs={size}>\r\n      <TextField\r\n        type={inputType}\r\n        name={props.name}\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        label={props.label}\r\n        {...props.register(props.name)}\r\n        className={`${props.textError ? 'is-invalid' : ''}`} \r\n        error= {isError(props.textError)}\r\n        helperText={props.helperText}\r\n        />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default TextFieldForm;\r\n\r\n","import {HeroBg, VideoBg,} from './SignupElements';\r\nimport Video from '../../videos/video.mp4';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport React, { useState } from \"react\";\r\nimport { useAuth } from \"../../Contexts/AuthContexts\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase,{storage} from \"../../Firebase\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport AvatarPicker, {getURL} from \"../AvatarPicker\" \r\nimport TextFieldForm from './TextFieldForm'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(29),\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"rgb(0,0,0)\",\r\n    \"& .MuiInputLabel-root\": {\r\n      color: \"black\"\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#3B2A1A'\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#412F1D\",\r\n    '&:hover': {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background:  '#3B2A1A' ,\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\"\r\n   },\r\n  }\r\n}));\r\n\r\nlet imgUplodPath=\"\";\r\n\r\nexport default function Signup(props) {  \r\n  // form validation rules \r\n  const validationSchema = Yup.object().shape({    \r\n    firstName: Yup.string().required('    '),\r\n    lastName: Yup.string().required('    '),\r\n    email: Yup.string().required(('   ')).email('  '),\r\n    password: Yup.string().matches(/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})/,\r\n        \"   6 ,  ,   \").required(('   ')),\r\n    confirmPassword: Yup.string().oneOf([Yup.ref('password'), null], '   ')\r\n    .required(('    '))\r\n  });\r\n\r\n\r\n  const isSignOrEdistor= props.isSignOrEdistor;\r\n  const userProfile=props.userProfile;\r\n  const formOptions = { resolver: yupResolver(validationSchema),    \r\n      defaultValues: {\r\n        firstName: userProfile?.firstName ? userProfile.firstName : \"\",\r\n        lastName: userProfile?.lastName ? userProfile.lastName : \"\",\r\n        email: userProfile?.email ? userProfile.email : \"\",\r\n        password: userProfile?.password ? userProfile.password : \"\",\r\n        confirmPassword: userProfile?.confirmPassword ? userProfile.confirmPassword : \"\",\r\n        ProfieImgURL: userProfile?.ProfieImgURL ? userProfile.ProfieImgURL : \"\",\r\n      }    \r\n  };\r\n  let startUrl=null;\r\n  if(userProfile?.ProfieImgURL)\r\n    startUrl=userProfile.ProfieImgURL;\r\n\r\n  // get functions to build form with useForm() hook\r\n  const {register, handleSubmit, formState:{ errors }, control} = useForm(formOptions); \r\n \r\n  async function imageHandler(image1,uid)\r\n  {    \r\n    if (image1) {\r\n      // add to image folder in firebase\r\n      const uploadTask = storage.ref(`images/${uid}/profilePic/${image1.name}`).put(image1);\r\n\r\n      // Register three observers:\r\n      // 1. 'state_changed' observer, called any time the state changes\r\n      // 2. Error observer, called on failure\r\n      // 3. Completion observer, called on successful completion\r\n      uploadTask.on('state_changed', function(snapshot){\r\n        // Observe state change events such as progress, pause, and resume\r\n        // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n        console.log('Upload is ' + progress + '% done');\r\n        // eslint-disable-next-line default-case\r\n        switch (snapshot.state) {\r\n          case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n            console.log('Upload is paused');\r\n            break;\r\n          case firebase.storage.TaskState.RUNNING: // or 'running'\r\n            console.log('Upload is running');\r\n            break;\r\n        }\r\n        return;\r\n      }, function(error) {\r\n        // Handle unsuccessful uploads\r\n        console.log(error);\r\n      }, function() {\r\n        // Handle successful uploads on complete\r\n        // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n        uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n            try{ \r\n               firebase.firestore().collection('users').doc(uid).update({ProfieImgURL: downloadURL}).then(()=>{\r\n                console.log(\"updated\");\r\n                history.push(\"/\");            \r\n                setLoading(false); \r\n              });\r\n            }catch(e){              \r\n              setError(e);\r\n              history.push(\"/signup\");\r\n              setLoading(false);  \r\n            }\r\n        });\r\n      });\r\n    }    \r\n  }\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault();\r\n    if(isAskedToBeCreator && infoProfileValue.length===0){\r\n      setError(\"    ,      \");\r\n      setLoading(false);\r\n      return;\r\n    }        \r\n    setError(\"\");\r\n    setLoading(true);\r\n    let image1= getURL();\r\n    if(isSignOrEdistor===\"sign\"){\r\n      authAndFirstoreCollection(data.email,data.password, data.firstName,data.lastName,imgUplodPath)\r\n      .then((userid)=>{\r\n          if(userid===null)\r\n            return;\r\n          let uid=userid;\r\n          if(image1){\r\n            imageHandler(image1,uid)\r\n            .then(() => {                              \r\n            });          \r\n          }\r\n          else{\r\n            setLoading(false);\r\n            history.push(\"/\");\r\n          };           \r\n      });\r\n    }\r\n    else{\r\n      updateProfile(data.email,data.password, data.firstName,data.lastName,imgUplodPath)\r\n      .then((userid)=>{\r\n          let uid=userid;\r\n          if(image1!==userProfile.ProfieImgURL){\r\n            imageHandler(image1,uid)\r\n            .then(() => {                              \r\n            });          \r\n          }\r\n          else{\r\n            setLoading(false);\r\n            history.push(\"/\");            \r\n          };           \r\n      });\r\n    }    \r\n  }\r\n\r\n  async function authAndFirstoreCollection(email1,password1,firstName1,lastName1,url1){\r\n    try {\r\n     return await signup(email1, password1).then((uid) => {\r\n        let useruid=uid;\r\n        firebase.firestore().collection(\"users\").doc(uid).set({\r\n          email: email1, firstName: firstName1, lastName: lastName1, ProfieImgURL: url1,\r\n          infoProfileValue: infoProfileValue, isApproved: false, isAskedToBeCreator:isAskedToBeCreator, type:\"registered\"});\r\n        return useruid;\r\n      }).then((uid)=>{\r\n        return uid;\r\n      });   \r\n    }\r\n    catch(e){\r\n      setError(\"   \");\r\n      setLoading(false); \r\n      history.push(\"/signup\");\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  async function updateProfile(email1,password1,firstName1,lastName1,url1,uid){\r\n    // try {\r\n    //   return await updateEmail(email1).then((uid) => {\r\n    //     let useruid=uid;\r\n    //     firebase.firestore().collection(\"users\").doc(uid).set({\r\n    //       email: email1,\r\n    //       firstName: firstName1,\r\n    //       lastName: lastName1,\r\n    //       ProfieImgURL: url1,\r\n    //       infoProfileValue: infoProfileValue,\r\n    //       permission: false\r\n    //     });\r\n    //     return useruid;\r\n    //   }).then((uid)=>{\r\n    //     return uid;\r\n    //   });   \r\n    // }\r\n    // catch(e) {\r\n    //   console.log(\"error\", e.message);\r\n    //   setError(\"   \")      \r\n    //   history.push(\"/signup\");\r\n    //   setLoading(false); \r\n    //   return;\r\n    // }\r\n  }\r\n \r\n  const { signup, updatePassword,updateEmail } = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const [avatarImage, setAvatarImage] = useState();\r\n  const handleImageChange = (imageFile) => {\r\n    setAvatarImage(imageFile);\r\n  };\r\n  \r\n  const [isAskedToBeCreator,setisAskedToBeCreator]= useState((isSignOrEdistor===\"editor\") ? userProfile.isAskedToBeCreator : false);\r\n  const [infoProfileValue,setInfoProfileValue]=useState((isSignOrEdistor===\"editor\") ? userProfile.infoProfileValue : \"\");\r\n\r\n  const handleChangeinfoProfile= infoProfileValue=> event=> {\r\n    setInfoProfileValue(event.target.value);\r\n  };  \r\n\r\n  const handleChangeCheckBox = name=> event => {\r\n    setInfoProfileValue(\"\");\r\n    setisAskedToBeCreator(event.target.checked);\r\n  };\r\n  \r\n  let title= (isSignOrEdistor===\"editor\")? \"   \" : \" \";\r\n  let submitEditButtomTitle= (isSignOrEdistor===\"editor\") ? \"\": \"\";\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\" >\r\n        <HeroBg>\r\n          <VideoBg autoPlay loop muted src={Video} type='video/mp4' />\r\n        </HeroBg>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            {title}\r\n          </Typography>\r\n        <AvatarPicker handleChangeImage={handleImageChange}  avatarImage={avatarImage} isEdiable={false} startUrl={startUrl}/>\r\n            <form className={classes.form} onSubmit={handleSubmit(onSubmit)} >\r\n              <Grid container spacing={2} >              \r\n                {error && <Grid item xs={12}><Alert severity=\"error\">{error}</Alert></Grid>} \r\n                <TextFieldForm\r\n                  inputType=\"text\"\r\n                  name=\"firstName\"\r\n                  label=\" *\"\r\n                  register={register}\r\n                  textError={errors.firstName}\r\n                  size={6}\r\n                  helperText={errors.firstName?.message}\r\n                />\r\n                <TextFieldForm\r\n                  inputType=\"text\"\r\n                  name=\"lastName\"\r\n                  label=\" *\"\r\n                  register={register}\r\n                  textError={errors.lastName}\r\n                  size={6}\r\n                  helperText={errors.lastName?.message}\r\n                />\r\n                <TextFieldForm\r\n                  inputType=\"email\"\r\n                  name=\"email\"\r\n                  label=\"*\"\r\n                  register={register}\r\n                  textError={errors.email}\r\n                  size={12}\r\n                  helperText={errors.email?.message}\r\n                />\r\n                <TextFieldForm\r\n                  inputType=\"password\"\r\n                  name=\"password\"\r\n                  label=\"*\"\r\n                  register={register}\r\n                  textError={errors.password}\r\n                  size={12}\r\n                  helperText={errors.password?.message ?? \"   6 ,  ,   \"}\r\n                />\r\n                <TextFieldForm\r\n                  inputType=\"password\"\r\n                  name=\"confirmPassword\"\r\n                  label=\" *\"\r\n                  register={register}\r\n                  textError={errors.confirmPassword}\r\n                  size={12}\r\n                  helperText={errors.confirmPassword?.message}\r\n                />\r\n                <Grid item xs={12}>                \r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={isAskedToBeCreator}\r\n                        onChange={handleChangeCheckBox(isAskedToBeCreator)}\r\n                        value=\"isAskedToBeCreator\"\r\n                      />\r\n                    }\r\n                    label=\"   ?     / ,     \r\n                    \"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                      name=\"infoProfile\"\r\n                      variant=\"outlined\"\r\n                      multiline\r\n                      rows={5}\r\n                      fullWidth\r\n                      disabled={!isAskedToBeCreator}\r\n                      type=\"text\"\r\n                      label=\"  \"                \r\n                      {...register('infoProfile')}\r\n                      className= 'is-invalid'\r\n                      value={infoProfileValue}\r\n                      onChange={handleChangeinfoProfile(\"infoProfileValue\")}\r\n                      />                    \r\n                </Grid>\r\n              </Grid>  \r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={loading}\r\n              >\r\n                {submitEditButtomTitle}\r\n              </Button>\r\n              <Grid container justifyContent=\"flex-start\">\r\n                <Grid item>\r\n                  <Link href=\"/signin\" variant=\"body2\">\r\n                       ?  \r\n                  </Link>\r\n                </Grid>\r\n              </Grid>\r\n            </form>           \r\n          </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport Signup from '../components/Signup';\r\n\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction SignupPage() {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false)\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n\r\n    return (\r\n      <div id=\"signUpPageStyle\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                    <Signup isSignOrEdistor={\"sign\"}/> \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignupPage\r\n","\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase,{storage} from \"../../Firebase\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(20),\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"rgb(0,0,0)\",\r\n    \"& .MuiInputLabel-root\": {\r\n      color: \"black\"\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#412F1D\",\r\n    '&:hover': {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background:  '#3B2A1A' ,\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\"\r\n   },\r\n  }\r\n}));\r\n\r\nexport default function EditProfile(props) {  \r\n  const validationSchema = Yup.object().shape({    \r\n    infoProfile: Yup.string().required('   ')\r\n  });\r\n\r\n  const formOptions = { resolver: yupResolver(validationSchema)};\r\n  let startUrl=null;\r\n  if(props.user?.ProfieImgURL)\r\n    startUrl=props.user.ProfieImgURL;\r\n\r\n  // get functions to build form with useForm() hook\r\n  const {register, handleSubmit, formState:{ errors }, control} = useForm(formOptions); \r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault();       \r\n    setError(\"\");\r\n    setLoading(true);\r\n  \r\n    try {\r\n      firebase.firestore().collection(\"users\").doc(props.user.id).update({\r\n      infoProfileValue: infoProfileValue, isApproved: false, isAskedToBeCreator:true, type:\"registered\"})\r\n      .then(()=>{  \r\n        setLoading(false);\r\n        setSuccess(\"  \");\r\n        history.push(\"/activity\");\r\n      });\r\n        }catch(e){\r\n        setError(\" \");\r\n        setLoading(false); \r\n        history.push(\"/activity\");\r\n      \r\n  }   \r\n  }\r\n\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [error, setError] = useState(\"\")\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [infoProfileValue,setInfoProfileValue]=useState();\r\n\r\n  const handleChangeinfoProfile= infoProfileValue=> event=> {\r\n    setInfoProfileValue(event.target.value);\r\n \r\n  };  \r\n\r\n  \r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\" >\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n         \r\n         <form className={classes.form} onSubmit={handleSubmit(onSubmit)} >\r\n              <Grid container spacing={2} >              \r\n                {error && <Grid item xs={12}><Alert severity=\"error\">{error}</Alert></Grid>} \r\n                {success && <Grid item xs={12}><Alert severity=\"success\">{success}</Alert></Grid>}\r\n                <Grid item xs={12}>\r\n                <Typography component=\"h6\" variant=\"h6\">   ?     / ,     \r\n                     </Typography>\r\n                     <br/>\r\n                  <TextField\r\n                      name=\"infoProfile\"\r\n                      variant=\"outlined\"\r\n                      multiline\r\n                      rows={5}\r\n                      fullWidth\r\n                      type=\"text\"\r\n                      label=\"  \"                \r\n                      {...register('infoProfile')}\r\n                      className= 'is-invalid'\r\n                      value={infoProfileValue}\r\n                      onChange={handleChangeinfoProfile(\"infoProfileValue\")}\r\n                      />    \r\n                </Grid>\r\n              </Grid>                   \r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={loading}\r\n              >\r\n                 \r\n              </Button>\r\n              <Grid container justifyContent=\"flex-start\">     \r\n              </Grid>\r\n            </form>           \r\n          </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport EditProfile from '../components/EditProfile';\r\n\r\n// import data from '../data/userData';\r\n\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\nfunction EditProfilePage(props) {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false)\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n    let user=props.user;\r\n    return (\r\n      <div id=\"signUpPageStyle\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                   <EditProfile user={user}/>  \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfilePage\r\n","import styled from \"styled-components\";\r\n\r\n\r\nexport const HeroBg = styled.div`\r\nposition:absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:100%;\r\noverflow: hidden;\r\nopacity: 0.5;\r\nz-index: -1;\r\n\r\n`;\r\n\r\nexport const VideoBg = styled.video`\r\nwidth: 100%;\r\nheight: 100%;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nbackground: #232a34;\r\nopacity: 0.5;\r\nz-index: -1;\r\n`;\r\n","import {HeroBg,  \r\n    VideoBg,\r\n    } from './ForgotPasswordElemments';\r\nimport Video from '../../videos/video.mp4';\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState } from \"react\";\r\nimport { useAuth } from \"../../Contexts/AuthContexts\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(0),\r\n    minHeight:'86vh',\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#3B2A1A'\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#412F1D\",\r\n    '&:hover': {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background:  '#3B2A1A' ,\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\"\r\n   },\r\n  }\r\n}));\r\nconst initialValues = {\r\n  email: \"\",\r\n};\r\n\r\nexport default function ForgotPassword() {\r\n\r\n  const errorRequiredField=\"   \";\r\n  // form validation rules \r\n  const validationSchema = Yup.object().shape({        \r\n    email: Yup.string()\r\n        .required((''+errorRequiredField))\r\n        .email('  ')\r\n  });\r\n  const formOptions = { resolver: yupResolver(validationSchema) };\r\n\r\n  // get functions to build form with useForm() hook\r\n  const { register, handleSubmit, formState } = useForm(formOptions);\r\n  const { errors } = formState;\r\n\r\n\r\n\r\n const { resetPassword } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  // const [values, setValues] = useState(initialValues);\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault()\r\n    try {\r\n      setMessage(\"\")\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await resetPassword(data.email)\r\n      setMessage(\"     \")\r\n      setLoading(false)\r\n    } catch {\r\n      console.log(\"error\", e.message);\r\n      setError(\"  \")      \r\n      history.push(\"/ForgotPassword\");\r\n      setLoading(false); \r\n      return;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  function isError(error){\r\n    if(error) return true; \r\n    else return false; \r\n  }\r\n\r\n\r\n  return (\r\n      <>\r\n  <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir= \"rtl\" >\r\n    <HeroBg>\r\n        <VideoBg autoPlay loop muted src={Video} type= 'video/mp4' />\r\n    </HeroBg>\r\n    <CssBaseline />\r\n    <div className={classes.paper}>\r\n      <Avatar className={classes.avatar}>\r\n        <LockOutlinedIcon />\r\n      </Avatar>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n          \r\n      </Typography>\r\n      <form className={classes.form} onSubmit={handleSubmit(onSubmit)} >\r\n        <Grid container spacing={2} >\r\n        {error && <Grid item xs={12}><Alert severity=\"error\">{error}</Alert></Grid>}\r\n        {message && <Grid item xs={12}><Alert severity=\"success\">{message}</Alert></Grid>}      \r\n          <Grid item xs={12}>\r\n            <TextField                \r\n              name=\"email\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              type=\"email\"\r\n              label=\"\"\r\n              {...register('email')}\r\n              error= {isError(errors.email)}\r\n              className={`${errors.email ? 'is-invalid' : ''}`} \r\n              helperText={errors.email?.message}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n          disabled={loading}\r\n        >\r\n           \r\n        </Button>\r\n        <Grid container justifyContent=\"flex-start\">\r\n          <Grid item>\r\n          <Link href=\"/signin\" variant=\"body2\">\r\n            {/* Already have an account? login */}\r\n             \r\n          </Link>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n      </div>\r\n  </Container>\r\n      </>\r\n  )\r\n}\r\n\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport ForgotPassword from '../components/ForgotPassword';\r\n\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\nfunction ForgotPasswordPage() {\r\n\r\n    const [isOpen, setIsOpen]= useState(false)\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n\r\n    return (\r\n        <div id=\"forgotPasswordPageStyle\" className=\"bodyStandart\">\r\n            <StylesProvider jss={jss}>                    \r\n                <ThemeProvider theme={theme}>\r\n                    <ScrollToTop />                         \r\n                    <ForgotPassword />                         \r\n                </ThemeProvider>\r\n            </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForgotPasswordPage\r\n","export default __webpack_public_path__ + \"static/media/mapDef.01727204.jpg\";","import React, { Component } from \"react\";\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\nimport AuthorIcon from \"@material-ui/icons/EditOutlined\";\r\nimport \"./card-style.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport imageDef from \"../../images/mapDef.jpg\";\r\nimport StoryDesc from \"@material-ui/icons/MenuBookOutlined\";\r\nimport Button from \"@mui/material/Button\";\r\nclass FullScreenGameCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props.likesnum);\r\n    this.state = {\r\n      liked: props.liked,\r\n      likesnum: props.likesnum,\r\n      imgsrc: props.imgsrc,\r\n      title: props.title,\r\n      author: props.author,\r\n      description: props.description,\r\n      storylink: props.storylink,\r\n      user: props.user,\r\n      userObs: props.userObs,\r\n      thID: props.thID,\r\n    };\r\n    this.toggleLike = this.toggleLike.bind(this);\r\n  }\r\n\r\n  toggleLike() {\r\n    let { likesnum, user, userObs, thID, liked } = this.state;\r\n    likesnum = liked ? likesnum - 1 : likesnum + 1;\r\n    liked = !liked;\r\n\r\n    this.setState({\r\n      likesnum: likesnum,\r\n      liked: liked,\r\n    });\r\n    userObs.updatesLikesTH(userObs.userInfo, thID, likesnum, liked);\r\n  }\r\n\r\n  render() {\r\n    let { likesnum, imgsrc, title, author, description, userObs, liked } = this.state;\r\n    let heartIcon = \"  \";\r\n    return (\r\n      <div className=\"card text-center shadow\">\r\n        <div className=\"overflow\">{imgsrc ? <img src={imgsrc} alt=\"image 1\" className=\"card-img-top\" /> : <img src={imageDef} alt=\"image 1\" className=\"card-img-top\" />}</div>\r\n        <div className=\"card-body text-dark\">\r\n          {/* % <div> insted of <p>*/}\r\n          <h4 className=\"card-title\">{title}</h4>\r\n          <p className=\"card-text text-secondary\">\r\n            <AuthorIcon style={{ color: \"#e67700\" }} /> {author}\r\n            {/* {description} <br/> */}\r\n            <br />\r\n            {\r\n              userObs?.userInfo?.type === \"registered\" || userObs?.userInfo?.type === \"creator\" || userObs?.userInfo?.type === \"admin\" ? (\r\n                <button className=\"likeBtn\" onClick={this.toggleLike}>\r\n                  {liked ? <FavoriteRoundedIcon style={{ color: \"#b71c1c\" }} /> : <FavoriteBorderRoundedIcon style={{ color: \"#b71c1c\" }} />}\r\n\r\n                </button>\r\n              ) : (\r\n                heartIcon\r\n              ) // (icon )\r\n            }\r\n            {this.state.likesnum} <br />\r\n          </p>\r\n          <Link\r\n            to={{\r\n              pathname: `/treasureHunt/${this.state.thID}`,\r\n              state: {\r\n                fromCards: true,\r\n              },\r\n            }}\r\n          >\r\n            <Button variant=\"outlined\" backgroundColor=\"#ffcc00\">\r\n               \r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FullScreenGameCard;\r\n","import * as React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Card from \"@mui/material/Card\";\r\nimport CardContent from \"@mui/material/CardContent\";\r\nimport CardMedia from \"@mui/material/CardMedia\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"@mui/material/Button\";\r\nimport imageDef from \"../../images/mapDef.jpg\";\r\n\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\n\r\nexport default function PhoneScreenGameCard(props) {\r\n  const theme = useTheme();\r\n  const [liked, setLiked] = useState(props.liked);\r\n  const [likesnum, setLikesnum] = useState(props.likesnum);\r\n  let heartIcon = \"  \";\r\n  let userObs = props.userObs;\r\n  let thID = props.thID;\r\n  const toggleLike = () => {\r\n    console.log(\"likes sum\", likesnum);\r\n    console.log(\"thID \", thID);\r\n    console.log(\"userObs.userInfo \", userObs.userInfo);\r\n    setLikesnum(liked ? likesnum - 1 : likesnum + 1);\r\n    setLiked(!liked);\r\n    userObs.updatesLikesTH(userObs.userInfo, thID, liked ? likesnum - 1 : likesnum + 1, !liked);\r\n  };\r\n\r\n  return (\r\n    <Card sx={{ display: \"flex\", width: \"100%\", height: 120 }} style={{ marginBottom: \"1rem\" }}>\r\n      <Box sx={{ display: \"flex\", flexDirection: \"column\", width: 250 }}>\r\n        <CardContent sx={{ flex: \"0 0 auto\" }}>\r\n          <Typography component=\"div\" fontSize={16} dir=\"rtl\">\r\n            {props.title}\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" color=\"text.secondary\" component=\"div\" fontSize={13} dir=\"rtl\">\r\n            {props.author}\r\n          </Typography>\r\n          <Link\r\n            to={{\r\n              pathname: `/treasureHunt/${thID}`,\r\n              state: {\r\n                fromCards: true,\r\n              },\r\n            }}\r\n          >\r\n            <Button variant=\"outlined\" backgroundColor=\"#ffcc00\">\r\n               \r\n            </Button>\r\n            {/* <button type=\"button\" className=\"btn btn-outline-success\" color= '#ffcc00'> </button>% */}\r\n          </Link>\r\n          {\r\n            userObs?.userInfo?.type === \"registered\" || userObs?.userInfo?.type === \"creator\" || userObs?.userInfo?.type === \"admin\" ? (\r\n              <button className=\"likeBtn\" onClick={toggleLike}>\r\n                {liked ? <FavoriteRoundedIcon style={{ color: \"#b71c1c\" }} /> : <FavoriteBorderRoundedIcon style={{ color: \"#b71c1c\" }} />}\r\n              </button>\r\n            ) : (\r\n              heartIcon\r\n            ) // (icon )\r\n          }\r\n\r\n          {likesnum}\r\n        </CardContent>\r\n      </Box>\r\n      <CardMedia component=\"img\" sx={{ width: 100 }} image={props.imgsrc ? props.imgsrc : imageDef} alt=\"Live from space album cover\" />\r\n    </Card>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/viewBackground.44fba2eb.jpeg\";","import React, { useState, useEffect } from \"react\";\r\nimport SearchIcon from \"@material-ui/icons/SearchRounded\";\r\nimport FullScreenGameCard from \"./FullScreenGameCard\";\r\nimport PhoneScreenGameCard from \"./PhoneScreenGameCard\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport background from \"../../images/viewBackground.jpeg\";\r\nimport Box from \"@mui/material/Box\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nconst customHistory = createBrowserHistory();\r\nconst useStyles = makeStyles((theme) => ({\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n    minHeight: \"83.7vh\",\r\n    backgroundPosition: \"center\",\r\n    backgroundSize: \"cover\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundImage: `url(${background})`,\r\n\r\n    \"& .MuiSelect-select\": {\r\n      width: \"160px\",\r\n      background: \"white\",\r\n      opacity: \"0.7\",\r\n      textAlign: \"left\",\r\n      dir: \"rtl\",\r\n      color: \"black\",\r\n      fontSize: \"1.15rem\",\r\n    },\r\n\r\n    \"& .MuiFormLabel-root\": {\r\n      color: \"black\",\r\n      textAlign: \"left\",\r\n      dir: \"rtl\",\r\n      fontSize: \"1.15rem\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction DisplayGames(props) {\r\n  const [sitesNames, setSitesNames] = useState([]);\r\n  const siteObs = props.store.siteObs;\r\n  const [siteName, setSiteName] = useState(props.selectedSite ? props.selectedSite : \"\");\r\n  const [games, setGames] = useState([]);\r\n  const [user, setUser] = useState();\r\n  const gamesObs = props.reviewStore.treasureHuntObs;\r\n  const history = useHistory();\r\n  const handleSiteNameChangeSelectUser = (event) => {\r\n    setSiteName(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    siteObs.initSites().then(() => {\r\n      let temp = [];\r\n      siteObs.SitesList.map((site) => temp.push(site.siteName));\r\n      setSitesNames(temp);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setUser(props.userObs.userInfo);\r\n    setGames([]);\r\n    gamesObs.initTreasureHunt(true).then(() => {\r\n      setGames(gamesDisplay(props.userObs.userInfo, gamesObs.treasureHuntList));\r\n    });\r\n  }, []);\r\n\r\n  function selectSiteFilter(value) {\r\n    if (siteName === \"\") return true;\r\n    if (props.selectedSite) {\r\n      return props.selectedSite === value.siteName;\r\n    }\r\n    return siteName === value.siteName;\r\n  }\r\n\r\n  function gamesDisplay(user, games) {\r\n    let slist = [];\r\n    let userSlist = user?.likedGames;\r\n    if (userSlist) {\r\n      console.log(games);\r\n      games &&\r\n        games.filter(selectSiteFilter).map((item, idx) => {\r\n          let tmpCheck = 0;\r\n          for (let key in userSlist) {\r\n            if (key.toString() === item.id.toString()) {\r\n              tmpCheck = 1;\r\n              item.liked = true;\r\n              slist.push(item);\r\n            }\r\n          }\r\n          if (tmpCheck !== 1) {\r\n            item.liked = false;\r\n            slist.push(item);\r\n          }\r\n        });\r\n\r\n      return slist;\r\n    }\r\n  }\r\n\r\n  const classes = useStyles();\r\n  let pageTitle = \"  \";\r\n  let mb = window.innerHeight < 916 ? \"5rem\" : window.innerHeight / 38.5 + \"rem\";\r\n\r\n  return (\r\n    <Container className={classes.Container} component=\"main\" maxWidth={window.innerWidth <= 760 ? \"xs\" : \"100%\"} dir=\"rtl\">\r\n      <Button size=\"small\" variant=\"outlined\" onClick={history.goBack} style={{ position: \"absolute\", left: \"60px\", marginTop: \"30px\", color: \"#4d2800\", borderRadius: \"50px\" }}>\r\n         \r\n      </Button>\r\n      <div className=\"row text-right\">\r\n        <div className=\"col-3\">\r\n          <br />\r\n          <h1 id=\"placeName\" style={{ color: \"#4d2800\", fontFamily: \"lucida grande\", fontSize: \"50px\" }}>\r\n            {\" \"}\r\n            {pageTitle}\r\n          </h1>\r\n        </div>\r\n      </div>\r\n      <div className=\"row text-center\">\r\n        <div className=\" col\">\r\n          <br />\r\n\r\n          <Box>\r\n            <FormControl>\r\n              <InputLabel id=\"sites_names-select-label\" sx={{ direction: \"rtl\" }}>\r\n                  \r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"sites_names-select-label\"\r\n                id=\"sites_names-select-select\"\r\n                value={siteName}\r\n                // label=\"\"\r\n                // sx={{ textAlign: \"right\" }}\r\n                // className=\"MuiSelect-select\"\r\n                variant=\"outlined\"\r\n                onChange={handleSiteNameChangeSelectUser}\r\n              >\r\n                <MenuItem key={1} value={\"\"} sx={{ direction: \"rtl\" }}>\r\n                  \r\n                </MenuItem>\r\n                {sitesNames &&\r\n                  sitesNames.map((option) => (\r\n                    <MenuItem key={option} value={option} sx={{ direction: \"rtl\" }}>\r\n                      {option}\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Box>\r\n        </div>\r\n      </div>\r\n      <div className=\"container-fluid d-flex justify-content-center\">\r\n        <div className=\"row\" style={{ marginBottom: mb }}>\r\n          {gamesObs.treasureHuntList &&\r\n            gamesObs.treasureHuntList.map((itm, index) => {\r\n              console.log(index, itm.description);\r\n              if (siteName === itm.siteName || siteName === \"\") {\r\n                let filledCards =\r\n                  window.innerWidth > 413 ? (\r\n                    <div className=\"col\">\r\n                      <FullScreenGameCard\r\n                        thID={itm.id}\r\n                        imgsrc={itm.imageURL}\r\n                        title={itm.quizName}\r\n                        author={itm.authorName}\r\n                        liked={itm.liked}\r\n                        description={itm.description}\r\n                        likesnum={itm.treasureHuntLikesNum}\r\n                        user={user}\r\n                        userObs={props.userObs}\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"col\">\r\n                      <PhoneScreenGameCard\r\n                        thID={itm.id}\r\n                        imgsrc={itm.imageURL}\r\n                        title={itm.quizName}\r\n                        author={itm.authorName}\r\n                        liked={itm.liked}\r\n                        likesnum={itm.treasureHuntLikesNum}\r\n                        userObs={props.userObs}\r\n                      />\r\n                    </div>\r\n                  );\r\n\r\n                return (\r\n                  <>\r\n                    {/* displaying (returning) the cards */}\r\n                    {filledCards}\r\n                  </>\r\n                );\r\n              }\r\n            })}\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default DisplayGames;\r\n","import firebase, { ref } from \"../Firebase\";\r\nimport { observable, action, toJS } from \"mobx\";\r\n\r\n//---------Sites:----------\r\nconst fetchSites = async (siteObs) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Sites\");\r\n    const data = await response.get();\r\n    console.log(\"data\", data);\r\n    let temp = [];\r\n    data.docs.forEach((item) => {\r\n      // console.log(\"story\",item.data());\r\n      let siteTemp = item.data();\r\n      siteTemp.id = item.id;\r\n      temp.push(siteTemp);\r\n    });\r\n    return await temp;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//Decline selected sites\r\nconst declineAllSitesMain = async (siteObs, sitesToChange) => {\r\n  try {\r\n    await declineAllSites(sitesToChange).then(async () => {\r\n      console.log(\"File deleted successfully\");\r\n      siteObs.initSites();\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//helper method to declineAllSitesMain(), decline/remove a site and it's data\r\nasync function declineAllSites(sitesToChange) {\r\n  try {\r\n    for (const site of sitesToChange) {\r\n      console.log(site.id);\r\n      await removeSiteCollectionsData(site).then(async () => {\r\n        // if (site.imageURL?.length > 0) {\r\n        //   try {\r\n        //     const desertRef = firebase.storage().refFromURL(site.imageURL);\r\n        //     await desertRef\r\n        //       .delete()\r\n        //       .then(async function () {\r\n        //         console.log(\"File deleted successfully\");\r\n        //       })\r\n        //       .catch(async function (error) {\r\n        //         console.log(\"Uh-oh, an error occurred!\");\r\n        //       });\r\n        //   } catch (e) {\r\n        //     console.log(\"e56\", e);\r\n        //   }\r\n        // }\r\n        console.log(\"site\", site);\r\n        let siteName = site.siteName;\r\n        console.log(\"siteName\", siteName);\r\n        await removeAllSiteTreasureHunt(siteName).then(() => {});\r\n        await firebase.firestore().collection(\"Sites\").doc(site.id).delete();\r\n      });\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n}\r\n\r\n//helper method to declineAllSites(), remove a subSite of a site and it's data\r\nasync function removeSiteCollectionsData(site) {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Sites\").doc(site.id).collection(\"subSites\");\r\n    const data = await response.get();\r\n    await Promise.all(\r\n      data.docs.forEach(async (subSite) => {\r\n        await removeSubSiteCollectionsData(subSite, site.id).then(async () => {\r\n          let subSiteName = subSite.data().placeName;\r\n          try {\r\n            await firebase.firestore().collection(\"Sites\").doc(site.id).collection(\"subSites\").doc(subSite.id).delete();\r\n          } catch (e) {\r\n            console(e);\r\n          }\r\n          await removeAllSubSiteStories(subSiteName);\r\n        });\r\n      })\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n}\r\n\r\n//helper method to removeAllSubSiteStories(), remove for all stories of this subsite\r\nasync function removeAllSubSiteStories(subSiteName) {\r\n  try {\r\n    const data = await firebase.firestore().collection(\"Stories\").where(\"placeName\", \"==\", `${subSiteName}`).get();\r\n    await Promise.all(\r\n      data.docs.forEach(async (story) => {\r\n        await declineStory(story).then({});\r\n      })\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n}\r\n\r\n//helper method to removeAllSubSiteStories(), remove for all stories of this subsite\r\nasync function removeAllSiteTreasureHunt(siteName) {\r\n  try {\r\n    await firebase\r\n      .firestore()\r\n      .collection(\"TreasureHunt\")\r\n      .where(\"siteName\", \"==\", `${siteName}`)\r\n      .get()\r\n      .then(async (docs) => {\r\n        let temp = [];\r\n        docs.forEach((th) => {\r\n          let THtemp = {};\r\n          THtemp.siteName = th.data();\r\n          THtemp.id = th.id;\r\n          temp.push(THtemp);\r\n        });\r\n        await declineTreasureHunt(temp).then({});\r\n      });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n}\r\n\r\n//helper method to removeSiteCollectionsData(), remove for a subSite all of it's data\r\nasync function removeSubSiteCollectionsData(subSite, siteID) {\r\n  try {\r\n    await removeCluesOFSubSiteData(subSite.id, siteID).then(async () => {\r\n      await removeQustionsOFSubSiteData(subSite.id, siteID).then(async () => {\r\n        return;\r\n      });\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    await removeQustionsOFSubSiteData(subSite.id, siteID).then(async () => {\r\n      return;\r\n    });\r\n    return;\r\n  }\r\n}\r\n//helper method to removeSubSiteCollectionsData(), remove for a subSite all of it's clues\r\nasync function removeCluesOFSubSiteData(subSiteID, siteID) {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Sites\").doc(siteID).collection(\"subSites\").doc(subSiteID).collection(\"clues\");\r\n    const data = await response.get();\r\n    await Promise.all(\r\n      data.docs.forEach(async (clue) => {\r\n        await firebase.firestore().collection(\"Sites\").doc(siteID).collection(\"subSites\").doc(subSiteID).collection(\"clues\").doc(clue.id).delete();\r\n      })\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n}\r\n//helper method to removeSubSiteCollectionsData(), remove for a subSite all of it's questions\r\nasync function removeQustionsOFSubSiteData(subSiteID, siteID) {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Sites\").doc(siteID).collection(\"subSites\").doc(subSiteID).collection(\"questions\");\r\n    const data = await response.get();\r\n    await Promise.all(\r\n      data.docs.forEach(async (question) => {\r\n        await firebase.firestore().collection(\"Sites\").doc(siteID).collection(\"subSites\").doc(subSiteID).collection(\"questions\").doc(question.id).delete();\r\n      })\r\n    );\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n}\r\n//-------------------\r\n\r\n//---------subSites:----------\r\nconst fetchSubSites = async (subSiteObs, id) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Sites\").doc(id).collection(\"subSites\");\r\n    const data = await response.get();\r\n    data.docs.forEach((item) => {\r\n      let subsiteTemp = item.data();\r\n      subsiteTemp.id = item.id;\r\n      console.log(\"subsite\", subsiteTemp);\r\n      subSiteObs.addSubSite(subsiteTemp);\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\nconst fetchAllSubSites = async (subSiteObs) => {\r\n  try {\r\n    const response = firebase.firestore().collectionGroup(\"subSites\");\r\n    const data = await response.get();\r\n    data.docs.forEach((item) => {\r\n      let subsiteTemp = item.data();\r\n      subsiteTemp.id = item.id;\r\n      subSiteObs.addSubSite(subsiteTemp);\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n// Decline selected sites\r\nconst declineSubSite = async (subSiteObs, subSitesToChange) => {\r\n  try {\r\n    await Promise.all(\r\n      subSitesToChange.forEach(async (subSite) => {\r\n        //using removeSubSiteCollectionsData (also a helper method of delete site's data)\r\n        await removeSubSiteCollectionsData(subSite, subSite.siteID).then(async () => {\r\n          try {\r\n            //delete all subsites stories\r\n            await removeAllSubSiteStories(subSite.placeName);\r\n          } catch (e) {\r\n            console.log(e);\r\n          }\r\n          await firebase.firestore().collection(\"Sites\").doc(subSite.siteID).collection(\"subSites\").doc(subSite.id).delete();\r\n        });\r\n      })\r\n    ).then(async () => {\r\n      subSiteObs.initAllSubSites();\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//----------Sub Site Data-------------\r\nconst fetchSubSite = async (subSiteObs, siteID, subSiteID) => {\r\n  try {\r\n    let subSiteTemp = { siteData: null, subSiteData: null };\r\n    const response1 = firebase.firestore().collection(\"Sites\").doc(siteID);\r\n    const siteData = await response1.get();\r\n    const response2 = firebase.firestore().collection(\"Sites\").doc(siteID).collection(\"subSites\").doc(subSiteID);\r\n    const subSiteData = await response2.get();\r\n    subSiteTemp = { siteData: siteData.data(), subSiteData: subSiteData.data() };\r\n    subSiteObs.setSubSiteinfo(subSiteTemp);\r\n  } catch (e) {\r\n    console.log(\"error_fetchSubSite\", e);\r\n    return;\r\n  }\r\n};\r\n\r\nconst fetchSiteInfo = async (subSiteObs, siteID) => {\r\n  try {\r\n    let subSiteTemp = { siteData: null, subSiteData: null };\r\n    const response1 = firebase.firestore().collection(\"Sites\").doc(siteID);\r\n    const siteData = await response1.get();\r\n    subSiteTemp = { siteData: siteData.data() };\r\n    subSiteObs.setSubSiteinfo(subSiteTemp);\r\n  } catch (e) {\r\n    console.log(\"error_fetchSubSite\", e);\r\n    return;\r\n  }\r\n};\r\n//-------------------\r\n\r\n//---------Clues:----------\r\nconst fetchClues = async (clueObs, siteID, subSiteID) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Sites\").doc(siteID).collection(\"subSites\").doc(subSiteID).collection(\"clues\");\r\n    const data = await response.get();\r\n    data.docs.forEach((item) => {\r\n      let clueTemp = item.data();\r\n      clueTemp.id = item.id;\r\n      clueTemp.subSiteID = subSiteID;\r\n      clueTemp.siteID = siteID;\r\n      //If not need to be isOnlyAprrove OR need to be isOnlyAprrove and the clueTemp aprroved\r\n      if (clueTemp.isApproved) {\r\n        clueObs.addClue(clueTemp);\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n// Fetch all clues\r\nconst fetchAllClues = async (clueObs) => {\r\n  try {\r\n    const response = firebase.firestore().collectionGroup(\"clues\");\r\n    const data = await response.get();\r\n    data.docs.forEach((item) => {\r\n      let clueTemp = item.data();\r\n      clueTemp.id = item.id;\r\n\r\n      clueTemp.path = item.ref.path;\r\n      let arrayPath = clueTemp.path.split(\"/\");\r\n      let sizeUrl = arrayPath.length;\r\n      clueTemp.siteID = arrayPath[sizeUrl - 5];\r\n      clueTemp.subSiteID = arrayPath[sizeUrl - 3];\r\n      clueObs.addClue(clueTemp);\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n// Approve selected clues\r\nconst approveClues = async (clueObs, cluesToChange) => {\r\n  try {\r\n    const batch = firebase.firestore().batch();\r\n    cluesToChange.forEach((item) => {\r\n      let arrayPath = item.path.split(\"/\");\r\n      let sizeUrl = arrayPath.length;\r\n      const sfRef = firebase\r\n        .firestore()\r\n        .collection(\"Sites\")\r\n        .doc(arrayPath[sizeUrl - 5])\r\n        .collection(\"subSites\")\r\n        .doc(arrayPath[sizeUrl - 3])\r\n        .collection(\"clues\")\r\n        .doc(arrayPath[sizeUrl - 1]);\r\n      batch.update(sfRef, {\r\n        isApproved: true,\r\n      });\r\n    });\r\n    await batch.commit();\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n// Decline selected clues\r\nconst declineClues = async (clueObs, cluesToChange) => {\r\n  try {\r\n    for (const item of cluesToChange) {\r\n      await firebase.firestore().collection(\"Sites\").doc(item.siteID).collection(\"subSites\").doc(item.subSiteID).collection(\"clues\").doc(item.id).delete();\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n//-------------------\r\n\r\n//---------Questions:----------\r\nconst fetchQuestions = async (questionObs, siteID, subSiteID) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Sites\").doc(siteID).collection(\"subSites\").doc(subSiteID).collection(\"questions\");\r\n    const data = await response.get();\r\n    data.docs.forEach((item) => {\r\n      let questionTemp = item.data();\r\n      questionTemp.id = item.id;\r\n      questionTemp.siteID = siteID;\r\n      questionTemp.subSiteID = subSiteID;\r\n      //If not need to be isOnlyAprrove OR need to be isOnlyAprrove and the questionTemp aprroved\r\n      if (questionTemp.isApproved) {\r\n        questionObs.addQuestion(questionTemp);\r\n      }\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n// Fetch all questions\r\nconst fetchAllQuestions = async (questionObs) => {\r\n  try {\r\n    const response = firebase.firestore().collectionGroup(\"questions\");\r\n    const data = await response.get();\r\n    data.docs.forEach((item) => {\r\n      let questionTemp = item.data();\r\n      questionTemp.id = item.id;\r\n      questionTemp.path = item.ref.path;\r\n      let arrayPath = questionTemp.path.split(\"/\");\r\n      let sizeUrl = arrayPath.length;\r\n      questionTemp.siteID = arrayPath[sizeUrl - 5];\r\n      questionTemp.subSiteID = arrayPath[sizeUrl - 3];\r\n      questionObs.addQuestion(questionTemp);\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n// Approve selected questions\r\nconst approveQuestions = async (questionObs, questionsToChange) => {\r\n  try {\r\n    const batch = firebase.firestore().batch();\r\n    questionsToChange.forEach((item) => {\r\n      let arrayPath = item.path.split(\"/\");\r\n      let sizeUrl = arrayPath.length;\r\n      const sfRef = firebase\r\n        .firestore()\r\n        .collection(\"Sites\")\r\n        .doc(arrayPath[sizeUrl - 5])\r\n        .collection(\"subSites\")\r\n        .doc(arrayPath[sizeUrl - 3])\r\n        .collection(\"questions\")\r\n        .doc(arrayPath[sizeUrl - 1]);\r\n      batch.update(sfRef, {\r\n        isApproved: true,\r\n      });\r\n    });\r\n    await batch.commit();\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n// Approve selected questions\r\nconst declineQuestions = async (questionObs, questionsToChange) => {\r\n  try {\r\n    for (const item of questionsToChange) {\r\n      await firebase.firestore().collection(\"Sites\").doc(item.siteID).collection(\"subSites\").doc(item.subSiteID).collection(\"questions\").doc(item.id).delete();\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//---------stories:----------\r\nconst fetchStories = async (storiesObs, isOnlyAprrove) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"Stories\");\r\n    const data = isOnlyAprrove ? await response.orderBy(\"storyLikesNum\", \"desc\").get() : await response.get();\r\n    let temp = [];\r\n    data.docs.forEach((item) => {\r\n      let storyTemp = item.data();\r\n      storyTemp.id = item.id;\r\n      //If not need to be isOnlyAprrove OR need to be isOnlyAprrove and the storyTemp aprroved\r\n      if (!isOnlyAprrove || (isOnlyAprrove && storyTemp.isApproved)) {\r\n        temp.push(storyTemp);\r\n      }\r\n    });\r\n    return temp;\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//---------Approve stories:----------\r\nconst approveStories = async (storyObs, storiesToChange) => {\r\n  try {\r\n    await approveTreasureHuntsOrStories(storiesToChange, \"Stories\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n//---------Decline stories:----------\r\nconst declineStories = async (storyObs, storiesToChange) => {\r\n  try {\r\n    await declineTreasureHuntOrStory(storiesToChange, \"Stories\", \"storyLikes\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//---------Decline a story:----------\r\nconst declineStory = async (storiesToChange) => {\r\n  try {\r\n    const batch = firebase.firestore().batch();\r\n\r\n    const sfReflikes = await firebase.firestore().collection(\"Stories\").doc(storiesToChange.id).collection(\"storyLikes\").get();\r\n    const sfRef = firebase.firestore().collection(\"Stories\").doc(storiesToChange.id);\r\n\r\n    // delete users likes from their collections likes OR playedGames//\r\n    await removeTreasureHuntFromAllTheUsers(storiesToChange.id, \"Stories\");\r\n\r\n    if (storiesToChange.imageURL) {\r\n      const desertRef = firebase.storage().refFromURL(storiesToChange.imageURL);\r\n      await desertRef\r\n        .delete()\r\n        .then(function () {\r\n          console.log(\"File deleted successfully\");\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"Uh-oh, an error occurred!\");\r\n        });\r\n    }\r\n    sfReflikes.docs.forEach((item) => {\r\n      batch.delete(firebase.firestore().collection(\"Stories\").doc(storiesToChange.id).collection(\"storyLikes\").doc(item.id));\r\n    });\r\n    batch.delete(sfRef);\r\n    await batch.commit();\r\n  } catch (e) {\r\n    console.log(\"e\", e);\r\n  }\r\n};\r\n\r\n//----------Treasure hunt games-------------\r\nconst fetchTreasureHunt = async (treasureHuntObs, isOnlyAprrove) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"TreasureHunt\");\r\n    const data = isOnlyAprrove ? await response.orderBy(\"treasureHuntLikesNum\", \"desc\").get() : await response.get();\r\n    let temp = [];\r\n    data.docs.forEach((item) => {\r\n      let treasureHuntTemp = item.data();\r\n      treasureHuntTemp.id = item.id;\r\n\r\n      treasureHuntObs.addTreasureHunt(treasureHuntTemp);\r\n      //If not need to be isOnlyAprrove OR need to be isOnlyAprrove and the storyTemp aprroved\r\n      if (!isOnlyAprrove || (isOnlyAprrove && treasureHuntTemp.isApproved)) {\r\n        temp.push(treasureHuntTemp);\r\n      }\r\n    });\r\n    return temp;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\n//---------Approve Treasure Hunt games:----------\r\nconst approveTreasureHunt = async (treasureHuntObs, treasureHuntToChange) => {\r\n  try {\r\n    await approveTreasureHuntsOrStories(treasureHuntToChange, \"TreasureHunt\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n//---------Decline Treasure Hunt games:----------\r\nconst declineTreasureHunt = async (treasureHuntToChange) => {\r\n  try {\r\n    await declineTreasureHuntOrStory(treasureHuntToChange, \"TreasureHunt\", \"gameLikes\");\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nconst declineTreasureHuntOrStory = async (items, TreasureHuntOrStory, likesCollection) => {\r\n  try {\r\n    const batch = firebase.firestore().batch();\r\n\r\n    for (const item of items) {\r\n      const sfRef = firebase.firestore().collection(TreasureHuntOrStory).doc(item.id);\r\n      // delete users likes from their collections likes OR playedGames//\r\n      await removeTreasureHuntFromAllTheUsers(item.id, TreasureHuntOrStory);\r\n      // delete story's OR treasureHunt's likes//\r\n      if (item?.treasureHuntLikesNum > 0 || item?.storyLikesNum > 0) {\r\n        const sfReflikes = await firebase.firestore().collection(TreasureHuntOrStory).doc(item.id).collection(likesCollection).get();\r\n        try {\r\n          for (const like of sfReflikes.docs) {\r\n            batch.delete(firebase.firestore().collection(TreasureHuntOrStory).doc(item.id).collection(likesCollection).doc(like.id));\r\n          }\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      }\r\n      //delete treasureHunt's image if exist and not the site or subsite difualt image//\r\n      if (item.imageURL && !item.imageURL.includes(\"siteImages\") && !item.imageURL.includes(\"subSitesImages\")) {\r\n        const desertRef = firebase.storage().refFromURL(item.imageURL);\r\n        desertRef\r\n          .delete()\r\n          .then(function () {\r\n            console.log(\"File deleted successfully\");\r\n          })\r\n          .catch(function (error) {\r\n            console.log(\"Uh-oh, an error occurred!\");\r\n          });\r\n      }\r\n      batch.delete(sfRef);\r\n    }\r\n    await batch.commit();\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\nconst removeTreasureHuntFromAllTheUsers = async (itemID, TreasureHuntOrStory) => {\r\n  try {\r\n    if (TreasureHuntOrStory === \"Stories\") {\r\n      const response = firebase.firestore().collectionGroup(\"LikedStories\");\r\n      const data = await response.get();\r\n      let temp = [];\r\n      data.docs.forEach((t) => {\r\n        if (t.id === itemID) temp.push(t);\r\n      });\r\n      temp.forEach((item) => {\r\n        let ItemPath = item.ref.path;\r\n        try {\r\n          const ref = firebase.firestore().doc(ItemPath);\r\n          ref.delete();\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      });\r\n    } else {\r\n      const response1 = firebase.firestore().collectionGroup(\"playedGames\");\r\n      const data1 = await response1.get();\r\n      let temp1 = [];\r\n      data1.docs.forEach((t) => {\r\n        if (t.id === itemID) temp1.push(t);\r\n      });\r\n      temp1.forEach((item) => {\r\n        let ItemPath = item.ref.path;\r\n        try {\r\n          const ref = firebase.firestore().doc(ItemPath);\r\n          ref.delete();\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      });\r\n      const response2 = firebase.firestore().collectionGroup(\"LikedGames\");\r\n      const data2 = await response2.get();\r\n      let temp2 = [];\r\n      data2.docs.forEach((t) => {\r\n        if (t.id === itemID) temp2.push(t);\r\n      });\r\n      temp2.forEach((item) => {\r\n        let ItemPath = item.ref.path;\r\n        try {\r\n          const ref = firebase.firestore().doc(ItemPath);\r\n          ref.delete();\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      });\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//------------------------------\r\n\r\nconst approveTreasureHuntsOrStories = async (dataToChange, collectionName) => {\r\n  try {\r\n    const batch = firebase.firestore().batch();\r\n    dataToChange.forEach((item) => {\r\n      const sfRef = firebase\r\n        .firestore()\r\n        .collection(collectionName === \"Stories\" ? \"Stories\" : \"TreasureHunt\")\r\n        .doc(item.id);\r\n      //for loop{\r\n      batch.update(sfRef, {\r\n        isApproved: true,\r\n      });\r\n    });\r\n    await batch.commit();\r\n  } catch (e) {\r\n    console.log(e);\r\n    return;\r\n  }\r\n};\r\n\r\n//---------Users:----------\r\nconst fetchUsers = async (userObs) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"users\");\r\n    const data = await response.get();\r\n    data.docs.forEach((item) => {\r\n      let userTemp = item.data();\r\n      userTemp.id = item.id;\r\n      userObs.addUser(userTemp);\r\n    });\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\n//Approve selected users:\r\nconst approveUsers = async (userObs, usersToChange) => {\r\n  try {\r\n    const batch = firebase.firestore().batch();\r\n    usersToChange.forEach((item) => {\r\n      const sfRef = firebase.firestore().collection(\"users\").doc(item.id);\r\n      batch.update(sfRef, {\r\n        isApproved: true,\r\n        type: \"creator\",\r\n        declined: false,\r\n      });\r\n    });\r\n    await batch.commit();\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\n//Decline selected users:\r\nconst declineUsers = async (userObs, usersToChange) => {\r\n  try {\r\n    const batch = firebase.firestore().batch();\r\n    usersToChange.forEach((item) => {\r\n      const sfRef = firebase.firestore().collection(\"users\").doc(item.id);\r\n      batch.update(sfRef, {\r\n        declined: true,\r\n      });\r\n    });\r\n    await batch.commit();\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nclass Store {\r\n  //---------Questions:----------\r\n  questionObs = observable({\r\n    questions: [],\r\n    addQuestion: action(function (e) {\r\n      this.questions.push(e);\r\n    }),\r\n    get questionsCount() {\r\n      return this.questions.length;\r\n    },\r\n\r\n    get questionsList() {\r\n      return this.questions;\r\n    },\r\n\r\n    decline: action(async function (questionsToChange) {\r\n      this.questions = [];\r\n      let temp = questionsToChange;\r\n      if (!Array.isArray(questionsToChange)) {\r\n        temp = [];\r\n        temp[0] = questionsToChange;\r\n      }\r\n      await declineQuestions(this, temp).then({});\r\n    }),\r\n\r\n    approve: action(async function (questionsToChange) {\r\n      this.questions = [];\r\n      await approveQuestions(this, questionsToChange).then({});\r\n    }),\r\n\r\n    initQuestions: action(async function (siteID, subSiteID) {\r\n      this.questions = [];\r\n      await fetchQuestions(this, siteID, subSiteID).then({});\r\n    }),\r\n\r\n    initAllQuestions: action(async function () {\r\n      this.questions = [];\r\n      await fetchAllQuestions(this).then({});\r\n    }),\r\n\r\n    getAllQuestions: action(function () {\r\n      return this.questions;\r\n    }),\r\n  });\r\n\r\n  //---------Clues:----------\r\n  clueObs = observable({\r\n    clues: [],\r\n    addClue: action(function (e) {\r\n      this.clues.push(e);\r\n    }),\r\n    get cluesCount() {\r\n      return this.clues.length;\r\n    },\r\n\r\n    get cluesList() {\r\n      return this.clues;\r\n    },\r\n\r\n    decline: action(async function (cluesToChange) {\r\n      this.clues = [];\r\n      let temp = cluesToChange;\r\n      if (!Array.isArray(cluesToChange)) {\r\n        temp = [];\r\n        temp[0] = cluesToChange;\r\n      }\r\n      await declineClues(this, temp).then({});\r\n    }),\r\n\r\n    approve: action(async function (cluesToChange) {\r\n      this.clues = [];\r\n      await approveClues(this, cluesToChange).then({});\r\n    }),\r\n\r\n    initClues: action(async function (siteID, subSiteID) {\r\n      this.clues = [];\r\n      await fetchClues(this, siteID, subSiteID).then({});\r\n    }),\r\n\r\n    initAllClues: action(async function () {\r\n      this.clues = [];\r\n      await fetchAllClues(this).then({});\r\n    }),\r\n\r\n    getAllClues: action(function () {\r\n      return this.clues;\r\n    }),\r\n  });\r\n\r\n  //---------subSites:----------\r\n  subSiteObs = observable({\r\n    subSites: [],\r\n    subSite: {},\r\n    addSubSite: action(function (e) {\r\n      this.subSites.push(e);\r\n    }),\r\n    get subSitesCount() {\r\n      return this.subSites.length;\r\n    },\r\n\r\n    get subSitesList() {\r\n      return this.subSites;\r\n    },\r\n\r\n    initSubSites: action(async function (e) {\r\n      this.subSites = [];\r\n      let id = e;\r\n      await fetchSubSites(this, id).then({});\r\n    }),\r\n\r\n    initAllSubSites: action(async function () {\r\n      this.subSites = [];\r\n      await fetchAllSubSites(this).then({});\r\n    }),\r\n\r\n    decline: action(async function (subSitesToChange) {\r\n      this.subSites = [];\r\n      await declineSubSite(this, subSitesToChange).then({});\r\n    }),\r\n\r\n    getAllSubSites: action(function () {\r\n      return this.subSites;\r\n    }),\r\n\r\n    get subSiteInfo() {\r\n      return this.subSite;\r\n    },\r\n\r\n    initSubSite: action(async function (siteID, subSiteID) {\r\n      this.subSite = {};\r\n      if (siteID !== undefined && siteID !== subSiteID)\r\n        await fetchSubSite(this, siteID, subSiteID).then(() => {\r\n          return this.subSite;\r\n        });\r\n      else if (siteID !== undefined && siteID === subSiteID)\r\n        await fetchSiteInfo(this, siteID).then(() => {\r\n          return this.subSite;\r\n        });\r\n    }),\r\n\r\n    setSubSiteinfo: action(function (subSiteTemp) {\r\n      return (this.subSite = subSiteTemp);\r\n    }),\r\n  });\r\n\r\n  //---------Sites:----------\r\n  siteObs = observable({\r\n    sites: [],\r\n    addSite: action(function (e) {\r\n      this.sites.push(e);\r\n    }),\r\n    get sitesCount() {\r\n      return this.sites.length;\r\n    },\r\n\r\n    get SitesList() {\r\n      return this.sites;\r\n    },\r\n\r\n    initSites: action(async function (e) {\r\n      this.sites = [];\r\n      await fetchSites(this).then(async (sites) => {\r\n        this.sites = sites;\r\n      });\r\n    }),\r\n\r\n    decline: action(async function (sitesToChange) {\r\n      this.sites = [];\r\n      await declineAllSitesMain(this, sitesToChange).then({});\r\n    }),\r\n\r\n    getAllSites: action(function () {\r\n      return this.sites;\r\n    }),\r\n  });\r\n\r\n  //------stories object----\r\n  storiesObs = observable({\r\n    stories: [],\r\n    addStory: action(function (e) {\r\n      this.stories.push(e);\r\n    }),\r\n    get storiesCount() {\r\n      return this.stories.length;\r\n    },\r\n\r\n    get storiesList() {\r\n      return this.stories;\r\n    },\r\n\r\n    decline: action(async function (storiesToChange) {\r\n      this.stories = [];\r\n      //from component ApprovalTable\r\n      if (Array.isArray(storiesToChange)) {\r\n        await declineStories(this, storiesToChange).then({});\r\n      } else {\r\n        //from component EditContent\r\n        await declineStory(storiesToChange).then({});\r\n      }\r\n    }),\r\n    approve: action(async function (storiesToChange) {\r\n      this.stories = [];\r\n      await approveStories(this, storiesToChange).then({});\r\n    }),\r\n\r\n    initStories: action(async function (isOnlyAprrove) {\r\n      this.stories = [];\r\n      await fetchStories(this, isOnlyAprrove).then((stories) => {\r\n        this.stories = stories;\r\n      });\r\n    }),\r\n\r\n    getAllStories: action(function () {\r\n      return this.stories;\r\n    }),\r\n  });\r\n\r\n  //------TreasureHunt object----\r\n  treasureHuntObs = observable({\r\n    treasureHunt: [],\r\n    addTreasureHunt: action(function (e) {\r\n      this.treasureHunt.push(e);\r\n    }),\r\n    get treasureHuntCount() {\r\n      return this.treasureHunt.length;\r\n    },\r\n\r\n    get treasureHuntList() {\r\n      return this.treasureHunt;\r\n    },\r\n    decline: action(async function (treasureHuntToChange) {\r\n      this.treasureHunt = [];\r\n      let temp = treasureHuntToChange;\r\n      if (!Array.isArray(treasureHuntToChange)) {\r\n        temp = [];\r\n        temp[0] = treasureHuntToChange;\r\n      }\r\n      await declineTreasureHunt(temp).then({});\r\n    }),\r\n\r\n    approve: action(async function (treasureHuntToChange) {\r\n      this.stories = [];\r\n      await approveTreasureHunt(this, treasureHuntToChange).then({});\r\n    }),\r\n\r\n    initTreasureHunt: action(async function (isOnlyAprrove) {\r\n      this.treasureHunt = [];\r\n\r\n      await fetchTreasureHunt(this, isOnlyAprrove).then((treasureHunt) => {\r\n        this.treasureHunt = treasureHunt;\r\n      });\r\n    }),\r\n\r\n    getAllTreasureHunt: action(function () {\r\n      return this.treasureHunt;\r\n    }),\r\n  });\r\n\r\n  //---------user:----------\r\n  userObs = observable({\r\n    users: [],\r\n    addUser: action(function (e) {\r\n      this.users.push(e);\r\n    }),\r\n    get userCount() {\r\n      return this.users.length;\r\n    },\r\n\r\n    get usersList() {\r\n      return this.users;\r\n    },\r\n\r\n    approve: action(async function (usersToChange) {\r\n      this.users = [];\r\n      await approveUsers(this, usersToChange).then({});\r\n    }),\r\n\r\n    decline: action(async function (usersToChange) {\r\n      this.users = [];\r\n      await declineUsers(this, usersToChange).then({});\r\n    }),\r\n    initUsers: action(async function (e) {\r\n      this.users = [];\r\n      await fetchUsers(this).then({});\r\n    }),\r\n  });\r\n}\r\nexport default Store;\r\n","import React, {useState,useEffect} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport Card from '../components/TreasureHuntCards';\r\nimport Store from '../stores/Store';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\n\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\nconst reviewStore = new Store();\r\nconst store = new Store();\r\nfunction TreasureHuntSearch(props) {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false)\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //   props.userObs?.inTreasureHuntObs?.resetTH();\r\n    // },[]);\r\n    let selectedSite=props?.location?.state?.selectedSite? props.location.state.selectedSite: null;\r\n    return (\r\n      <div id=\"storiesPageStyle\" > \r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                    <Card reviewStore={reviewStore} userObs={props.userObs}\r\n                     store={store} selectedSite={selectedSite}/>\r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default TreasureHuntSearch;\r\n","import React, { Component } from \"react\";\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\nimport AuthorIcon from \"@material-ui/icons/EditOutlined\";\r\nimport StoryDesc from \"@material-ui/icons/MenuBookOutlined\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./stories-style.css\";\r\nclass FullscreenStoryCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"props.userObs\", props.userObs);\r\n    this.state = {\r\n      liked: props.liked,\r\n      likesnum: props.likesnum,\r\n      imgsrc: props.imgsrc,\r\n      title: props.title,\r\n      author: props.author,\r\n      istory: props.istory,\r\n      sID: props.sID,\r\n      user: props.user,\r\n      userObs: props.userObs,\r\n    };\r\n    this.toggleLike = this.toggleLike.bind(this);\r\n  }\r\n\r\n  toggleLike() {\r\n    let { likesnum, user, userObs, sID, liked } = this.state;\r\n    likesnum = liked ? likesnum - 1 : likesnum + 1;\r\n    liked = !liked;\r\n\r\n    this.setState({\r\n      likesnum: likesnum,\r\n      liked: liked,\r\n    });\r\n    userObs.updatesLikesStory(userObs.userInfo, sID, likesnum, liked);\r\n  }\r\n\r\n  render() {\r\n    let { likesnum, imgsrc, title, author, istory, sID, userObs } = this.state;\r\n    let heartIcon = \"  \";\r\n    return (\r\n      <div className=\"card text-right shadow\">\r\n        <div className=\"overflow\">\r\n          <img src={imgsrc} alt=\"image 1\" className=\"card-img-top\" />\r\n        </div>\r\n        <div className=\"card-body text-dark\">\r\n          <h4 className=\"card-title text-center\">{title}</h4>\r\n          <p className=\"card-text text-secondary\">\r\n            <div className=\"row\">\r\n              <div className=\"col-1\">\r\n                <AuthorIcon style={{ color: \"#e67700\" }} />\r\n              </div>\r\n              <div className=\"col-11\"> {author}</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-1\">\r\n                <StoryDesc style={{ color: \"#994f00\" }} />\r\n              </div>\r\n              <div className=\"col-11\">\r\n                {istory.slice(0, 120)}\r\n                <Link\r\n                  to={{\r\n                    pathname: `/storycontent/${sID}`,\r\n                    state: {\r\n                      title: title,\r\n                      imgsrc: imgsrc,\r\n                      author: author,\r\n                      storyContent: istory,\r\n                      liked: this.state.liked,\r\n                      likesnum: likesnum,\r\n                    },\r\n                  }}\r\n                >\r\n                    ...\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-1\">\r\n                {\r\n                  userObs?.userInfo?.type === \"registered\" || userObs?.userInfo?.type === \"creator\" || userObs?.userInfo?.type === \"admin\" ? (\r\n                    <button className=\"likeBtn\" onClick={this.toggleLike}>\r\n                      {this.state.liked ? <FavoriteRoundedIcon style={{ color: \"#b71c1c\" }} /> : <FavoriteBorderRoundedIcon style={{ color: \"#b71c1c\" }} />}\r\n                    </button>\r\n                  ) : (\r\n                    heartIcon\r\n                  ) // (icon )\r\n                }\r\n              </div>\r\n              <div className=\"col-11\"> {likesnum}</div>\r\n            </div>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FullscreenStoryCard;\r\n","import * as React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Card from \"@mui/material/Card\";\r\nimport CardContent from \"@mui/material/CardContent\";\r\nimport CardMedia from \"@mui/material/CardMedia\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\n\r\nexport default function PhoneScreenStoryCard(props) {\r\n  const theme = useTheme();\r\n  const [liked, setLiked] = useState(props.liked);\r\n  const [likesnum, setLikesnum] = useState(props.likesnum);\r\n  let userObs = props.userObs;\r\n  let sID = props.sID;\r\n  let heartIcon = \"  \";\r\n  const toggleLike = () => {\r\n    if (userObs?.userInfo?.type === \"registered\" || userObs?.userInfo?.type === \"creator\" || userObs?.userInfo?.type === \"admin\") {\r\n      setLikesnum(liked ? likesnum - 1 : likesnum + 1);\r\n      setLiked(!liked);\r\n      userObs.updatesLikesStory(userObs.userInfo, sID, liked ? likesnum - 1 : likesnum + 1, !liked);\r\n    }\r\n  };\r\n  console.log(userObs?.userInfo);\r\n  return (\r\n    <Card sx={{ display: \"flex\", width: \"100%\", minHeight: 120, maxHeight: 145 }} style={{ marginBottom: \"1rem\" }}>\r\n      <Box sx={{ display: \"flex\", flexDirection: \"column\", width: 250 }}>\r\n        <CardContent sx={{ flex: \"0 0 auto\" }}>\r\n          <Typography component=\"div\" fontSize={16} dir=\"rtl\">\r\n            {props.title}\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" color=\"text.secondary\" component=\"div\" fontSize={13} dir=\"rtl\">\r\n            {props.author}\r\n          </Typography>\r\n          <Link\r\n            to={{\r\n              pathname: `/storycontent/${sID}`,\r\n              state: {\r\n                title: props.title,\r\n                imgsrc: props.imgsrc,\r\n                author: props.author,\r\n                storyContent: props.istory,\r\n                liked: liked,\r\n                likesnum: likesnum,\r\n              },\r\n            }}\r\n          >\r\n              ...\r\n          </Link>\r\n          {\r\n            userObs?.userInfo?.type === \"registered\" || userObs?.userInfo?.type === \"creator\" || userObs?.userInfo?.type === \"admin\" ? (\r\n              <button className=\"likeBtn\" onClick={toggleLike}>\r\n                {liked ? <FavoriteRoundedIcon style={{ color: \"#b71c1c\" }} /> : <FavoriteBorderRoundedIcon style={{ color: \"#b71c1c\" }} />}\r\n              </button>\r\n            ) : (\r\n              heartIcon\r\n            ) // (icon )\r\n          }\r\n\r\n          {likesnum}\r\n        </CardContent>\r\n      </Box>\r\n      <CardMedia component=\"img\" sx={{ width: 100 }} image={props.imgsrc} alt=\"Live from space album cover\" />\r\n    </Card>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/defualt.544de424.jpg\";","import React, { useState, useEffect } from \"react\";\r\nimport FullscreenStoryCard from \"./FullScreenStoryCard\";\r\nimport PhoneScreenStoryCard from \"./PhoneScreenStoryCard\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport SearchIcon from \"@material-ui/icons/SearchRounded\";\r\nimport background from \"../../images/viewBackground.jpeg\";\r\nimport imageDef from \"../../images/defualt.jpg\";\r\nimport Box from \"@mui/material/Box\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nconst customHistory = createBrowserHistory();\r\n// designing the main container//\r\nconst useStyles = makeStyles((theme) => ({\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n    minHeight: \"83.7vh\",\r\n    backgroundPosition: \"center\",\r\n    backgroundSize: \"cover\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundImage: `url(${background})`,\r\n\r\n    \"& .MuiSelect-select\": {\r\n      width: \"160px\",\r\n      background: \"white\",\r\n      opacity: \"0.7\",\r\n      textAlign: \"left\",\r\n      dir: \"rtl\",\r\n      color: \"black\",\r\n      fontSize: \"1.15rem\",\r\n    },\r\n\r\n    \"& .MuiFormLabel-root\": {\r\n      color: \"black\",\r\n      textAlign: \"left\",\r\n      dir: \"rtl\",\r\n      fontSize: \"1.15rem\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction DisplayStories(props) {\r\n  const history = useHistory();\r\n  console.log(\"history\", customHistory);\r\n  const [stories, setStories] = useState([]);\r\n  const [user, setUser] = useState();\r\n  const storiesObs = props.reviewStore.storiesObs;\r\n  let mb = window.innerHeight < 916 ? \"5rem\" : window.innerHeight / 38.5 + \"rem\";\r\n  const classes = useStyles();\r\n  const [sitesNames, setSitesNames] = useState([]);\r\n  const siteObs = props.store.siteObs;\r\n  const [siteName, setSiteName] = useState(props.selectedSite ? props.selectedSite : \"\");\r\n\r\n  const handleSiteNameChangeSelectUser = (event) => {\r\n    setSiteName(event.target.value);\r\n  };\r\n\r\n  let pageTitle = \"  \";\r\n\r\n  function storiesDisplay(user, stories) {\r\n    console.log(\"what stories ?\", stories);\r\n    let slist = [];\r\n    let userSlist = user?.storyLikes;\r\n    if (userSlist) {\r\n      console.log(stories);\r\n      stories &&\r\n        stories.map((item, idx) => {\r\n          let tmpCheck = 0;\r\n          for (let key in userSlist) {\r\n            if (key.toString() === item.id.toString()) {\r\n              tmpCheck = 1;\r\n              item.liked = true;\r\n              slist.push(item);\r\n            }\r\n          }\r\n          if (tmpCheck !== 1) {\r\n            item.liked = false;\r\n            slist.push(item);\r\n          }\r\n        });\r\n      return slist;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(window.innerWidth);\r\n    siteObs.initSites().then(() => {\r\n      let temp = [];\r\n      siteObs.SitesList.map((site) => temp.push(site.siteName));\r\n      console.log(temp);\r\n      setSitesNames(temp);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setUser(props.userObs.userInfo);\r\n    setStories([]);\r\n    storiesObs.initStories(true).then(() => {\r\n      let arr = storiesObs.storiesList ? storiesObs.storiesList.filter((item) => item.isApproved) : [];\r\n      console.log(\"arr98\", arr);\r\n      setStories(storiesDisplay(props.userObs.userInfo, arr));\r\n    });\r\n  }, []);\r\n\r\n  function selectSiteFilter(value) {\r\n    if (siteName === \"\") return true;\r\n\r\n    return siteName === value.siteName;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* the main container */}\r\n      <Container className={classes.Container} component=\"main\" maxWidth={window.innerWidth <= 760 ? \"xs\" : \"100%\"} dir=\"rtl\">\r\n        {/* Stories Place Name/ stories for all places */}\r\n        <Button size=\"small\" variant=\"outlined\" onClick={history.goBack} style={{ position: \"absolute\", left: \"50px\", marginTop: \"30px\", color: \"#4d2800\", borderRadius: \"50px\" }}>\r\n           \r\n        </Button>\r\n        <div className=\"row text-right\">\r\n          <div className=\"col-3\">\r\n            <br />\r\n            <h1 id=\"placeName\" style={{ color: \"#4d2800\", fontFamily: \"lucida grande\", fontSize: \"60px\" }}>\r\n              {\" \"}\r\n              {pageTitle}\r\n            </h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"row text-center\">\r\n          <div className=\" col\">\r\n            <br />\r\n\r\n            <Box>\r\n              <FormControl>\r\n                <InputLabel id=\"sites_names-select-label\" sx={{ direction: \"rtl\" }}>\r\n                    \r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"sites_names-select-label\"\r\n                  id=\"sites_names-select-select\"\r\n                  value={siteName}\r\n                  variant=\"outlined\"\r\n                  onChange={handleSiteNameChangeSelectUser}\r\n                >\r\n                  <MenuItem key={1} value={\"\"} sx={{ direction: \"rtl\" }}>\r\n                    \r\n                  </MenuItem>\r\n                  {sitesNames &&\r\n                    sitesNames.map((option) => (\r\n                      <MenuItem key={option} value={option} sx={{ direction: \"rtl\" }}>\r\n                        {option}\r\n                      </MenuItem>\r\n                    ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Box>\r\n          </div>\r\n        </div>\r\n        <div className=\"container-fluid d-flex justify-content-center\" dir=\"rtl\">\r\n          <div className=\"row\" id=\"StoriesCards\" style={{ marginBottom: mb }}>\r\n            {storiesObs.storiesList &&\r\n              storiesObs.storiesList.map((itm, index) => {\r\n                if (siteName === itm.siteName || siteName === \"\") {\r\n                  let filledCards =\r\n                    window.innerWidth > 413 ? (\r\n                      <div className=\"col\">\r\n                        <FullscreenStoryCard\r\n                          sID={itm.id}\r\n                          imgsrc={itm.imageURL ? itm.imageURL : imageDef}\r\n                          title={itm.storyName}\r\n                          author={itm.authorName}\r\n                          istory={itm.storyContent}\r\n                          storylink=\"storycontent\"\r\n                          liked={itm.liked}\r\n                          likesnum={itm.storyLikesNum}\r\n                          userObs={props.userObs}\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"col\">\r\n                        <PhoneScreenStoryCard\r\n                          sID={itm.id}\r\n                          imgsrc={itm.imageURL ? itm.imageURL : imageDef}\r\n                          title={itm.storyName}\r\n                          author={itm.authorName}\r\n                          istory={itm.storyContent}\r\n                          storylink=\"storycontent\"\r\n                          liked={itm.liked}\r\n                          likesnum={itm.storyLikesNum}\r\n                          userObs={props.userObs}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  return <>{filledCards}</>;\r\n                }\r\n              })}\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DisplayStories;\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport Story from '../components/Stories';\r\nimport Store from '../stores/Store';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\nconst reviewStore = new Store();\r\n\r\nfunction Stories(props) {    \r\n    const [isOpen, setIsOpen]= useState(false)\r\n    const store = new Store();\r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n    // console.log(\"in page  !! \",props.location.state.selectedSite)\r\n    // console.log(\"in page onlt props!! \",props)\r\nlet selectedSite=props?.location?.state?.selectedSite? props.location.state.selectedSite: null;\r\n    return (\r\n      <div id=\"storiesPageStyle\" > \r\n          <StylesProvider jss={jss}>\r\n                <ThemeProvider theme={theme}>\r\n                    <ScrollToTop />\r\n                      <Story reviewStore={reviewStore} userObs={props.userObs} \r\n                             store={store} selectedSite={selectedSite}/>\r\n                </ThemeProvider>\r\n          </StylesProvider>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Stories;\r\n","import styled from \"styled-components\";\r\n\r\n\r\nexport const HeroBg = styled.div`\r\nposition:absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:100%;\r\noverflow: hidden;\r\nopacity: 0.5;\r\nz-index: -1;\r\n\r\n`;\r\n\r\nexport const VideoBg = styled.video`\r\nwidth: 100%;\r\nheight: 100%;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nbackground: #232a34;\r\nopacity: 0.5;\r\nz-index: -1;\r\n`;","import React from 'react';\r\n\r\n//From: https://github.com/florinpop17/quiz-app\r\nclass Answers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isAnswered: props.questionAnswered,\r\n            classNames: ['', '', '', '']\r\n        }\r\n        this.checkAnswer = this.checkAnswer.bind(this);\r\n    }\r\n    \r\n    checkAnswer(e) {\r\n        let { isAnswered } = this.props;\r\n        \r\n        if(!isAnswered) {\r\n            let elem = e.currentTarget;\r\n            let { correct, increaseScore } = this.props;\r\n            let answer = Number(elem.dataset.id);\r\n            let updatedClassNames = this.state.classNames;\r\n\r\n            if(answer === correct){\r\n                updatedClassNames[answer-1] = 'right';\r\n                increaseScore();\r\n            }\r\n            else {\r\n                updatedClassNames[answer-1] = 'wrong';\r\n                updatedClassNames[correct-1] = 'right';\r\n            }\r\n            \r\n            this.setState({\r\n                classNames: updatedClassNames,\r\n                isAnswered: true\r\n            })\r\n            new Promise(resolve => setTimeout(resolve, 600)).then(()=>{\r\n                this.setState({\r\n                    classNames: ['', '', '', '']\r\n                });\r\n                this.props.showButton();\r\n            })  \r\n        }\r\n    }\r\n    \r\n    shouldComponentUpdate() {\r\n        if (!this.state) {\r\n            this.setState({\r\n                classNames: ['', '', '', '']\r\n            });\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    render() {\r\n        let { answers } = this.props;\r\n        let { classNames,isAnswered } = this.state;\r\n  \r\n        return (\r\n            <div id=\"answers\">\r\n                <ul>\r\n                    <button onClick={this.checkAnswer} disabled={isAnswered} className={classNames[0]} data-id=\"1\"><span></span> <p>{answers[0]}</p></button>\r\n                    <button onClick={this.checkAnswer} disabled={isAnswered} className={classNames[1]} data-id=\"2\"><span></span> <p>{answers[1]}</p></button>\r\n                    <button onClick={this.checkAnswer} disabled={isAnswered} className={classNames[2]} data-id=\"3\"><span></span> <p>{answers[2]}</p></button>\r\n                    <button onClick={this.checkAnswer} disabled={isAnswered} className={classNames[3]} data-id=\"4\"><span></span> <p>{answers[3]}</p></button>\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Answers","import React from 'react';\r\n// import dataFrom from '../../data/data';\r\nimport Answers from './Answers';\r\nimport { Link, withRouter } from 'react-router-dom'; \r\nimport './Quiz.css';\r\n\r\n//From: https://github.com/florinpop17/quiz-app\r\nclass Quiz extends React.Component {    \r\n    constructor(props) {\r\n        super(props);\r\n        // console.log(\"data\",data[\"questions\"]);\r\n        // console.log(\"data\",data[\"questions\"][5].answers[0]);\r\n       \r\n        this.state = {\r\n            qNum: this.props.myqNum,\r\n            total: this.props.totalQuestions,\r\n            showButton: false,\r\n            questionAnswered: false,\r\n            score: this.props.myScore,\r\n            lastscore: this.props.myScore,\r\n            isOnlyQuiz: this.props.isOnlyQuiz,\r\n            thID: this.props.thID,\r\n            dataQuestions: this.props.dataQuestions\r\n            // displayPopup: 'flex'\r\n        }\r\n        // alert(\"qnum \"+this.state.qNum);\r\n        this.nextQuestion = this.nextQuestion.bind(this);\r\n        this.handleShowButton = this.handleShowButton.bind(this);\r\n        this.handleStartQuiz = this.handleStartQuiz.bind(this);\r\n        this.handleIncreaseScore = this.handleIncreaseScore.bind(this);        \r\n    }\r\n    \r\n    pushData(qNum,dataQuestions) {\r\n        this.setState({\r\n            question: dataQuestions.question,\r\n            answers: [dataQuestions.answers[0], dataQuestions.answers[1], dataQuestions.answers[2], dataQuestions.answers[3]],\r\n            correct: dataQuestions.correct,\r\n            qNum: this.state.qNum + 1\r\n        });\r\n    }\r\n\r\n\r\n    componentWillMount() {        \r\n        let {qNum, dataQuestions} = this.state;\r\n        this.pushData(qNum,dataQuestions);\r\n    }\r\n\r\n    nextQuestion() {\r\n        let {qNum, total, score, dataQuestions} = this.state;\r\n        // alert(qNum)\r\n         if(qNum === total){     \r\n            //       \r\n            alert(\"   \"+score);\r\n            this.setState({\r\n                // displayPopup: 'flex'\r\n                qNum:1\r\n            });\r\n            this.props.history.push({pathname: '/tresurHuntOnly'})\r\n        } \r\n        else {\r\n            this.pushData(qNum,dataQuestions);\r\n\r\n            this.setState({\r\n                // showButton: false,\r\n                questionAnswered: false\r\n            });\r\n        }\r\n    }\r\n        \r\n\r\n    handleShowButton() {\r\n        let {isOnlyQuiz, qNum, lastscore,thID}=this.state;\r\n        \r\n        if(isOnlyQuiz){\r\n            this.setState({\r\n                // showButton: true,\r\n                questionAnswered: true\r\n            })            \r\n            this.nextQuestion();\r\n            this.setState({\r\n                // showButton: false,\r\n                questionAnswered: false\r\n            });\r\n        }\r\n        else{\r\n            this.setState({\r\n                // showButton: true,\r\n                questionAnswered: true\r\n            })\r\n            new Promise(resolve => setTimeout(resolve, 600)).then(()=>{\r\n                console.log(\"qNum+1\",qNum+1)\r\n                this.props.history.push({\r\n                    pathname: `/treasureHunt/${thID}`,\r\n                    state: {\r\n                        score:this.state.score, qNum:(qNum+1) ,isFlag:true, prevAnswer:(lastscore!==this.state.score), isJustAnswerd:true\r\n                    },\r\n                })\r\n            })\r\n        }\r\n    }\r\n\r\n    handleStartQuiz() {\r\n        this.setState({\r\n            // displayPopup: 'none',\r\n            qNum: 1\r\n        });\r\n    }\r\n\r\n    handleIncreaseScore() {\r\n        this.setState({\r\n            score: this.state.score + 1\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let { qNum, total, question, answers, correct, showButton, questionAnswered, isOnlyQuiz, score} = this.state;\r\n\r\n        return (            \r\n            <div className=\"container quizBody\">\r\n                <br />\r\n                 <div className=\"row\">\r\n                    <div className=\"col-lg-10 col-lg-offset-1\">\r\n                        <div id=\"question\">\r\n                            <h4> {qNum+1}/{total}</h4>\r\n                            <p>{question}</p>\r\n                        </div>\r\n                        <Answers answers={answers} correct={correct} showButton={this.handleShowButton}\r\n                         isAnswered={questionAnswered} increaseScore={this.handleIncreaseScore}/>   \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}; \r\n\r\nexport default withRouter(Quiz)\r\n\r\n                        {/* {isOnlyQuiz ?\r\n                        <div id=\"submit\">\r\n                            {showButton ? <button className=\"fancy-btn\" onClick={this.nextQuestion}>{qNum===total ? '  ' : '   '}</button> : null}\r\n                        </div> \r\n                        : \r\n                        <div id=\"submit\">\r\n                            {showButton ? <Link to={{\r\n                                pathname: '/clue',\r\n                                state: {\r\n                                    score: score, qNum: (qNum+1) , isFlag:true\r\n                                },\r\n                                }}><button type=\"button\" className=\"fancy-btn\">{qNum===total ? '  ' : '   '}</button></Link>: null}\r\n                        </div>} */}","import {HeroBg,  \r\n  VideoBg,\r\n  } from './TresurHuntTamplateElemments';\r\nimport Video from '../../videos/video.mp4';\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React from \"react\";\r\nimport Quiz from './Quiz'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  paper: {\r\n    minHeight:\"58vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"rgb(0,0,0)\",\r\n    \"& .MuiInputLabel-root\": {\r\n      color: \"black\"\r\n    },\r\n  },\r\nContainer: {\r\n  opacity: 0.99999,\r\n  zIndex: 50,\r\n  width: \"100%\",\r\n     \r\n},\r\n}));\r\n\r\nexport default function TresurHuntTamplate(props) {\r\nconst classes = useStyles();\r\nlet qNum= props.myqNum;\r\nlet score= props.myScore;\r\nlet isOnlyQuiz= props.isOnlyQuiz;\r\nlet dataQuestions=props.dataQuestions;\r\nreturn (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"md\" dir= \"rtl\" >\r\n        <HeroBg>\r\n            <VideoBg autoPlay loop muted src={Video} type= 'video/mp4' />\r\n        </HeroBg>\r\n          <CssBaseline />\r\n          <div className={classes.paper} >\r\n            <br/>\r\n            <Grid container justifyContent=\"flex-start\" spacing={2} >\r\n              <Quiz myqNum={qNum} myScore={score} isOnlyQuiz={isOnlyQuiz} thID={props.thID}\r\n                dataQuestions={dataQuestions} totalQuestions={props.totalQuestions}/>\r\n            </Grid>\r\n        </div>\r\n      </Container>\r\n  </>\r\n    \r\n)\r\n}\r\n\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport TresurHuntTamplate from '../components/TresurHuntTamplate';\r\n\r\n\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\nfunction TresurHuntTamplatePage(props) {\r\n\r\n    const [isOpen, setIsOpen]= useState(false)\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n    let score=0;\r\n    let qNum=0;\r\n    let thID;\r\n    let dataQuestions;\r\n    let answers;\r\n    let correct;\r\n    let question;\r\n    let totalQuestions;\r\n    // let qNumNext=0;\r\n\r\n    if( props?.location?.state?.flag===true){\r\n         score = props.location.state.score;\r\n         qNum = props.location.state.qNum;\r\n         thID = props.location.state.thID;\r\n         totalQuestions = props.location.state.totalQuestions;\r\n         answers = props.location.state.answers;\r\n         correct = props.location.state.correct;\r\n         question = props.location.state.question;\r\n         dataQuestions={answers:answers, correct:correct, question:question}\r\n        //  console.log(\"TresurHuntTamplateQuestPageStyle\",score)\r\n        // console.log(\"before answers\",props.location.state.answers)\r\n        // let swapTemp= answers[correct-1];\r\n        // answers[correct]=answers[0];\r\n        // answers[0]=swapTemp;\r\n        //  let temp={answers:answers,correct:0};\r\n        //  let swapTemp= answers[correct-1];\r\n        //  temp.answers[correct-1]=temp.answers[0];\r\n        //  temp.answers[0]=swapTemp;\r\n        //  console.log(\"before temp\",temp)\r\n        // shuffle(temp);\r\n        // console.log(\"after temp\",temp)\r\n        // answers=temp.answers;\r\n        // correct=temp.correct+1;\r\n        // console.log(\"after answers\",answers)\r\n    }\r\n\r\n    function shuffle(temp) {\r\n      let array=temp.answers;\r\n      let currentIndex = array.length,  randomIndex;\r\n        \r\n      // While there remain elements to shuffle...\r\n      while (currentIndex !== 0) {\r\n    \r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex--;\r\n    \r\n        // And swap it with the current element.\r\n        [array[currentIndex], array[randomIndex]] = [\r\n          array[randomIndex], array[currentIndex]];\r\n  \r\n        //follow the correct answer\r\n        if(temp.correctAnswer===currentIndex)\r\n          temp.correctAnswer=randomIndex;\r\n        if(temp.correctAnswer===randomIndex)\r\n          temp.correctAnswer=currentIndex;\r\n        \r\n      }\r\n      return array;\r\n    }\r\n\r\n    \r\n    return (\r\n      <div id=\"TresurHuntTamplateQuestPageStyle\" className=\"bodyStandartHigher\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop /> \r\n                        <TresurHuntTamplate myqNum={qNum} myScore={score} isOnlyQuiz={false} \r\n                          thID={thID} dataQuestions={dataQuestions} totalQuestions={totalQuestions}/>\r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TresurHuntTamplatePage\r\n","export default __webpack_public_path__ + \"static/media/tree.6d094f73.jpeg\";","import styled from \"styled-components\";\r\nimport './style-TreasureHunt.css';\r\nimport img from '../../images/tree.jpeg';\r\n\r\nexport const HeroBg = styled.div`\r\nposition:absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\noverflow: hidden;\r\nopacity: 0.25;\r\nz-index: -1;\r\n`;\r\n\r\nexport const ImageBg = styled.div`\r\nposition: absolute;\r\nbackground-image: url(${props => props.img ? props.img : null});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: 1;\r\n`;","import React, { useState} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport QrReader from 'react-qr-reader';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nconst QRreader = (props) => {\r\n\r\n    const [scanResultWebCam, setScanResultWebCam] =  useState('');\r\n    const [isQRScan, setIsQRScan] =  useState(false);\r\n    const info = props.infoInizialize;\r\n    const [isURL, setIsURL] =  useState(props.isURL);\r\n    const [textInfo,setTextInfo] =  useState('');\r\n    const history = useHistory();\r\n\r\n    const commonStyles = {\r\n        bgcolor: 'background.paper',\r\n        m: 10,\r\n        border: 3,\r\n        width: '5rem',\r\n        height: '5rem', \r\n      };\r\n\r\n\r\n    const handleErrorWebCam = (error) => {\r\n        console.log(error);\r\n    }\r\n    const handleScanWebCam = (result) => {\r\n        if (result){\r\n            setScanResultWebCam(result);\r\n            setIsQRScan(true);\r\n            \r\n            if(isURL)\r\n                handleURL(result);\r\n            else\r\n                handleTextInfo(result);  \r\n        }\r\n    }\r\n\r\n    let isCorrectScan=null;\r\n    let isInGameMode=false;\r\n    if(props.isInGameMode!==undefined)\r\n        isInGameMode=props.isInGameMode;\r\n        \r\n    function handleURL(result){\r\n        if(result===info && isInGameMode===true){\r\n            setTextInfo(<Alert severity=\"success\">  -QR </Alert>);\r\n            isCorrectScan=true; \r\n            if(isInGameMode===true){\r\n                let answers=[];\r\n                props.dataQuestions.answers.forEach(element => {\r\n                    answers.push(element) ;\r\n                });\r\n                history.push({\r\n                pathname: '/tresurHuntTamplateQuest',\r\n                state: {score: props.parameters.score, qNum: props.parameters.qNum, flag: true, totalQuestions:props.totalQuestions,\r\n                     thID:props.parameters.treasureHuntID, answers:answers, correct: props.dataQuestions.correct,\r\n                     question: props.dataQuestions.question}\r\n                })\r\n            }\r\n        }\r\n        else if(isInGameMode===false){\r\n\r\n            let arrayPath = result.split( '/' );\r\n            let sizeUrl=arrayPath.length;\r\n            history.push({\r\n            pathname: `/intrestPointInfoPage/${arrayPath[sizeUrl-2]}/${arrayPath[sizeUrl-1]}`,\r\n            state: {url: result}\r\n            })            \r\n        }\r\n        else{ \r\n            setTextInfo(<Alert severity=\"error\">  -QR  </Alert>);\r\n            isCorrectScan=false;\r\n        }\r\n    }\r\n\r\n    function handleTextInfo(result){\r\n        if(result===info)\r\n            setTextInfo(<Alert>  -QR </Alert>);\r\n        else \r\n            setTextInfo(<Alert>  -QR  </Alert>)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Grid item xs={12}>\r\n                <Box sx={{ ...commonStyles,display:'inline', width: '80%' , bgcolor: (isQRScan && isURL && isCorrectScan)?'red':'black' }}>\r\n                    {(isQRScan && isURL) ? textInfo : null} {/*Handle URL Scaned explanation's text for user*/}\r\n                    {(isQRScan && !isURL) ? textInfo : null}  {/*Handle Text-Info Scaned explanation's text for user*/}\r\n                    <QrReader\r\n                    delay={300}\r\n                    onError={handleErrorWebCam}\r\n                    onScan={handleScanWebCam}\r\n                    showViewFinder={false}\r\n                    />     \r\n                </Box>\r\n            </Grid>  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default QRreader","import React, { Component } from \"react\";\nimport L from \"leaflet\";\nimport { MapContainer, Marker, Popup, TileLayer } from \"react-leaflet\";\nimport cheast from '../../images/treasure.png';\nimport 'leaflet/dist/leaflet.css';\n\nfunction GetIcon(_iconSize, forecast) {\n  return L.icon({\n    iconUrl: cheast,\n    iconSize: [_iconSize],\n  });\n}\n\nfunction StaticMap(props) {\n const position = [props.pointIntrest?.geoPointSite?.latitude, props.pointIntrest?.geoPointSite?.longitude]\nlet temp=[];\nif(props.gameList){\n props.gameList.map((itm, i) =>{\n temp.push( { name: itm.pointIntrest.placeName, position: (itm.pointIntrest.geoPoint)? [itm.pointIntrest.geoPoint.latitude, itm.pointIntrest.geoPoint.longitude]:[32.70386081777419, 35.12992763616121] , size: 25 })\n})\n}\nconst locations=temp;\n\n  return (\n   \n    <MapContainer\n      className=\"map\"\n      center={position}\n      zoom={17}\n      style={{ height: 300, width:  200, position:' center'}}\n    >\n      <TileLayer\n        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      {locations.map((location) => (\n        <Marker\n          position={location.position}\n          icon={GetIcon(location.size, location.forecast)}\n        >\n          <Popup>\n            {location.name} \n          </Popup>\n        </Marker>\n      ))}\n    </MapContainer>\n  );\n}\n\nexport default StaticMap;\n\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./style-TreasureHunt.css\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport { HeroBg, ImageBg } from \"./TreasureHuntElement\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport QRreader from \"../QRreader\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport StaticMap from \"../StaticMap\";\r\nimport NotListedLocationIcon from \"@mui/icons-material/NotListedLocation\";\r\nimport imageDef from \"../../images/tree.jpeg\";\r\nimport { Box } from \"@material-ui/core\";\r\nlet sizePage = 0;\r\nlet GlobalFontReduce = 8;\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(sizePage / 10 + 20),\r\n    display: \"flex\",\r\n    minHeight: \"53vh\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  TheButton: {\r\n    background: \"#ffcc00\",\r\n    borderRadius: \"30px\",\r\n    whiteSpace: \"nowrap\",\r\n    fontSize: `${40 - GlobalFontReduce}px`,\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: \"4px 38px\",\r\n    fontFamily: \"lucida grande\",\r\n    fontSize: `${28 - GlobalFontReduce}px}`,\r\n    transition: \"all 0.2s ease-in-out\",\r\n  },\r\n  bTStyled: {\r\n    color: \"#4d2800\",\r\n    fontFamily: \"lucida grande\",\r\n  },\r\n  hTStyled: {\r\n    fontFamily: \"lucida grande\",\r\n    fontStyle: \"italic\",\r\n    fontWeight: \"bold\",\r\n  },\r\n}));\r\n\r\nfunction TreasureHunt(props) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n  const toggleback = () => {\r\n    history.push(\"/\");\r\n  };\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [score, setScore] = useState(props.score);\r\n  const [qNum, setQNum] = useState(props.qNum);\r\n  const [prevAnswer, setPrevAnswer] = useState(props.prevAnswer);\r\n  const [parameters, setParameters] = useState({ score: score, qNum: qNum - 1, flag: true, prevAnswer: props.prevAnswer, treasureHuntID: props.treasureHuntID });\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState(\"paper\");\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  console.log(\"tttt\", score <= Math.round(data?.gameList.length / 3) && !score > Math.round((data?.gameList.length * 2) / 3));\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  let data = props.treasureHunt;\r\n  let totalQuestions;\r\n  let userObs = props.userObs;\r\n  let user = userObs.userInfo;\r\n\r\n  function returnMyScoreNotice(score) {\r\n    if (score <= Math.round(data?.gameList.length / 3) && score < Math.round((data?.gameList.length * 2) / 3)) return \"  \";\r\n    else if (score >= Math.round((data?.gameList.length * 2) / 3) && score < Math.round(data?.gameList.length)) return \"  \";\r\n    else if (score === Math.round(data?.gameList.length)) return \"!!!  \";\r\n    else return null;\r\n  }\r\n\r\n  const [finalScore, setFinalScore] = useState(\r\n    returnMyScoreNotice(score) ? (\r\n      <Box item sx={{ bgcolor: returnMyScoreNotice(score) === \"  \" ? \"#9e9e9e\" : \"success.main\", borderRadius: \"3px\" }}>\r\n        <Typography className={classes.bTStyled} component=\"h6\" variant=\"h6\" style={{ fontSize: `${29 - GlobalFontReduce}px` }}>\r\n          {returnMyScoreNotice(score)}\r\n        </Typography>\r\n      </Box>\r\n    ) : null\r\n  );\r\n\r\n  useEffect(() => {\r\n    data = props.treasureHunt;\r\n    if (data !== undefined && !data) {\r\n      setQNum(qNum > 0 || qNum < data?.gameList.length ? qNum : 0);\r\n      totalQuestions = data.gameList.length;\r\n      setParameters({ score: score, qNum: qNum - 1, flag: true, prevAnswer: props.prevAnswer, treasureHuntID: props.treasureHuntID });\r\n    } else return;\r\n  }, [props.treasureHunt]);\r\n\r\n  useEffect(() => {\r\n    sizePage = data?.gameList[qNum]?.nextclue.length ? data?.gameList[qNum]?.nextclue.length / 45 : 0;\r\n    user = props?.userObs?.userInfo;\r\n    if (user?.playedGames?.[`${props.treasureHuntID}`] !== undefined && user?.playedGames?.[`${props.treasureHuntID}`]) {\r\n      setScore(props.score);\r\n      setQNum(props.qNum);\r\n      setPrevAnswer(props.prevAnswer);\r\n      setParameters({ score: score, qNum: qNum - 1, flag: true, prevAnswer: props.prevAnswer, treasureHuntID: props.treasureHuntID });\r\n      setBoolStartGame(false);\r\n    }\r\n\r\n    if (props.isJustAnswerd) {\r\n      if (parameters?.qNum >= 0) {\r\n        if (user && data) {\r\n          userObs.updateUserGameProgress(user, parameters, data, totalQuestions, boolStartGame);\r\n        }\r\n      }\r\n    }\r\n  }, [props.userObs.userInfo, props.treasureHuntID]);\r\n\r\n  const [boolStartGame, setBoolStartGame] = useState(props.boolStartGame);\r\n\r\n  let answerResultFeedback = prevAnswer ? (\r\n    <>\r\n      <Alert severity=\"success\"> </Alert>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <Alert severity=\"error\"> </Alert>\r\n    </>\r\n  );\r\n  let startGameDisplay = (\r\n    <>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <br />\r\n          <button\r\n            type=\"button\"\r\n            className=\"fancy-btn\"\r\n            style={{ background: \"#3B2A1A\", color: \"#fff\", borderRadius: \"50px\", padding: \"14px 40px\" }}\r\n            onClick={() => {\r\n              if (user && data) {\r\n                userObs.setUserGameProgress(user, data, totalQuestions, boolStartGame, props.treasureHuntID);\r\n              }\r\n              setBoolStartGame(false);\r\n              history.push({\r\n                pathname: `/treasureHunt/${props.treasureHuntID}`,\r\n                state: { score: 0, qNum: 1, flag: true, boolStartGame: false },\r\n              });\r\n            }}\r\n          >\r\n             \r\n          </button>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {data !== undefined ? (\r\n        <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\r\n          <HeroBg size={sizePage}>\r\n            <ImageBg size={sizePage} img={data.imageURL ? data.imageURL : imageDef} />\r\n          </HeroBg>\r\n          {/* Move to Point ofIntrest page */}\r\n          {data && data?.gameList[qNum - 1]?.pointIntrest && (\r\n            <>\r\n              <Button\r\n                type=\"button\"\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                style={{ justifyContent: \"left\", alignItems: \"left\", marginTop: \"15px\", color: \"#4d2800\", borderRadius: \"50px\", maxWidth: \"210px\" }}\r\n                onClick={() => {\r\n                  let arrayPath = data?.gameList[qNum - 1]?.pointIntrest?.barcode.split(\"/\");\r\n                  let sizeUrl = arrayPath.length;\r\n                  history.push({\r\n                    pathname: `/intrestPointInfoPage/${arrayPath[sizeUrl - 2]}/${arrayPath[sizeUrl - 1]}`,\r\n                    state: { treasureHuntID: props.treasureHuntID },\r\n                  });\r\n                }}\r\n              >\r\n                   {data?.gameList[qNum - 1]?.pointIntrest?.placeName}\r\n              </Button>\r\n              <br />\r\n              <br />\r\n            </>\r\n          )}\r\n          <Dialog open={open} onClose={handleClose} aria-labelledby=\"scroll-dialog-title\" aria-describedby=\"scroll-dialog-description\" minHeight=\"300px\" minWidth=\"300px\">\r\n            <DialogTitle id=\"scroll-dialog-title\" dir=\"rtl\">\r\n               \r\n            </DialogTitle>\r\n            <DialogContent dividers={scroll === \"paper\"}>\r\n              <DialogContentText id=\"scroll-dialog-description\" ref={descriptionElementRef}>\r\n                {data?.gameList && <StaticMap gameList={data?.gameList} pointIntrest={data?.gameList[qNum]?.pointIntrest} />}\r\n              </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={handleClose}></Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n          <Grid item xs={12}>\r\n            <Typography className={classes.hTStyled} component=\"h3\" variant=\"h3\" style={{ color: \"#663300\", alignItems: \"center\", fontSize: `${40 - GlobalFontReduce}px` }}>\r\n                :\r\n            </Typography>\r\n            <Typography\r\n              className={classes.hTStyled}\r\n              component=\"h3\"\r\n              variant=\"h3\"\r\n              style={{ color: \"#b35900\", alignItems: \"center\", marginTop: \"20px\", fontSize: `${35 - GlobalFontReduce}px` }}\r\n            >\r\n              {data?.quizName}\r\n            </Typography>\r\n            {qNum === 0 && boolStartGame ? (\r\n              <>\r\n                <Typography className={classes.bTStyled} component=\"h6\" variant=\"h6\" style={{ fontSize: `${29 - GlobalFontReduce}px`, textDecoration: \"underline\" }}>\r\n                  {\" : \" + data?.authorName}\r\n                </Typography>\r\n                <Typography className={classes.bTStyled} component=\"h5\" variant=\"h5\" style={{ fontSize: `${25 - GlobalFontReduce}px` }}>\r\n                  {data?.description}\r\n                </Typography>\r\n              </>\r\n            ) : null}\r\n          </Grid>\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            {qNum === 0 && boolStartGame ? (\r\n              startGameDisplay\r\n            ) : (\r\n              <Grid container spacing={2} alignContent=\"center\" alignitem=\"center\" justifyContent=\"center\">\r\n                <Grid item xs={12}>\r\n                  <label className={classes.bTStyled} style={{ fontSize: `${28 - GlobalFontReduce}px` }}>\r\n                    {\"   : \" + props.treasureHunt?.gameList.length + \" / \" + qNum}\r\n                  </label>\r\n                  <br />\r\n                  <label className={classes.bTStyled} style={{ fontSize: `${25 - GlobalFontReduce}px` }}>\r\n                    {\" : \" + score}\r\n                  </label>\r\n                  {qNum === 0 ? null : answerResultFeedback}\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <div>\r\n                    {qNum < data?.gameList.length ? (\r\n                      <>\r\n                        <p className={classes.bTStyled} style={{ fontSize: `${30 - GlobalFontReduce}px`, textDecoration: \"underline\" }}>\r\n                            :\r\n                          <IconButton onClick={handleClickOpen(\"body\")}>\r\n                            <NotListedLocationIcon style={{ width: \"45px\", height: \"45px\" }} />\r\n                          </IconButton>\r\n                        </p>\r\n                        <p className={classes.bTStyled} style={{ fontSize: `${25 - GlobalFontReduce}px` }}>\r\n                          {data?.gameList[qNum].nextclue}\r\n                        </p>\r\n                      </>\r\n                    ) : null}\r\n                  </div>\r\n                </Grid>\r\n                {data && qNum < data?.gameList.length ? (\r\n                  <>\r\n                    <Grid item xs={12}>\r\n                      <h5 className={classes.bTStyled} style={{ fontSize: `${28 - GlobalFontReduce}px` }}>\r\n                           :\r\n                      </h5>\r\n                    </Grid>\r\n                    <Grid item xs={8}>\r\n                      <QRreader\r\n                        infoInizialize={data?.gameList[qNum].qrURL}\r\n                        totalQuestions={data?.gameList.length}\r\n                        isURL={true}\r\n                        parameters={parameters}\r\n                        isInGameMode={true}\r\n                        dataQuestions={data?.gameList[qNum]}\r\n                      />\r\n                    </Grid>\r\n                  </>\r\n                ) : null}\r\n                {\r\n                  //after finish the game- reset- going to drop down later\r\n                  data && qNum < data?.gameList.length ? null : (\r\n                    <>\r\n                      <Grid item xs={6} style={{ justifyContent: \"center\" }}>\r\n                        {finalScore}\r\n                      </Grid>\r\n                      <Grid item xs={7}></Grid>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"fancy-btn\"\r\n                        style={{ background: \"#3B2A1A\", color: \"#fff\", borderRadius: \"50px\", padding: \"14px 40px\", marginTop: \"5px\" }}\r\n                        onClick={() => {\r\n                          history.push(`/treasureHuntSearch`);\r\n                        }}\r\n                      >\r\n                         \r\n                      </button>\r\n                    </>\r\n                  )\r\n                }\r\n              </Grid>\r\n            )}\r\n          </div>\r\n        </Container>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\nexport default TreasureHunt;\r\n","import React, {useState,useEffect} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport TreasureHunt from '../components/TreasureHunt';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport { AuthProvider } from \"../Contexts/AuthContexts\";\r\nimport {useParams} from \"react-router-dom\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction TreasureHuntPage(props) {\r\n  const [treasureHunt,setTreasureHunt]= useState(undefined);\r\n  let { treasureHuntID } = useParams();\r\n  const [bool,setBool]= useState(undefined);\r\n  // // const [newID,SetnewID]=useState();\r\n  // console.log(\"TH page props.userObs?.userInfo?.playedGames[`${treasureHuntID}`]\",props.userObs)\r\n  let score=0;\r\n  let qNum=0;\r\n  let prevAnswer= null;\r\n  let isJustAnswerd=null;\r\n  if(props?.location?.state!==undefined && !props?.location?.state?.fromCards){\r\n    // console.log(\"set user location?.state\")\r\n      score = props.location.state.score;\r\n      qNum = props.location.state.qNum;\r\n      prevAnswer = props.location.state.prevAnswer;\r\n      isJustAnswerd= props.location.state.isJustAnswerd;\r\n  }\r\n  else if(props?.location?.state===undefined && props.userObs?.userInfo?.playedGames?.[`${treasureHuntID}`]){\r\n    score = props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.score;\r\n    qNum = props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.qNum;\r\n    prevAnswer = props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.prevAnswer;\r\n    isJustAnswerd= props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.isJustAnswerd;\r\n    // SetnewID(treasureHuntID);\r\n  }\r\n  else if(props?.location?.state?.fromCards && props.userObs?.userInfo?.playedGames?.[`${treasureHuntID}`]){\r\n    score = props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.score;\r\n    qNum = props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.qNum;\r\n    prevAnswer = props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.prevAnswer;\r\n    isJustAnswerd= props.userObs.userInfo?.playedGames[`${treasureHuntID}`]?.isJustAnswerd;\r\n    // SetnewID(treasureHuntID);\r\n  }\r\n  // console.log(props.userObs.userInfo); \r\n\r\n  useEffect(async() => {\r\n    setTreasureHunt({});   \r\n    if(!props.treasureHunt || props?.location?.state?.fromCards){\r\n      try{\r\n      await props.inTreasureHuntObs.initTreasureHunt(treasureHuntID).then(()=>{\r\n        setTreasureHunt(props.inTreasureHuntObs.getTreasureHunt);\r\n        setBool(true);\r\n        console.log(\"page treasureHunt\",props.inTreasureHuntObs.getTreasureHunt);\r\n      });\r\n      }catch(e){\r\n        console.log(\"error\",e)\r\n      }\r\n    }\r\n  },[]);\r\n\r\n  const [isOpen, setIsOpen]= useState(false)\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen)\r\n  }\r\n  return (\r\n    <div id=\"cluePageStyle\" >\r\n        <StylesProvider jss={jss}>\r\n            <ThemeProvider theme={theme}>\r\n                <ScrollToTop />\r\n                <AuthProvider>\r\n                  {props?.inTreasureHuntObs?.getTreasureHunt!==null && bool===true ? \r\n                  <TreasureHunt qNum={qNum} score={score} flag={false} prevAnswer={prevAnswer} \r\n                    boolStartGame={true} userObs={props.userObs} treasureHunt={props.inTreasureHuntObs.getTreasureHunt} \r\n                    treasureHuntID={treasureHuntID} isJustAnswerd={isJustAnswerd}/> \r\n                  :null}\r\n                </AuthProvider> \r\n            </ThemeProvider>\r\n        </StylesProvider>,\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default TreasureHuntPage;\r\n","import styled from \"styled-components\";\nimport { Link as LinkR } from 'react-router-dom';\nexport const Button = styled(LinkR)`\nborder-radius: 50px; \nbackground: ${({primary}) => (primary ? '#C8B394' : '#C8B394')};\nwhite-space: nowrap;\npadding: ${({big}) => (big ? '14px 48px': '12px 30px')};\ncolor: ${({dark}) => (dark ? '#3B2A19': '#fff')};\nfont-size: ${({fontBig}) => (fontBig ? '20px': '16px')};\noutline: none;\nfont-weight: bold;\nborder:none;\ncursor: pointer;\ndisplay:flex;\njustify-content:center;\nalign-items: center;\ntransition: all 0.2s ease-in-out;\n\n&:hover{\n    transition: all 0.2s ease-in-out;\n    background: ${({primary}) => (primary ? '#3B2A1A' :'#F3F2C9' )};\n    color: #FE9A0F;\n    font-weight: bold;\n}\n`;\n","export default __webpack_public_path__ + \"static/media/gil.a3caac94.jpeg\";","export default __webpack_public_path__ + \"static/media/ido.8b5c2b3e.JPG\";","export default __webpack_public_path__ + \"static/media/maria.c1b7a090.jpeg\";","import * as React from 'react';\nimport AppBar from '@mui/material/AppBar';\nimport {Button} from \"../components/ButtonElements\"\nimport CameraIcon from '@mui/icons-material/PhotoCamera';\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Grid from '@mui/material/Grid';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport Toolbar from '@mui/material/Toolbar';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport Link from '@mui/material/Link';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport gil from \"../images/gil.jpeg\"\nimport ido from \"../images/ido.JPG\"\nimport maria from \"../images/maria.jpeg\"\nimport {useHistory} from \"react-router-dom\";\n\n\nconst cards = [1, 2, 3];\n\nconst theme = createTheme();\n\nfunction toAlma(e){\n  e.preventDefault();\n  window.open('http://alma.haifa.ac.il', '_blank');\n    \n}\nfunction AboutUs() {\n    const history = useHistory();\n  return (\n    <ThemeProvider theme={theme}  >\n      <CssBaseline />\n      <AppBar position=\"relative\">\n      </AppBar>\n      <main>\n        {/* Hero unit */}\n        <Box\n          sx={{\n            bgcolor: ' #3B2A1A' ,\n            pt: 1,\n            pb: 4,\n        \n          }}\n          \n        >\n          <Container maxWidth=\"sm\" >\n            <Typography\n              component=\"h2\"\n              variant=\"h3\"\n              align=\"center\"\n              color=\"#b36b00\"  \n            fontWeight=\"bold\"\n              gutterBottom\n            >\n              \n            </Typography>\n            <Typography variant=\"h6\" align=\"center\" color=\"#e0c19e\"  fontWeight=\"bold\" paragraph>\n                         .     GIS         .\n           \".              ,  ,      .\n               ,      \n     \n            </Typography>\n            <Stack\n              sx={{ pt: 2 }}\n              direction=\"row\"\n              spacing={2}\n              justifyContent=\"center\"\n            >\n              <Button variant=\"contained\"  onClick ={toAlma} > </Button>\n            </Stack>\n          </Container>\n        </Box>\n        <Container sx={{ py: 5 }} maxWidth=\"md\">\n        <Typography \n              component=\"h2\"\n              variant=\"h3\"\n              align=\"center\"\n              color=\"#b36b00\"  \n            fontWeight=\"bold\"\n              gutterBottom\n             style={{direction:\"rtl\" }}>\n                       \n                    </Typography>\n          {/* End hero unit */}\n          <Grid container spacing={4}>\n           \n              \n              <Grid item xs={13} sm={6} md={4}>\n                <Card\n                       sx={{ height: '100%', display: 'flex', flexDirection: 'column'  ,  bgcolor: ' #3B2A1A' }}\n                >\n                  <CardMedia\n                    component=\"img\"\n                    sx={{\n                      // 16:9\n                      pt: '0.1%',\n                  \n                    }}\n                    style={{height: \"26vh\"}}\n                    image={gil}\n                    alt=\"random\"\n                  />\n                  <CardContent sx={{ flexGrow: 1 }}>\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{direction:\"rtl\" ,color:\"#e0c19e\" , fontWeight:\"bold\"}}>\n                       \n                    </Typography>\n                    <Typography style={{direction:\"rtl\", color:\"#ffc266\"}}>\n                    \n                     <br/>\n                      \n                    </Typography>\n                  </CardContent>\n                  <CardActions>\n                  </CardActions>\n                </Card>\n              </Grid>\n\n              <Grid item  xs={13} sm={6} md={4}>\n                <Card\n                  sx={{ height: '100%', display: 'flex', flexDirection: 'column'  ,  bgcolor: ' #3B2A1A' }}\n                >\n                  <CardMedia\n                    component=\"img\"\n                    sx={{\n                      // 16:9\n                      pt: '0.1%',\n                    }}\n                    style={{height: \"26vh\"}}\n                    image={ido}\n                    alt=\"random\"\n                  />\n                  <CardContent sx={{ flexGrow: 1 }}>\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{direction:\"rtl\" ,color:\"#e0c19e\" , fontWeight:\"bold\"}}>\n                       \n                    </Typography>\n                    <Typography style={{direction:\"rtl\", color:\"#ffc266\"}}>\n                          \n                     <br/>\n                     \n                    </Typography>\n                  </CardContent>\n                  <CardActions>\n                  </CardActions>\n                </Card>\n              </Grid>\n\n              <Grid item xs={13} sm={6} md={4}>\n                <Card\n                       sx={{ height: '100%', display: 'flex', flexDirection: 'column'  ,  bgcolor: ' #3B2A1A' }}\n                >\n                  <CardMedia\n                    component=\"img\"\n                    sx={{\n                      // 16:9\n                      pt: '0.1%',\n                    }}\n                    style={{height: \"26vh\"}}\n                    image={maria}\n                    alt=\"random\"\n                  />\n                  <CardContent sx={{ flexGrow: 1 }}>\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{direction:\"rtl\" ,color:\"#e0c19e\" , fontWeight:\"bold\"}}>\n                       \n                    </Typography>\n                    <Typography style={{direction:\"rtl\", color:\"#ffc266\"}}>\n                       \n                    <br/>\n                      \n                    </Typography>\n                  </CardContent>\n                  <CardActions>\n                  </CardActions>\n                </Card>\n              </Grid>\n          </Grid>\n            <div>\n       <Button size=\"small\" onClick={history.goBack} style={{position :'absolute', marginTop: \"10px\" ,  marginBottom: \"20px\" , height:\"20px\" , width:\"40px\"}}> </Button>        \n </div>\n        </Container>\n      \n      </main>\n   \n      {/* End footer */}\n    </ThemeProvider>\n \n  );\n}\nexport default AboutUs;","import React, { useState } from \"react\";\nimport ScrollToTop from \"../components/ScrollToTop\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\nimport { create } from \"jss\";\nimport rtl from \"jss-rtl\";\nimport AboutUs from \"../components/AboutUs\";\n\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\nconst theme = createTheme({\n  direction: \"rtl\",\n});\n\nfunction AlmaInfo() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <div>\n      <StylesProvider jss={jss}>\n        <ThemeProvider theme={theme}>\n          <ScrollToTop />\n          <AboutUs />\n          {/* <InfoSection {...homeObjOne}/>  */}\n        </ThemeProvider>\n      </StylesProvider>\n    </div>\n  );\n}\n\nexport default AlmaInfo;\n","import React, { useEffect, useRef } from \"react\";\r\nimport List from \"@material-ui/core/List\";\r\nimport t from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Avatar, Badge } from \"@material-ui/core\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport useTheme from \"@material-ui/core/styles/useTheme\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\n\r\nimport(\"screw-filereader\");\r\nlet imageExport;\r\n\r\nexport function getURL() {\r\n  return imageExport;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    margin: \"auto\",\r\n    width: \"fit-content\",\r\n  },\r\n  input: {\r\n    fontSize: 15,\r\n  },\r\n  large: {\r\n    width: \"150px\", //theme.spacing(25),\r\n    height: \"150px\", //theme.spacing(25),\r\n    border: `4px solid #4E3620`,\r\n  },\r\n}));\r\n\r\nconst EditIconButton = withStyles((theme) => ({\r\n  root: {\r\n    width: 22,\r\n    height: 22,\r\n    padding: 15,\r\n    border: `2px solid #4E3620`,\r\n  },\r\n}))(IconButton);\r\n\r\nexport const AvatarPicker = (props) => {\r\n  const [file, setFile] = React.useState(\"\");\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n\r\n  const imageRef = useRef();\r\n\r\n  const { handleChangeImage, avatarImage } = props;\r\n\r\n  useEffect(() => {\r\n    if (!file && avatarImage) {\r\n      setFile(URL.createObjectURL(avatarImage));\r\n    }\r\n\r\n    return () => {\r\n      if (file) URL.revokeObjectURL(file);\r\n    };\r\n  }, [file, avatarImage]);\r\n\r\n  useEffect(() => {\r\n    console.log(avatarImage);\r\n    if (file && !avatarImage) {\r\n      setFile(\"\");\r\n    }\r\n  }, [avatarImage]);\r\n\r\n  const renderImage = (fileObject) => {\r\n    fileObject.image().then((img) => {\r\n      const canvas = document.createElement(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const maxWidth = 150;\r\n      const maxHeight = 150;\r\n\r\n      const ratio = Math.min(maxWidth / img.width, maxHeight / img.height);\r\n      const width = (img.width * ratio + 0.5) | 0;\r\n      const height = (img.height * ratio + 0.5) | 0;\r\n\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n      ctx.drawImage(img, 0, 0, width, height);\r\n\r\n      canvas.toBlob((blob) => {\r\n        const resizedFile = new File([blob], file.name, fileObject);\r\n        setFile(URL.createObjectURL(resizedFile));\r\n        handleChangeImage(resizedFile);\r\n      });\r\n    });\r\n  };\r\n\r\n  const showOpenFileDialog = () => {\r\n    imageRef.current.click();\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const fileObject = event.target.files[0];\r\n    if (!fileObject) return;\r\n    imageExport = event.target.files[0];\r\n    renderImage(fileObject);\r\n  };\r\n\r\n  return (\r\n    <List data-testid={\"image-upload\"}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          margin: \"20px 10px\",\r\n          color: \"#B05E27\",\r\n        }}\r\n      >\r\n        <div className={classes.root}>\r\n          <Badge\r\n            overlap=\"circular\"\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"left\",\r\n            }}\r\n            badgeContent={\r\n              <EditIconButton onClick={showOpenFileDialog} style={{ background: \"#FFE268\", color: \"#4E3620\" }}>\r\n                <EditIcon />\r\n              </EditIconButton>\r\n            }\r\n          >\r\n            {/* <div alt={\"avatar\"} src={file} className={classes.large} width=\"193\" height=\"130\" > </div> */}\r\n            {file ? (\r\n              <div alt={\"avatar\"} className={classes.large} width=\"193\" height=\"130\">\r\n                <img src={file} />\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {/* <img src=myImage /> */}\r\n                <ImageIcon className={classes.large} />\r\n              </div>\r\n            )}\r\n          </Badge>\r\n          <input ref={imageRef} type=\"file\" style={{ display: \"none\" }} accept=\"image/*\" onChange={handleChange} />\r\n        </div>\r\n      </div>\r\n    </List>\r\n  );\r\n};\r\nAvatarPicker.propTypes = {\r\n  handleChangeImage: t.func.isRequired,\r\n  avatarImage: t.object,\r\n};\r\nexport default AvatarPicker;\r\n","export default __webpack_public_path__ + \"static/media/treasureBack.1f18cfda.png\";","import React, { useState, useEffect } from \"react\";\r\nimport Toast from \"react-bootstrap/Toast\";\r\n\r\nlet size = 12;\r\n\r\nconst DynamicList = (props) => {\r\n  if (props.size) size = props.size;\r\n\r\n  const [gameList, setGameList] = useState();\r\n\r\n  function delteItem(i, toast) {\r\n    props.gameList.splice(i, 1);\r\n    setGameList(\r\n      props.gameList &&\r\n        props.gameList.map((itm, i) => {\r\n          return (\r\n            <Toast\r\n              key={i}\r\n              onClose={() => {\r\n                delteItem(i, this);\r\n              }}\r\n              show={true}\r\n            >\r\n              <Toast.Header>\r\n                <strong className=\"me-auto\" dir=\"rlt\">\r\n                  {\" \"}\r\n                  {itm.pointIntrest.placeName}{\" \"}\r\n                </strong>\r\n              </Toast.Header>\r\n              <Toast.Body>: {itm.nextclue}</Toast.Body>\r\n              <Toast.Body>: {itm.question}</Toast.Body>\r\n            </Toast>\r\n          );\r\n        })\r\n    );\r\n    props.canSave();\r\n  }\r\n\r\n  useEffect(() => {\r\n    setGameList(\r\n      props.gameList &&\r\n        props.gameList.map((itm, i) => {\r\n          return (\r\n            <Toast\r\n              key={i}\r\n              onClose={() => {\r\n                delteItem(i, this);\r\n              }}\r\n              show={true}\r\n            >\r\n              <Toast.Header>\r\n                <strong className=\"me-auto\" dir=\"rlt\">\r\n                  {\" \"}\r\n                  {itm.pointIntrest.placeName}{\" \"}\r\n                </strong>\r\n              </Toast.Header>\r\n              <Toast.Body>: {itm.nextclue}</Toast.Body>\r\n              <Toast.Body>: {itm.question}</Toast.Body>\r\n            </Toast>\r\n          );\r\n        })\r\n    );\r\n  }, [props.gameList]);\r\n\r\n  return <>{gameList}</>;\r\n};\r\n\r\nexport default DynamicList;\r\n","import React, { useState, useEffect } from \"react\";\nimport AvatarQuiz, { getURL } from \"../AvatarQuiz\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport background from \"../../images/treasureBack.png\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"react-bootstrap/Button\";\nimport Offcanvas from \"react-bootstrap/Offcanvas\";\nimport Box from \"@mui/material/Box\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport DynamicList from \"./DynamicList\";\nimport Container from \"@material-ui/core/Container\";\nimport firebase, { storage } from \"../../Firebase\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useHistory } from \"react-router-dom\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as Yup from \"yup\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\nconst schema = Yup.object().shape({\n  quizName: Yup.string().required(\"    \"),\n  description: Yup.string().min(8).required(\"    \"),\n});\n\nconst CreateGame = ({ store, user }) => {\n  const [sites, setSites] = useState([]);\n  const [subSites, setSubSites] = useState([]);\n  const [clues, setClues] = useState([]);\n  const [questions, setQuestions] = useState([]);\n  const [selectDisabled, setSelectDisabled] = useState(false);\n  const [totalSize, setTotalSize] = useState();\n  const siteObs = store.siteObs;\n  const subSiteObs = store.subSiteObs;\n  const clueObs = store.clueObs;\n  const questionObs = store.questionObs;\n\n  useEffect(() => {\n    setSites([]);\n    siteObs.initSites().then(() => {\n      setSites(siteObs.SitesList);\n    });\n  }, []);\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      whiteSpace: \"unset\",\n      wordBreak: \"break-all\",\n      justifyContent: \"flex-end\",\n    },\n    Container: {\n      opacity: 0.99999,\n      zIndex: 5,\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      backgroundRepeat: \"no-repeat\",\n      width: \"100vw\",\n      height: `${100 * totalSize}%`,\n      minHeight: `100vh`,\n      backgroundImage: `url(${background})`,\n      marginBottom: { totalSize } + 30,\n      \"& .MuiInputLabel-root\": {\n        color: \"black\",\n      },\n    },\n  }));\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    setTotalSize(gameList.length ? gameList.length + 30 : 1);\n  }, [gameList]);\n\n  const [avatarImage, setAvatarImage] = useState();\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const handleImageChange = (imageFile) => {\n    setAvatarImage(imageFile);\n  };\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmitHandler = (data) => {\n    if (loading === true) return;\n    setLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n    let image1 = getURL();\n    console.log({\n      description: data.description,\n      treasureHuntLikesNum: 0,\n      quizName: data.quizName,\n      authorName: user.firstName + \" \" + user.lastName,\n      gameList: gameList,\n      isApproved: false,\n    });\n    try {\n      firebase\n        .firestore()\n        .collection(\"TreasureHunt\")\n        .add({\n          description: data.description,\n          treasureHuntLikesNum: 0,\n          siteName: selectedLocation.siteName,\n          quizName: data.quizName,\n          authorName: user.firstName + \" \" + user.lastName,\n          gameList: gameList,\n          isApproved: false,\n          imageURL: selectedLocation.sitePhoto ? selectedLocation.sitePhoto : null,\n        })\n        .then((doc) => {\n          if (doc.id === null) return;\n          let uid = doc.id;\n          if (image1) {\n            imageHandler(image1, uid).then(() => {});\n          } else {\n            reset();\n            setGameList([]);\n            setSuccess(\"     \");\n            setSelectedQuestion();\n            setSelectedClue();\n            setClues([]);\n            setQuestions([]);\n            setSelectedLocation(\"\");\n            setSelectedPoint(\"\");\n            setSelectDisabled(false);\n            setLoading(false);\n            setDisableFinish(null);\n            history.push(\"/addQuiz\");\n          }\n        });\n    } catch (e) {\n      console.log(e);\n      setError(e.toString());\n      history.push(\"/addQuiz\");\n      setLoading(false);\n    }\n  };\n\n  async function imageHandler(image1, id) {\n    if (image1) {\n      // add to image folder in firebase\n      const uploadTask = storage.ref(`TreasureHuntImages/${id}/${image1.name}`).put(image1);\n      // Register three observers:\n      // 1. 'state_changed' observer, called any time the state changes\n      // 2. Error observer, called on failure\n      // 3. Completion observer, called on successful completion\n      uploadTask.on(\n        \"state_changed\",\n        function (snapshot) {\n          // Observe state change events such as progress, pause, and resume\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log(\"Upload is \" + progress + \"% done\");\n          // eslint-disable-next-line default-case\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\n              console.log(\"Upload is paused\");\n              break;\n            case firebase.storage.TaskState.RUNNING: // or 'running'\n              console.log(\"Upload is running\");\n              break;\n          }\n          return;\n        },\n        function (error) {\n          // Handle unsuccessful uploads\n          console.log(error);\n        },\n        function () {\n          // Handle successful uploads on complete\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n            try {\n              firebase\n                .firestore()\n                .collection(\"TreasureHunt\")\n                .doc(id)\n                .update({ imageURL: downloadURL })\n                .then(async () => {\n                  reset();\n                  setGameList([]);\n                  setSuccess(\"     \");\n                  setSelectedQuestion();\n                  setSelectedClue();\n                  setClues([]);\n                  setQuestions([]);\n                  setSelectedLocation(\"\");\n                  setSelectedPoint(\"\");\n                  setAvatarImage();\n                  setSelectDisabled(false);\n                  setLoading(false);\n                  setDisableFinish(null);\n                  history.push(\"/addQuiz\");\n                });\n            } catch (e) {\n              setError(\"      \");\n              history.push(\"/addQuiz\");\n              setLoading(false);\n            }\n          });\n        }\n      );\n    }\n  }\n\n  function isError(error) {\n    if (error) return true;\n    else return false;\n  }\n\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const [gameList, setGameList] = useState([]);\n  const [selectedLocation, setSelectedLocation] = React.useState(\" \");\n  const [selectedPoint, setSelectedPoint] = React.useState(\" \");\n  const [selectedClue, setSelectedClue] = React.useState();\n  const [selectedQuestion, setSelectedQuestion] = React.useState();\n  const [isLocationSelected, setIsLocationSelected] = React.useState(true);\n  const [isPointSelected, setIsPointSelected] = React.useState(true);\n\n  const handleChangeLocation = (event) => {\n    setSelectedLocation(event.target.value);\n    setIsLocationSelected();\n    subSiteObs.initSubSites(event.target.value.id).then(() => {\n      setSubSites(subSiteObs.subSitesList);\n    });\n  };\n\n  const handleChangePoint = (event) => {\n    setSelectedPoint(event.target.value);\n    setIsPointSelected();\n\n    clueObs.initClues(selectedLocation.id, event.target.value.id).then(() => {\n      let arrClue = clueObs.cluesList.filter((item) => item.isApproved);\n      setClues(arrClue);\n    });\n\n    questionObs.initQuestions(selectedLocation.id, event.target.value.id).then(() => {\n      let arrQ = questionObs.questionsList.filter((item) => item.isApproved);\n      setQuestions(arrQ);\n    });\n  };\n\n  const handleChangeClue = (event) => {\n    setSelectedClue(event.target.value);\n    console.log(\"clue:\", selectedClue);\n  };\n\n  const handleChangeQuestion = (event) => {\n    setSelectedQuestion(event.target.value);\n  };\n  const [disableFinish, setDisableFinish] = useState(null);\n\n  function canSave(arg) {\n    if (gameList.length >= (arg === \"a\" ? 2 : 3)) {\n      setDisableFinish(\n        <Button\n          type=\"submit\"\n          color=\"primary\"\n          variant=\"Light\"\n          disabled={loading}\n        >\n           \n        </Button>\n      );\n    } else {\n      setDisableFinish(null);\n    }\n\n    //Decide if the gameList?.length is empty or not, if it empty the select can be selected again else it'll be disabled\n    setSelectDisabled(gameList?.length >= (arg === \"a\" ? 0 : 1) ? true : false);\n  }\n\n  const handleAdd = (event) => {\n    setSelectDisabled(true);\n    if (!selectedQuestion || !selectedClue) {\n      if (!selectedQuestion && !selectedClue) {\n        setError(\"       \");\n      }\n      if (!selectedQuestion && selectedClue) {\n        setError(\"     \");\n      }\n      if (!selectedClue && selectedQuestion) {\n        setError(\"     \");\n      }\n      history.push(\"/addQuiz\");\n      return;\n    }\n    setError(\"\");\n    canSave(\"a\");\n    setGameList((gameList) => [\n      ...gameList,\n      {\n        pointIntrest: selectedPoint,\n        question: selectedQuestion.question,\n        answers: selectedQuestion.answers,\n        correct: selectedQuestion.correctAnswer,\n        placeName: selectedQuestion.pointName,\n        qrURL: selectedPoint.barcode,\n        nextclue: selectedClue.clue,\n      },\n    ]);\n    setSelectedQuestion();\n    setSelectedClue();\n    setClues([]);\n    setQuestions([]);\n    setSelectedLocation(selectedLocation);\n    setSelectedPoint();\n  };\n\n  return (\n    <Container className={classes.Container} component=\"main\" maxWidth=\"xl\" dir=\"rtl\">\n      <Button variant=\"info\" style={{ backgroundColor: \"#EF8D32\", border: \"#B05E27\" }} onClick={handleShow}>\n         \n      </Button>\n      <Offcanvas show={show} onHide={handleClose} style={{ backgroundColor: \"#C68B59\", border: \"#B05E27\" }} dir=\"rtl\">\n        <Offcanvas.Header closeButton>\n          <Offcanvas.Title>  </Offcanvas.Title>\n        </Offcanvas.Header> \n        <Offcanvas.Body>\n          1.        (    )\n          <br />\n          2.       \n          <br />\n          3.         ,   .\n          <br />\n          <br />\n          <br />\n          * -\n          <br />\n          -     .\n          <br />\n          -      3 \n          <br />\n          <br />\n          <h3> !</h3>\n        </Offcanvas.Body>\n      </Offcanvas>\n      <div className=\"row\">\n        <div className=\"col-sm\">\n          <form onSubmit={handleSubmit(onSubmitHandler)}>\n            {error && (\n              <Grid item xs={12}>\n                <Alert severity=\"error\">{error}</Alert>\n              </Grid>\n            )}\n            {success && (\n              <Grid item xs={12}>\n                <Alert severity=\"success\">{success}</Alert>\n              </Grid>\n            )}\n            <AvatarQuiz handleChangeImage={handleImageChange} avatarImage={avatarImage} isEdiable={false} />\n\n            <TextField\n              fullWidth\n              type=\"quizName\"\n              {...register(\"quizName\")}\n              label=\" \"\n              className={`${errors.quizName ? \"is-invalid\" : \"\"}`}\n              error={isError(errors.quizName)}\n              helperText={errors.quizName?.message}\n              variant=\"outlined\"\n              required\n            />\n            <br />\n            <br />\n\n            <TextField\n              multiline\n              rows={4}\n              fullWidth\n              type=\"text\"\n              variant=\"outlined\"\n              label=\"  \"\n              className={`${errors.quizName ? \"is-invalid\" : \"\"}`}\n              error={isError(errors.description)}\n              helperText={errors.description?.message === \"description must be at least 8 characters\" ? \"     4 \" : errors.description?.message}\n              {...register(\"description\")}\n              required\n            />\n            <br />\n            <br />\n            <TextField\n              fullWidth\n              id=\"outlined-select-location\"\n              select\n              label=\" *\"\n              value={selectedLocation}\n              onChange={handleChangeLocation}\n              variant=\"outlined\"\n              helperText=\"   \"\n              disabled={selectDisabled}\n            >\n              {sites &&\n                sites.map((option) => (\n                  <MenuItem key={option.id} value={option} style={{ justifyContent: \"flex-end\" }}>\n                    {option.siteName}\n                  </MenuItem>\n                ))}\n            </TextField>\n            {disableFinish}\n            <br />\n            {loading && <CircularProgress sx={{ display: \"flex\", justifyContent: \"center\", color: \"#3B2A1A\" }} />}\n          </form>\n        </div>\n        <div className=\"col-sm\">\n          <br />\n          <br />\n          <TextField\n            fullWidth\n            id=\"outlined-select-point\"\n            select\n            required\n            label=\"  \"\n            value={selectedPoint}\n            onChange={handleChangePoint}\n            disabled={isLocationSelected}\n            variant=\"outlined\"\n          >\n            {subSites &&\n              subSites.map((option) => (\n                <MenuItem key={option.id} value={option} style={{ justifyContent: \"flex-end\" }}>\n                  {option.placeName}\n                </MenuItem>\n              ))}\n          </TextField>\n\n          <br />\n          <br />\n\n          <TextField\n            fullWidth\n            id=\"outlined-select-clue\"\n            select\n            label=\"   \"\n            value={selectedClue}\n            onChange={handleChangeClue}\n            disabled={isPointSelected}\n            style={{ maxWidth: \"35vw\" }}\n            multiline\n            rows={5}\n            variant=\"outlined\"\n          >\n            {clues.map((option, i) => (\n              <MenuItem key={option.id} value={option} style={{ justifyContent: \"flex-end\" }}>\n                {option.clue}\n              </MenuItem>\n            ))}\n          </TextField>\n          <br />\n          <br />\n          <TextField\n            fullWidth\n            id=\"outlined-select-question\"\n            select\n            label=\"   \"\n            value={selectedQuestion}\n            onChange={handleChangeQuestion}\n            disabled={isPointSelected}\n            style={{ maxWidth: \"35vw\" }}\n            multiline\n            rows={5}\n            variant=\"outlined\"\n          >\n            {questions.map((option) => (\n              <MenuItem key={option.id} value={option} style={{ justifyContent: \"flex-end\" }}>\n                {option.question}\n              </MenuItem>\n            ))}\n          </TextField>\n          <br />\n\n          <Button\n            type=\"submit\"\n            onClick={handleAdd}\n            variant=\"outlined\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n              \n          </Button>\n          <Typography component=\"h6\" variant=\"h6\" style={{ fontSize: \"12px\" }}>\n               3        \n          </Typography>\n        </div>\n\n        <div className=\"col-sm\">\n          <br />\n          <br />\n\n          {gameList && (\n            <DynamicList\n              gameList={gameList}\n              canSave={() => {\n                canSave(\"d\");\n              }}\n            />\n          )}\n\n          <br />\n          <br />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default CreateGame;\n","import React, {useState} from 'react';\nimport ScrollToTop from '../components/ScrollToTop';\n// import MakeQuiz from '../components/MakeQuiz';\nimport { createTheme } from '@material-ui/core/styles';\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\nimport { create } from \"jss\";\nimport rtl from \"jss-rtl\";\nimport CreateGame from '../components/CreateGame';\nimport Store from \"../stores/Store\"\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\nconst theme = createTheme({\n  direction: \"rtl\"\n});\n\n\n\nfunction AddQuiz(props) {\n    const [isOpen, setIsOpen]= useState(false)\n    const store = new Store();\n    const toggle = () => {\n      setIsOpen(!isOpen)\n    }\n\n    let user=props.user;\n    return (\n        <>\n            <StylesProvider jss={jss}>\n                <ThemeProvider theme={theme}>\n                    <ScrollToTop /> \n                        {/* <MakeQuiz />     */}\n                        <CreateGame store = {store} user={user}/>\n                </ThemeProvider>\n            </StylesProvider>\n        </>\n    )\n}\n\nexport default AddQuiz\n\n\n\n// import React from 'react'\n// import MakeQuiz from '../components/MakeQuiz'\n// import Navbar from '../components/Navebar';\n// import Sidebar from '../components/Sidebar';\n// import Footer from '../components/Footer';\n// const addQuiz = () => {\n//     return (\n//         <>\n//            <Navbar/>\n//            <Sidebar/>\n//           <MakeQuiz/> \n//             <Footer/>\n//         </>\n//     )\n// }\n\n// export default addQuiz","import styled from \"styled-components\";\r\nimport background from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\noverflow: hidden;\r\nz-index: -1;\r\n\r\n\r\n\r\n@media screen and (max-width: 1080px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n`;\r\n\r\nexport const ImageBg = styled.div`\r\nposition: absolute;\r\nbackground-image: url(${background});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\n: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: 1;\r\n`;","import { HeroBg, ImageBg } from \"./AddQuestionElements\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from \"../../Firebase\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as Yup from \"yup\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nlet sizePage = 0;\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(sizePage / 10 - 1),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"rgb(0,0,0)\",\r\n    \"& .MuiInputLabel-root\": {\r\n      color: \"black\",\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: \"#412F1D\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#412F1D\",\r\n    \"&:hover\": {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background: \"#3B2A1A\",\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction isError(error) {\r\n  if (error) return true;\r\n  else return false;\r\n}\r\n\r\n\r\nexport default function AddQuestion({ store, user }) {\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    question: Yup.string().required(\"    \"),\r\n    answer1: Yup.string().required(\"    \"),\r\n    answer2: Yup.string().required(\"    \"),\r\n    answer3: Yup.string().required(\"    \"),\r\n    answer4: Yup.string().required(\"    \"),\r\n  });\r\n\r\n  const formOptions = { resolver: yupResolver(validationSchema), defaultValues: {} };\r\n  // get functions to build form with useForm() hook\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm(formOptions);\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    let answers = [data.answer1, data.answer2, data.answer3, data.answer4];\r\n    let correctAnswerInArray = 0;\r\n    let temp = { answers: answers, correctAnswer: correctAnswerInArray };\r\n    shuffle(temp);\r\n    try {\r\n      firebase\r\n        .firestore()\r\n        .collection(\"Sites\")\r\n        .doc(selectedLocation.id)\r\n        .collection(\"subSites\")\r\n        .doc(selectedPoint.id)\r\n        .collection(\"questions\")\r\n        .add({\r\n          question: data.question,\r\n          answers: answers,\r\n          correctAnswer: temp.correctAnswer + 1,\r\n          locationName: selectedLocation.siteName,\r\n          pointName: selectedPoint.placeName,\r\n          creator: user.firstName + \" \" + user.lastName,\r\n          isApproved: false,\r\n        })\r\n        .then(() => {\r\n          reset({\r\n            question: \"\",\r\n            answer1: \"\",\r\n            answer2: \"\",\r\n            answer3: \"\",\r\n            answer4: \"\",\r\n          });\r\n          setSelectedLocation(\"\");\r\n          setSelectedPoint(\"\");\r\n          setSubSites([]);\r\n          setLoading(false);\r\n          setSuccess(\"  \");\r\n          history.push(\"/addQuestion\");\r\n        });\r\n    } catch (e) {\r\n      // setError(e);\r\n      setLoading(false);\r\n      history.push(\"/addQuestion\");\r\n      return null;\r\n    }\r\n  };\r\n\r\n  function shuffle(temp) {\r\n    let array = temp.answers;\r\n    let currentIndex = array.length,\r\n      randomIndex;\r\n\r\n    // While there remain elements to shuffle...\r\n    while (currentIndex !== 0) {\r\n      // Pick a remaining element...\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex--;\r\n\r\n      // And swap it with the current element.\r\n      [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];\r\n\r\n      //follow the correct answer\r\n      if (temp.correctAnswer === currentIndex) temp.correctAnswer = randomIndex;\r\n      if (temp.correctAnswer === randomIndex) temp.correctAnswer = currentIndex;\r\n    }\r\n    return array;\r\n  }\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const [selectedLocation, setSelectedLocation] = React.useState(\"\");\r\n  const [selectedPoint, setSelectedPoint] = React.useState(\"\");\r\n  const [isPointSelected, setIsPointSelected] = React.useState(true);\r\n\r\n  const [questionValue, setQuestionValue] = useState();\r\n  const [answer1Value, setAnswer1Value] = useState();\r\n  const [answer2Value, setAnswer2Value] = useState();\r\n  const [answer3Value, setAnswer3Value] = useState();\r\n  const [answer4Value, setAnswer4Value] = useState();\r\n\r\n  const handleChangequestion = (questionValue) => (event) => {\r\n    setQuestionValue(event.target.value);\r\n  };\r\n  const handleChangeanswer1Value = (answer1Value) => (event) => {\r\n    setAnswer1Value(event.target.value);\r\n  };\r\n  const handleChangeanswer2Value = (answer2Value) => (event) => {\r\n    setAnswer2Value(event.target.value);\r\n  };\r\n  const handleChangeanswer3Value = (answer3Value) => (event) => {\r\n    setAnswer3Value(event.target.value);\r\n  };\r\n  const handleChangeanswer4Value = (answer4Value) => (event) => {\r\n    setAnswer4Value(event.target.value);\r\n  };\r\n\r\n  const handleChangeLocation = (event) => {\r\n    subSiteObs.initSubSites(event.target.value.id).then(() => {\r\n      setSelectedLocation(event.target.value);\r\n      if (sites.length > 0) setSubSites(subSiteObs.subSitesList);\r\n      else setSubSites([]);\r\n    });\r\n  };\r\n\r\n  const handleChangePoint = (event) => {\r\n    setSelectedPoint(event.target.value);\r\n    setIsPointSelected();\r\n  };\r\n\r\n  const [sites, setSites] = useState([]);\r\n  const [subSites, setSubSites] = useState([]);\r\n  const siteObs = store.siteObs;\r\n  const subSiteObs = store.subSiteObs;\r\n\r\n  useEffect(() => {\r\n    setSites([]);\r\n\r\n    siteObs.initSites().then(() => {\r\n      setSites(siteObs.SitesList);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\r\n        <HeroBg size={sizePage}>\r\n          <ImageBg size={sizePage} />\r\n        </HeroBg>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n               \r\n          </Typography>\r\n          {loading && <CircularProgress sx={{ display: \"flex\", justifyContent: \"center\", color: \"#3B2A1A\" }} />}\r\n          <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\r\n            <Grid container spacing={2}>\r\n              {error && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"error\">{error}</Alert>\r\n                </Grid>\r\n              )}\r\n              {success && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"success\">{success}</Alert>\r\n                </Grid>\r\n              )}\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"outlined-select-location\"\r\n                  select\r\n                  label=\" *\"\r\n                  value={selectedLocation}\r\n                  onChange={handleChangeLocation}\r\n                  variant=\"outlined\"\r\n                  helperText=\"   \"\r\n                >\r\n                  {sites &&\r\n                    sites.map((option) => (\r\n                      <MenuItem key={option.id} value={option} dir=\"rlt\" style={{ justifyContent: \"flex-end\" }}>\r\n                        {option.siteName}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"outlined-select-point\"\r\n                  select\r\n                  required\r\n                  label=\" *\"\r\n                  value={selectedPoint}\r\n                  onChange={handleChangePoint}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {subSites &&\r\n                    subSites.map((option) => (\r\n                      <MenuItem key={option.id} value={option} dir=\"rlt\" style={{ justifyContent: \"flex-end\" }}>\r\n                        {option.placeName}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"question\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={3}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\"*\"\r\n                  {...register(\"question\")}\r\n                  className={`${errors.question ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangequestion(\"questionValue\")}\r\n                  error={isError(errors.question)}\r\n                  helperText={errors.question?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"answer1\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={2}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\"*\"\r\n                  {...register(\"answer1\")}\r\n                  className={`${errors.answer1 ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangeanswer1Value(\"answer1Value\")}\r\n                  error={isError(errors.answer1)}\r\n                  helperText={errors.answer1?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"answer2\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={2}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\" 1*\"\r\n                  {...register(\"answer2\")}\r\n                  className={`${errors.answer2 ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangeanswer2Value(\"answer2Value\")}\r\n                  error={isError(errors.answer2)}\r\n                  helperText={errors.answer2?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"answer3\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={2}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\" 2*\"\r\n                  {...register(\"answer3\")}\r\n                  className={`${errors.answer3 ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangeanswer3Value(\"answer3Value\")}\r\n                  error={isError(isError(errors.answer3))}\r\n                  helperText={errors.answer3?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"answer4\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={2}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\" 3*\"\r\n                  {...register(\"answer4\")}\r\n                  className={`${errors.answer4 ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangeanswer4Value(\"answer4Value\")}\r\n                  error={isError(errors.answer4)}\r\n                  helperText={errors.answer4?.message}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} disabled={loading}>\r\n              \r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport AddQuestion from '../components/AddQuestion';\r\nimport Store from \"../stores/Store\"\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction AddQuestionPage(props) {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false);\r\n    const store = new Store();\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n    let user=props.user;\r\n    return (\r\n      <div id=\"AddQuestionPageStyle\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                    <AddQuestion store={store} user={user}/> \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddQuestionPage\r\n","import styled from \"styled-components\";\r\nimport background from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\noverflow: hidden;\r\nz-index: -1;\r\n\r\n\r\n\r\n@media screen and (max-width: 1080px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n`;\r\n\r\nexport const ImageBg = styled.div`\r\nposition: absolute;\r\nbackground-image: url(${background});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: 1;\r\n`;","import { HeroBg, ImageBg } from \"./AddClueElements\";\r\nimport background from \"../../images/treasureBack.png\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TravelExploreIcon from \"@mui/icons-material/TravelExplore\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase from \"../../Firebase\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as Yup from \"yup\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\n\r\nlet sizePage = 0;\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(sizePage / 10 - 1),\r\n    height: \"86vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"rgb(0,0,0)\",\r\n    \"& .MuiInputLabel-root\": {\r\n      color: \"black\",\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: \"#412F1D\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#412F1D\",\r\n    \"&:hover\": {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background: \"#3B2A1A\",\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction isError(error) {\r\n  if (error) return true;\r\n  else return false;\r\n}\r\n\r\nexport default function AddClue({ store, user }) {\r\n  const validationSchema = Yup.object().shape({\r\n    clue: Yup.string().required(\"    \"),\r\n  });\r\n\r\n  const formOptions = { resolver: yupResolver(validationSchema), defaultValues: {} };\r\n  // get functions to build form with useForm() hook\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm(formOptions);\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    try {\r\n      firebase\r\n        .firestore()\r\n        .collection(\"Sites\")\r\n        .doc(selectedLocation.id)\r\n        .collection(\"subSites\")\r\n        .doc(selectedPoint.id)\r\n        .collection(\"clues\")\r\n        .add({\r\n          clue: data.clue,\r\n          locationName: selectedLocation.siteName,\r\n          pointName: selectedPoint.placeName,\r\n          creator: user.firstName + \" \" + user.lastName,\r\n          isApproved: false,\r\n        })\r\n        .then(() => {\r\n          setLoading(false);\r\n          reset({\r\n            clue: \"\",\r\n          });\r\n          setSelectedLocation();\r\n          setSelectedPoint();\r\n          setSubSites([]);\r\n          setSites([]);\r\n          siteObs.initSites().then(() => {\r\n            setSites(siteObs.SitesList);\r\n          });\r\n          setSuccess(\"  \");\r\n          history.push(\"/addClue\");\r\n        });\r\n    } catch (e) {\r\n      setError(e);\r\n      setLoading(false);\r\n      history.push(\"/addClue\");\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [selectedLocation, setSelectedLocation] = React.useState();\r\n  const [selectedPoint, setSelectedPoint] = React.useState();\r\n  const [isPointSelected, setIsPointSelected] = React.useState(true);\r\n  const [clueValue, setClueValue] = useState();\r\n  const handleChangeclue = (clueValue) => (event) => {\r\n    setClueValue(event.target.value);\r\n  };\r\n\r\n  const handleChangeLocation = (event) => {\r\n    subSiteObs.initSubSites(event.target.value.id).then(() => {\r\n      setSelectedLocation(event.target.value);\r\n      if (sites.length > 0) setSubSites(subSiteObs.subSitesList);\r\n      else setSubSites([]);\r\n    });\r\n  };\r\n\r\n  const handleChangePoint = (event) => {\r\n    setSelectedPoint(event.target.value);\r\n    setIsPointSelected();\r\n  };\r\n\r\n  const [sites, setSites] = useState([]);\r\n  const [subSites, setSubSites] = useState([]);\r\n  const siteObs = store.siteObs;\r\n  const subSiteObs = store.subSiteObs;\r\n\r\n  useEffect(() => {\r\n    setSites([]);\r\n    siteObs.initSites().then(() => {\r\n      setSites(siteObs.SitesList);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\r\n        <HeroBg size={sizePage}>\r\n          <ImageBg size={sizePage} />\r\n        </HeroBg>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <TravelExploreIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n               \r\n          </Typography>\r\n          {loading && <CircularProgress sx={{ display: \"flex\", justifyContent: \"center\", color: \"#3B2A1A\" }} />}\r\n          <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\r\n            <Grid container spacing={2}>\r\n              {error && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"error\">{error}</Alert>\r\n                </Grid>\r\n              )}\r\n              {success && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"success\">{success}</Alert>\r\n                </Grid>\r\n              )}\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"outlined-select-location\"\r\n                  select\r\n                  label=\" *\"\r\n                  value={selectedLocation}\r\n                  onChange={handleChangeLocation}\r\n                  variant=\"outlined\"\r\n                  helperText=\"   \"\r\n                >\r\n                  {sites &&\r\n                    sites.map((option) => (\r\n                      <MenuItem key={option.id} value={option} dir=\"rlt\" style={{ justifyContent: \"flex-end\" }}>\r\n                        {option.siteName}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"outlined-select-point\"\r\n                  select\r\n                  required\r\n                  label=\" *\"\r\n                  value={selectedPoint}\r\n                  onChange={handleChangePoint}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {subSites &&\r\n                    subSites.map((option) => (\r\n                      <MenuItem key={option.id} value={option} dir=\"rlt\" style={{ justifyContent: \"flex-end\" }}>\r\n                        {option.placeName}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"clue\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={4}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\"*\"\r\n                  {...register(\"clue\")}\r\n                  className={`${errors.clue ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangeclue(\"clueValue\")}\r\n                  error={isError(errors.clue)}\r\n                  helperText={errors.clue?.message}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} disabled={loading}>\r\n              \r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport AddClue from '../components/AddClue';\r\nimport Store from \"../stores/Store\"\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction AddCluePage(props) {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false);\r\n    const store = new Store();\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n    let user=props.user;\r\n    return (\r\n      <div id=\"AddCluePageStyle\" className=\"bodyStandart\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                    <AddClue store={store} user={user}/> \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddCluePage\r\n","import styled from \"styled-components\";\r\nimport background from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\noverflow: hidden;\r\nz-index: -1;\r\n\r\n\r\n\r\n@media screen and (max-width: 1080px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n`;\r\n\r\nexport const ImageBg = styled.div`\r\nposition: absolute;\r\nbackground-image: url(${background});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: 1;\r\n`;","import { HeroBg, ImageBg } from \"./AddStoryElements\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TravelExploreIcon from \"@mui/icons-material/TravelExplore\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase, { storage } from \"../../Firebase\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as Yup from \"yup\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport AvatarQuiz, { getURL } from \"../AvatarQuiz\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nlet sizePage = 0;\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(sizePage / 10 - 1),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"rgb(0,0,0)\",\r\n    \"& .MuiInputLabel-root\": {\r\n      color: \"black\",\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: \"#3B2A1A\",\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#412F1D\",\r\n    \"&:hover\": {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background: \"#3B2A1A\",\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction isError(error) {\r\n  if (error) return true;\r\n  else return false;\r\n}\r\n\r\nlet imgUplodPath = \"\";\r\n\r\nexport default function AddStory({ store, user }) {\r\n  // const errorRequiredField=\"   \";\r\n  // form validation rules\r\n  const validationSchema = Yup.object().shape({\r\n    story: Yup.string().required(\"    \"),\r\n    storyName: Yup.string().required(\"     \"),\r\n  });\r\n  const formOptions = { resolver: yupResolver(validationSchema), defaultValues: {} };\r\n  // get functions to build form with useForm() hook\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm(formOptions);\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    let image1 = getURL();\r\n    try {\r\n      firebase\r\n        .firestore()\r\n        .collection(\"Stories\")\r\n        .add({\r\n          storyContent: data.story,\r\n          storyName: data.storyName,\r\n          storyLikesNum: 0,\r\n          siteName: selectedLocation.siteName,\r\n          placeName: selectedPoint.placeName,\r\n          authorName: user.firstName + \" \" + user.lastName,\r\n          isApproved: false,\r\n          imageURL: selectedPoint.imageURL ? selectedPoint.imageURL : null,\r\n        })\r\n        .then((doc) => {\r\n          if (doc.id === null) return;\r\n          let uid = doc.id;\r\n          if (image1) {\r\n            imageHandler(image1, uid).then(() => {});\r\n          } else {\r\n            setLoading(false);\r\n            reset({\r\n              storyName: \"\",\r\n              story: \"\",\r\n            });\r\n            setSelectedLocation(\"\");\r\n            setSelectedPoint(\"\");\r\n            setSubSites([]);\r\n            setSuccess(\"  \");\r\n            history.push(\"/addStory\");\r\n          }\r\n        });\r\n    } catch (e) {\r\n      setError(\"  \");\r\n      setLoading(false);\r\n      history.push(\"/addStory\");\r\n      return null;\r\n    }\r\n  };\r\n\r\n  async function imageHandler(image1, id) {\r\n    if (image1) {\r\n      // add to image folder in firebase\r\n      const uploadTask = storage.ref(`storiesImages/Stories/${id}/${image1.name}`).put(image1);\r\n      // Register three observers:\r\n      // 1. 'state_changed' observer, called any time the state changes\r\n      // 2. Error observer, called on failure\r\n      // 3. Completion observer, called on successful completion\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        function (snapshot) {\r\n          // Observe state change events such as progress, pause, and resume\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          console.log(\"Upload is \" + progress + \"% done\");\r\n          // eslint-disable-next-line default-case\r\n          switch (snapshot.state) {\r\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n              console.log(\"Upload is paused\");\r\n              break;\r\n            case firebase.storage.TaskState.RUNNING: // or 'running'\r\n              console.log(\"Upload is running\");\r\n              break;\r\n          }\r\n          return;\r\n        },\r\n        function (error) {\r\n          // Handle unsuccessful uploads\r\n          console.log(error);\r\n        },\r\n        function () {\r\n          // Handle successful uploads on complete\r\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\r\n            try {\r\n              firebase\r\n                .firestore()\r\n                .collection(\"Stories\")\r\n                .doc(id)\r\n                .update({ imageURL: downloadURL })\r\n                .then(async () => {\r\n                  //console.log(\"updated\");\r\n                  reset({\r\n                    storyName: \"\",\r\n                    story: \"\",\r\n                  });\r\n                  setSelectedLocation(\"\");\r\n                  setSelectedPoint(\"\");\r\n                  setSubSites([]);\r\n                  setAvatarImage();\r\n                  setSuccess(\"  \");\r\n                  history.push(\"/addStory\");\r\n                  setLoading(false);\r\n                });\r\n            } catch (e) {\r\n              setError(\"   \");\r\n              history.push(\"/addStory\");\r\n              setLoading(false);\r\n            }\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [selectedLocation, setSelectedLocation] = React.useState(\" \");\r\n  const [selectedPoint, setSelectedPoint] = React.useState(\" \");\r\n  const [isPointSelected, setIsPointSelected] = React.useState(true);\r\n  const [storyValue, setStoryValue] = useState();\r\n  const [storyNameValue, setStoryNameValue] = useState();\r\n  const [avatarImage, setAvatarImage] = useState();\r\n  const [sites, setSites] = useState([]);\r\n  const [subSites, setSubSites] = useState([]);\r\n  const siteObs = store.siteObs;\r\n  const subSiteObs = store.subSiteObs;\r\n\r\n  const handleImageChange = (imageFile) => {\r\n    setAvatarImage(imageFile);\r\n  };\r\n\r\n  const handleChangestory = (storyValue) => (event) => {\r\n    setStoryValue(event.target.value);\r\n  };\r\n \r\n  const handleChangestoryName = (storyValue) => (event) => {\r\n    setStoryNameValue(event.target.value);\r\n  };\r\n\r\n  const handleChangeLocation = (event) => {\r\n    subSiteObs.initSubSites(event.target.value.id).then(() => {\r\n      setSelectedLocation(event.target.value);\r\n      // setIsLocationSelected()\r\n\r\n      if (sites.length > 0) setSubSites(subSiteObs.subSitesList);\r\n      else setSubSites([]);\r\n    });\r\n  };\r\n\r\n  const handleChangePoint = (event) => {\r\n    setSelectedPoint(event.target.value);\r\n    setIsPointSelected();\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    setSites([]);\r\n    siteObs.initSites().then(() => {\r\n      setSites(siteObs.SitesList);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\r\n        <HeroBg size={sizePage}>\r\n          <ImageBg size={sizePage} />\r\n        </HeroBg>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <TravelExploreIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n               \r\n          </Typography>\r\n          <AvatarQuiz handleChangeImage={handleImageChange} avatarImage={avatarImage} isEdiable={false} />\r\n          {loading && <CircularProgress sx={{ display: \"flex\", justifyContent: \"center\", color: \"#3B2A1A\" }} />}\r\n          <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\r\n            <Grid container spacing={2}>\r\n              {error && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"error\">{error}</Alert>\r\n                </Grid>\r\n              )}\r\n              {success && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"success\">{success}</Alert>\r\n                </Grid>\r\n              )}\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"outlined-select-location\"\r\n                  select\r\n                  label=\" *\"\r\n                  value={selectedLocation}\r\n                  onChange={handleChangeLocation}\r\n                  variant=\"outlined\"\r\n                  helperText=\"   \"\r\n                >\r\n                  {sites &&\r\n                    sites.map((option) => (\r\n                      <MenuItem key={option.id} value={option} dir=\"rlt\" style={{ justifyContent: \"flex-end\" }}>\r\n                        {option.siteName}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"outlined-select-point\"\r\n                  select\r\n                  required\r\n                  label=\" *\"\r\n                  value={selectedPoint}\r\n                  onChange={handleChangePoint}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {subSites &&\r\n                    subSites.map((option) => (\r\n                      <MenuItem key={option.id} value={option} dir=\"rlt\" style={{ justifyContent: \"flex-end\" }}>\r\n                        {option.placeName}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"storyName\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\" *\"\r\n                  {...register(\"storyName\")}\r\n                  className={`${errors.storyName ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangestoryName(\"storyNameValue\")}\r\n                  error={isError(errors.storyName)}\r\n                  helperText={errors.storyName?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"story\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={8}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\"*\"\r\n                  {...register(\"story\")}\r\n                  className={`${errors.story ? \"is-invalid\" : \"\"}`}\r\n                  onChange={handleChangestory(\"storyValue\")}\r\n                  error={isError(errors.story)}\r\n                  helperText={errors.story?.message}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} disabled={loading}>\r\n              \r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport AddStory from '../components/AddStory';\r\nimport Store from \"../stores/Store\"\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction AddStoryPage(props) {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false);\r\n    const store = new Store();\r\n  \r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n\r\n    let user=props.user;\r\n    \r\n    return (\r\n      <div id=\"AddStoryPageStyle\" className=\"bodyStandart\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                    <AddStory store={store} user={user}/> \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddStoryPage\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ProgressBar = (props) => {\r\n  const { pogress } = props;\r\n\r\n  const containerStyles = {\r\n    height: 30,\r\n    width: \"95%\",\r\n    backgroundColor: \"#3B2A1A\",\r\n    borderRadius: 50,\r\n    margin: 5,\r\n  };\r\n\r\n  const fillerStyles = {\r\n    height: \"100%\",\r\n    width: `${pogress.completed}%`,\r\n    backgroundColor: \"#B3541E\",\r\n    borderRadius: \"inherit\",\r\n    textAlign: \"right\",\r\n    transition: \"width 1s ease\",\r\n  };\r\n\r\n  const labelStyles = {\r\n    padding: 5,\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    color: \"#fff\",\r\n    textDecoration: \"#5C3D2E\",\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <br />\r\n      <div dir=\"rtl\" width=\"20%\">\r\n        <Link style={{ textDecoration: \"#5C3D2E\" }} to={{ pathname: `/treasureHunt/${pogress.thID}`, state: { fromCards: true } }}>\r\n          <p style={{ color: \"#5C3D2E\", fontWeight: \"bold\", fontSize: \"17px\" }}>{pogress.bartitle} </p>\r\n        </Link>\r\n        <p style={{ fontWeight: \"bold\", fontSize: \"14px\" }}>: {pogress.numOfQuestions + \" / \" + pogress.score}</p>\r\n      </div>\r\n      <div style={containerStyles}>\r\n        <div style={fillerStyles}>\r\n          <span style={labelStyles}>{`${pogress.completed}%`}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;\r\n\r\nexport const HeroBg = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 103%;\r\n  overflow: hidden;\r\n  opacity: 0.5;\r\n  z-index: -1;\r\n`;\r\n\r\nexport const VideoBg = styled.video`\r\n  width: 100%;\r\n  height: 100%;\r\n  -o-object-fit: cover;\r\n  object-fit: cover;\r\n  background: #232a34;\r\n  opacity: 0.9;\r\n  z-index: -1;\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/vide.52b90380.mp4\";","\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport DynamicList from './DynamicList'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(20),\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    color: \"rgb(0,0,0)\",\r\n    \"& .MuiInputLabel-root\": {\r\n      color: \"black\"\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.primary.main\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#412F1D\",\r\n    '&:hover': {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background:  '#3B2A1A' ,\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\"\r\n   },\r\n  }\r\n}));\r\n\r\nlet imgUplodPath=\"\";\r\nlet choosenObs;\r\n\r\nexport default function EditProfile(props) {  \r\n\r\n  const classes = useStyles();\r\n  const [subject,setSubject]= useState();\r\n  const [games,setGames]= useState([]);\r\n  const storiesObs=props.store.storiesObs;\r\n  const clueObs=props.store.clueObs;\r\n  const user=props.user;\r\n  const questionObs=props.store.questionObs;\r\n  const gamesObs=props.store.treasureHuntObs;\r\n  const [infoProfileValue,setInfoProfileValue]=useState();\r\n  const optionList = [\"\",  \"\",\"\" , \"\"];\r\n  const [gameList,setGameList]= useState([]);\r\n  const [stories,setStories]= useState([]);\r\n  const [clues,setClues]= useState([]);\r\n  const [tableList,setTableList]= useState([]);\r\n  const [questions,setQuestions]= useState([]);\r\n  const handleChangeinfoProfile= infoProfileValue=> event=> {\r\n    setInfoProfileValue(event.target.value);\r\n \r\n  };  \r\n\r\nconst getSubject = (value) => {\r\n  setSubject(value);\r\n  toDataBase(value);\r\n}; \r\n\r\n\r\nfunction toDataBase(subject){\r\n  if(subject === ''){\r\n    let temp=[];\r\n    let userStories=[];\r\n    storiesObs.initStories().then(()=>{\r\n      temp=storiesObs.storiesList;\r\n    for(let story in temp){\r\n      if(temp[story].authorName === user.firstName+\" \"+user.lastName){\r\n        userStories.push(temp[story])\r\n      }\r\n    }\r\n      setStories(userStories)\r\n      choosenObs=storiesObs;\r\n      setGameList(userStories)\r\n    })\r\n  }else if(subject === '' ){\r\n    let temp=[];\r\n    let userClues=[];\r\n    clueObs.initAllClues().then(()=>{\r\n      temp=clueObs.cluesList;\r\n      for(let clue in temp){\r\n        if(temp[clue]?.creator === user.firstName+\" \"+user.lastName){\r\n          userClues.push(temp[clue])\r\n        }\r\n      }\r\n      setClues(userClues);\r\n      choosenObs=clueObs;\r\n      setGameList(userClues)\r\n    })\r\n\r\n  }else if(subject === '' ){\r\n    let temp=[];\r\n    let userQuestions=[];\r\n    questionObs.initAllQuestions().then(()=>{\r\n      temp=questionObs.questionsList;\r\n      for(let question in temp){\r\n        if(temp[question]?.creator === user.firstName+\" \"+user.lastName){\r\n          userQuestions.push(temp[question])\r\n        }\r\n      }\r\n      setQuestions(userQuestions);\r\n      choosenObs=questionObs;\r\n      setGameList(userQuestions)\r\n    })\r\n\r\n  }else if(subject === '' ){\r\n    let temp=[];\r\n    let userGames=[];\r\n    gamesObs.initTreasureHunt().then(()=>{\r\n      temp=gamesObs.treasureHuntList;\r\n      for(let game in temp){\r\n        if(temp[game]?.authorName === user.firstName+\" \"+user.lastName){\r\n          userGames.push(temp[game])\r\n        }\r\n      }\r\n      setGames(userGames);\r\n      choosenObs=gamesObs;\r\n      setGameList(userGames);\r\n  });\r\n  }else{\r\n    return;\r\n  }\r\n}\r\n  \r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\" >\r\n        <CssBaseline />\r\n        <Autocomplete\r\n              disablePortal\r\n              id=\"combo-box-demo\"\r\n              options={optionList}\r\n              sx={{ width: 300 }}\r\n              onChange={(event, value) => getSubject(value)}\r\n              renderInput={(params) => <TextField {...params} label=\"\" />}\r\n        /><div className=\"scroll\" >\r\n                {gameList && <DynamicList itemsList={gameList} choosenObs={choosenObs} />}\r\n                </div>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\n","import * as React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Card from \"@mui/material/Card\";\r\nimport CardContent from \"@mui/material/CardContent\";\r\nimport CardMedia from \"@mui/material/CardMedia\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function PhoneScreenActivityStoriesElements(props) {\r\n  const theme = useTheme();\r\n  const [liked, setLiked] = useState(props.liked);\r\n  const [likesnum, setLikesnum] = useState(props.likesnum);\r\n  let userObs = props.userObs;\r\n  let sID = props.sID;\r\n  const toggleLike = () => {\r\n    setLikesnum(liked ? likesnum - 1 : likesnum + 1);\r\n    setLiked(!liked);\r\n    userObs.updatesLikesStory(userObs.userInfo, sID, liked ? likesnum - 1 : likesnum + 1, !liked);\r\n  };\r\n\r\n  return (\r\n    <Card sx={{ display: \"flex\", width: 346, minHeight: 120, maxHeight: 145 }} style={{ marginBottom: \"1rem\" }}>\r\n      <Box sx={{ display: \"flex\", flexDirection: \"column\", width: 250 }}>\r\n        <CardContent sx={{ flex: \"0 0 auto\" }}>\r\n          <Typography component=\"div\" fontSize={16} dir=\"rtl\">\r\n            {props.storyTitle}\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" color=\"text.secondary\" component=\"div\" fontSize={13} dir=\"rtl\">\r\n            {props.author}\r\n          </Typography>\r\n          <Link\r\n            to={{\r\n              pathname: `/storycontent/${sID}`,\r\n              state: {\r\n                title: props.title,\r\n                imgsrc: props.imgsrc,\r\n                author: props.author,\r\n                storyContent: props.istory,\r\n                liked: liked,\r\n                likesnum: likesnum,\r\n              },\r\n            }}\r\n          >\r\n              ...\r\n          </Link>\r\n          <button className=\"likeBtn\" onClick={toggleLike}>\r\n            {liked ? <FavoriteRoundedIcon style={{ color: \"#b71c1c\" }} /> : <FavoriteBorderRoundedIcon style={{ color: \"#b71c1c\" }} />}\r\n          </button>\r\n          {likesnum}\r\n        </CardContent>\r\n      </Box>\r\n      <CardMedia component=\"img\" sx={{ width: 100 }} image={props.imgsrc} alt=\"Live from space album cover\" />\r\n    </Card>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\nimport AuthorIcon from \"@material-ui/icons/EditOutlined\";\r\nimport StoryDesc from \"@material-ui/icons/MenuBookOutlined\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style-progress.css\";\r\n\r\nclass FullScreenActivityStoriesElements extends Component {\r\n  constructor(props) { //properties of a game \r\n    super(props);\r\n    this.state = {\r\n      liked: props.liked,\r\n      likesnum: props.likesnum,\r\n      imgsrc: props.imgsrc,\r\n      title: props.title,\r\n      author: props.author,\r\n      istory: props.istory,\r\n      sID: props.sID, //story ID\r\n      user: props.user,\r\n      userObs: props.userObs,\r\n    };\r\n    this.toggleLike = this.toggleLike.bind(this);\r\n  }\r\n/*\r\ndisplay of likes:\r\nlikesnum- updated number of likes for the story\r\nliked- boolean: true- full heart ; false-empty heart\r\n */\r\n  toggleLike() { \r\n    let { likesnum,  userObs, sID, liked } = this.state;\r\n    likesnum = liked ? likesnum - 1 : likesnum + 1;\r\n    liked = !liked;\r\n\r\n    this.setState({\r\n      likesnum: likesnum,\r\n      liked: liked,\r\n    });\r\n\r\n    userObs.updatesLikesStory(userObs.userInfo, sID, likesnum, liked);\r\n  }\r\n\r\n  render() {\r\n    let { likesnum, imgsrc, title, author, istory, sID, userObs } = this.state;\r\n    return (\r\n      <div className=\"card text-right shadow\">\r\n        <div className=\"overflow\">\r\n          <img src={imgsrc} alt=\"image 1\" className=\"card-img-top\" />\r\n        </div>\r\n        <div className=\"card-body text-dark\">\r\n          <h4 className=\"card-title text-center\">{title}</h4>\r\n          <div className=\"card-text text-secondary\">\r\n            <div className=\"row\">\r\n              <div className=\"col-1\">\r\n                <AuthorIcon style={{ color: \"#e67700\" }} />\r\n              </div>\r\n              <div className=\"col-11\"> {author}</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-1\">\r\n                <StoryDesc style={{ color: \"#994f00\" }} />\r\n              </div>\r\n              <div className=\"col-11\">\r\n                {istory.slice(0, 200)}\r\n                <Link\r\n                  to={{\r\n                    pathname: `/storycontent/${sID}`,\r\n                    state: {\r\n                      title: title,\r\n                      imgsrc: imgsrc,\r\n                      author: author,\r\n                      storyContent: istory,\r\n                      liked: this.state.liked,\r\n                      likesnum: likesnum,\r\n                    },\r\n                  }}\r\n                >\r\n                    ...\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-1\">\r\n                {\r\n                  userObs?.userInfo?.type === \"registered\" || userObs?.userInfo?.type === \"creator\" || userObs?.userInfo?.type === \"admin\" ? (\r\n                    <button className=\"likeBtn\" onClick={this.toggleLike}>\r\n                      {this.state.liked ? <FavoriteRoundedIcon style={{ color: \"#b71c1c\" }} /> : <FavoriteBorderRoundedIcon style={{ color: \"#b71c1c\" }} />}\r\n                    </button>\r\n                  ) : null // (icon )\r\n                }\r\n              </div>\r\n              <div className=\"col-11\"> {likesnum}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FullScreenActivityStoriesElements;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ProgressBar, { HeroBg, VideoBg } from \"./progressbarElement\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\r\nimport GamesIcon from \"@material-ui/icons/Games\";\r\nimport Video from \"../../videos/vide.mp4\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport imageDef from \"../../images/tree.jpeg\";\r\nimport EditProfile from \"../EditProfile\";\r\nimport EditContent from \"../EditContent\";\r\nimport PhoneScreenActivityStoriesElements from \"./PhoneScreenActivityStoriesElements\";\r\nimport FullScreenActivityStoriesElements from \"./FullScreenActivityStoriesElements\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    minHeight: \"75vh\",\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n  button: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: \"#E1701A\",\r\n    fontSize: \"20px\",\r\n    borderRadius: \"20px\",\r\n    width: \"5rem\",\r\n    border: \"none\",\r\n    color: \"white\",\r\n    \"&:hover\": {\r\n      transition: \"all 0.2s ease-in-out\",\r\n      background: \"#3B2A1A\",\r\n      color: \"#FE9A0F\",\r\n      fontWeight: \"bold\",\r\n    },\r\n  },\r\n}));\r\n\r\n// Activity Profie function for exporting the component\r\nfunction ActivityProfile({ user, reviewStore, userObs }) {\r\n  let plist = [];\r\n\r\n  let userSlist = user?.storyLikes;\r\n  let mlist = user?.playedGames;\r\n\r\n  const [subject, setSubject] = useState(\" \");\r\n  const [stories, setStories] = useState([]);\r\n  const [screenType, setScreenType] = useState(\"xs\");\r\n  const storiesObs = reviewStore.storiesObs;\r\n  const classes = useStyles();\r\n  const userName = user.firstName;\r\n  const history = useHistory();\r\n  const bgcolor = \"#00695c\";\r\n  let mb = window.innerHeight;\r\n\r\n  const routeChange = () => {\r\n    let path = `/treasureHuntSearch`;\r\n    history.push(path);\r\n  };\r\n  console.log(\"window.innerHeight\", window.innerHeight);\r\n\r\n  useEffect(async () => {\r\n    await userObs.getNewLikesForUser().then(() => {\r\n      userSlist = user?.storyLikes;\r\n    });\r\n    setStories([]);\r\n    storiesObs.initStories().then(() => {\r\n      let arr = storiesObs.storiesList.filter((item) => item.isApproved);\r\n      setStories(arr);\r\n    });\r\n  }, []);\r\n  /*\r\ngetSubject(value, stype):\r\nvalue[,,]\r\nstype[full screen, phone screen]\r\n*/\r\n  function getSubject(value, stype) {\r\n    setSubject(value);\r\n    setScreenType(stype);\r\n  }\r\n\r\n  const barsDisplay = () => {\r\n    if (mlist) {\r\n      for (let key in mlist) {\r\n        if (mlist.hasOwnProperty(key)) {\r\n          let tmp = {\r\n            bgcolor: bgcolor,\r\n            thID: key.toString(),\r\n            completed: mlist[key].GameAdvance,\r\n            bartitle: mlist[key].quizName,\r\n            score: mlist[key].score,\r\n            numOfQuestions: mlist[key].numOfQuestions,\r\n          };\r\n          plist.push(tmp);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const storiesDisplay = () => {\r\n    let slist = [];\r\n\r\n    if (userSlist) {\r\n      for (let key in userSlist) {\r\n        stories.map((item, idx) => {\r\n          if (key.toString() === item.id.toString()) {\r\n            item.liked = true;\r\n            slist.push(item);\r\n          }\r\n        });\r\n      }\r\n      setStories(slist);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth={screenType}>\r\n        <HeroBg>\r\n          <VideoBg autoPlay loop muted src={Video} type=\"video/mp4\" />\r\n        </HeroBg>\r\n        <div className=\"row\" dir=\"rtl\">\r\n          <div className=\"col-md-6\" dir=\"rtl\">\r\n            <p style={{ fontSize: \"1.6rem\", opacity: \"0.9\", fontWeight: \"bold\", color: \"#1B1A17\" }}> {userName}!</p>\r\n          </div>\r\n          <div className=\"col-md-6\" dir=\"ltr\">\r\n            {user?.type === \"registered\" && (\r\n              <>\r\n                <button\r\n                  style={{ background: \"transparent\", fontSize: \"0.8rem\", border: \"none\", opacity: \"0.8\", fontWeight: \"bold\" }}\r\n                  onClick={() => {\r\n                    getSubject(\"  \", \"xs\");\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                    \r\n                  <EditIcon style={{ color: \"#B85C38\" }} />\r\n                </button>\r\n                <br />\r\n              </>\r\n            )}\r\n            {(user?.type === \"creator\" || user?.type === \"admin\") && (\r\n              <>\r\n                <button\r\n                  style={{ background: \"transparent\", fontSize: \"0.8rem\", border: \"none\", opacity: \"0.8\", fontWeight: \"bold\" }}\r\n                  onClick={() => {\r\n                    getSubject(\" \", \"xs\");\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                   \r\n                  <EditIcon style={{ color: \"#B85C38\" }} />\r\n                </button>\r\n                <br />\r\n              </>\r\n            )}\r\n            <button\r\n              style={{ background: \"transparent\", fontSize: \"0.8rem\", border: \"none\", opacity: \"0.8\", fontWeight: \"bold\" }}\r\n              onClick={() => {\r\n                getSubject(\" \", \"lg\");\r\n                storiesDisplay();\r\n              }}\r\n            >\r\n                <MenuBookIcon style={{ color: \"#B85C38\" }} />\r\n            </button>\r\n            <br />\r\n            <button\r\n              style={{ background: \"transparent\", fontSize: \"0.8rem\", border: \"none\", opacity: \"0.8\", fontWeight: \"bold\" }}\r\n              onClick={() => {\r\n                getSubject(\" \", \"xs\");\r\n              }}\r\n            >\r\n              {\" \"}\r\n               \r\n              <GamesIcon style={{ color: \"#B85C38\" }} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\" dir=\"rtl\" style={{ color: \"#5C3D2E\", fontWeight: \"bold\", fontSize: \"36px\" }}>\r\n            {subject}\r\n          </Typography>\r\n\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              {subject === \"  \" && user?.type === \"registered\" && user?.isApproved === false ? (\r\n                user?.isAskedToBeCreator === false ? (\r\n                  <div>\r\n                    <EditProfile user={user} />\r\n                  </div>\r\n                ) : (\r\n                  <div style={{ direction: \"rtl\", textAlign: \"flex-start\" }}>\r\n                    <Typography component=\"h7\" variant=\"h7\" style={{ color: \"#5C3D2E\" }}>\r\n                         :\r\n                    </Typography>\r\n                    <Typography component=\"h7\" variant=\"h7\" style={{ color: \"#5C3D2E\" }}>\r\n                      {user?.declined === false\r\n                        ? \"  /   ,      \"\r\n                        : \" ,       .       !\"}\r\n                    </Typography>\r\n                  </div>\r\n                )\r\n              ) : null}\r\n\r\n              <div className={window.innerHeight < 916 ? \"scroll\" : \"\"}>\r\n                {/* loop for creating the progress bars */}\r\n                {subject === \" \" && (barsDisplay(), plist.map((item, idx) => <ProgressBar key={idx} bgcolor={\"#B85C38\"} pogress={item} />))}\r\n                {subject === \" \" && window.innerHeight < 916 ? (\r\n                  <div className=\"row\">\r\n                    {stories.map((item, idx) => (\r\n                      <div className=\"col\" key={idx}>\r\n                        <PhoneScreenActivityStoriesElements\r\n                          key={idx}\r\n                          imgsrc={item.imageURL ? item.imageURL : imageDef}\r\n                          title={item.storyName}\r\n                          liked={item.liked}\r\n                          likesnum={item.storyLikesNum}\r\n                          istory={item.storyContent}\r\n                          storyTitle={item.storyName}\r\n                          author={item.authorName}\r\n                          userObs={userObs}\r\n                          sID={item.id}\r\n                        />\r\n                      </div>\r\n                    ))}{\" \"}\r\n                  </div>\r\n                ) : (\r\n                  subject === \" \" && (\r\n                    <div className=\"row\">\r\n                      {stories.map((itm, idx) => (\r\n                        <div className=\"col\">\r\n                          <FullScreenActivityStoriesElements\r\n                            sID={itm.id}\r\n                            imgsrc={itm.imageURL ? itm.imageURL : imageDef}\r\n                            title={itm.storyName}\r\n                            author={itm.authorName}\r\n                            istory={itm.storyContent}\r\n                            storylink=\"storycontent\"\r\n                            liked={itm.liked}\r\n                            likesnum={itm.storyLikesNum}\r\n                            userObs={userObs}\r\n                          />\r\n                        </div>\r\n                      ))}{\" \"}\r\n                    </div>\r\n                  )\r\n                )}\r\n              </div>\r\n              <div className=\"row justify-content-center\">\r\n                {subject === \" \" ? (\r\n                  <button className={classes.button} onClick={routeChange}>\r\n                    +\r\n                  </button>\r\n                ) : null}\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\nexport default ActivityProfile;\r\n","import React, { useState } from \"react\";\r\n// import Navbar from '../components/Navebar';\r\n// import Sidebar from '../components/Sidebar';\r\nimport ScrollToTop from \"../components/ScrollToTop\";\r\nimport ActivityProfile from \"../components/ActivityProfile\";\r\nimport Store from \"../stores/Store\";\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport { AuthProvider } from \"../Contexts/AuthContexts\";\r\n\r\nconst reviewStore = new Store();\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\",\r\n});\r\n\r\nfunction ActProg(props) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n  console.log(\"my user\", props.user);\r\n  let user = props.user;\r\n  return (\r\n    <div id=\"ActProg\">\r\n      <StylesProvider jss={jss}>\r\n        <ThemeProvider theme={theme}>\r\n          <ScrollToTop />\r\n          <AuthProvider>\r\n            <ActivityProfile user={user} reviewStore={reviewStore} userObs={props.userObs} />\r\n          </AuthProvider>\r\n        </ThemeProvider>\r\n      </StylesProvider>\r\n      ,\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ActProg;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Button, Checkbox, Grid, Icon, Table } from \"semantic-ui-react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@mui/material/Box\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from \"@mui/material/Select\";\nimport background from \"../../images/treasureBack.png\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport Container from \"@material-ui/core/Container\";\nimport { HeroBg, ImageBg } from \"./ApprovalTableElements\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TravelExploreIcon from \"@mui/icons-material/TravelExplore\";\nimport Typography from \"@material-ui/core/Typography\";\n\nlet sizePage = 0;\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    whiteSpace: \"unset\",\n    wordBreak: \"break-all\",\n  },\n  paper: {\n    marginBottom: theme.spacing(0),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    minHeight: \"100vh\",\n    color: \"rgb(0,0,0)\",\n    \"& .MuiInputLabel-root\": {\n      color: \"black\",\n    },\n  },\n  Container: {\n    opacity: 0.99999,\n    zIndex: 50,\n    backgroundImage: `url(${background})`,\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: \"#3B2A1A\",\n  },\n  \"& .MuiSelect-select\": {\n    // color: \"\",\n    width: \"160px\",\n    background: \"white\",\n    opacity: \"0.7\",\n    textAlign: \"left\",\n    dir: \"rtl\",\n    color: \"black\",\n    fontSize: \"1.15rem\",\n  },\n  MuiSelect_select: {\n    width: \"160px\",\n    background: \"white\",\n    opacity: \"0.7\",\n    textAlign: \"left\",\n    dir: \"rtl\",\n    color: \"black\",\n    fontSize: \"1.15rem\",\n    zIndex: \"50\",\n  },\n\n  \"& .MuiFormLabel-root\": {\n    color: \"black\",\n    textAlign: \"left\",\n    dir: \"rtl\",\n    fontSize: \"1.15rem\",\n  },\n}));\n\nlet choosenObs;\nconst AprprovalTable = ({ store }) => {\n  const [subject, setSubject] = useState();\n  const [stories, setStories] = useState([]);\n  const [treasureHunts, setTreasureHunts] = useState([]);\n  const [clues, setClues] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [questions, setQuestions] = useState([]);\n  const [sites, setSites] = useState([]);\n  const [subSites, setSubSites] = useState([]);\n  const [tableList, setTableList] = useState([]);\n  const [sitesNames, setSitesNames] = useState([]);\n  const [topic, setTopic] = useState(\" \");\n  const storiesObs = store.storiesObs;\n  const treasureHuntObs = store.treasureHuntObs;\n  const clueObs = store.clueObs;\n  const userObs = store.userObs;\n  const questionObs = store.questionObs;\n  const siteObs = store.siteObs;\n  const subSiteObs = store.subSiteObs;\n  const optionList = [\"\", \"\", \"\", \"\",\"   \", \"\", \" \"];\n  const [selectedList, setSelectedList] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [openInfoStation, setOpenInfoStation] = useState(false);\n  const [dialogInfo, setDialogInfo] = useState();\n  const [stationInfo, setStationInfo] = useState();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleClickInfoStation = (placeName, clue, question) => {\n    setStationInfo({ clue: clue, placeName: placeName, question: question });\n    setOpenInfoStation(true);\n  };\n\n  useEffect(() => {\n    if (openInfoStation) {\n      console.log(stationInfo);\n      setDialogInfo(\n        <Dialog\n          style={{ textAlign: \"right\", direction: \"rtl\" }}\n          open={openInfoStation}\n          onClose={handleColseInfoStation}\n          aria-labelledby=\"alert-dialog-title1\"\n          aria-describedby=\"alert-dialog-description1\"\n        >\n          <DialogTitle id=\"alert-dialog-title1\">  : {stationInfo?.placeName} </DialogTitle>\n          <DialogContent id=\"alert-dialog-description1\">\n            <DialogContentText style={{ fontWeight: \"bold\" }}> :</DialogContentText>\n            <DialogContentText>{stationInfo?.clue}</DialogContentText>\n            <DialogContentText style={{ fontWeight: \"bold\" }}> :</DialogContentText>\n            <DialogContentText>{stationInfo?.question}</DialogContentText>\n          </DialogContent>\n        </Dialog>\n      );\n    }\n  }, [stationInfo]);\n\n  const handleColseInfoStation = () => {\n    setStationInfo();\n    setOpenInfoStation(false);\n    setDialogInfo();\n  };\n\n  const handleSelectAllClick = (event, value) => {\n    if (event.target.checked) {\n      setSelectedList((selectedList) => [...selectedList, value]);\n      console.log(\"newSelecteds\", selectedList);\n      return;\n    } else if (!event.target.checked) {\n      setSelectedList((selectedList) =>\n        // Filter out the item with the matching index\n        selectedList.filter((item) => item !== value)\n      );\n    }\n  };\n\n  const getSubject = (value) => {\n    setTopic(value);\n    setSubject(value);\n    toDataBase(value);\n    setSelectedList([]);\n  };\n\n  function toDataBase(subject) {\n    if (subject === \"\") {\n      storiesObs.initStories().then(() => {\n        setStories(storiesObs.storiesList);\n        setSitesNames([]);\n        let temp = [];\n        storiesObs.storiesList.map((story) => temp.push(story.siteName));\n        setSitesNames(temp);\n        setSitesNames([...new Set(temp)]);\n        choosenObs = storiesObs;\n      });\n    } else if (subject === \"   \") {\n      treasureHuntObs.initTreasureHunt().then(() => {\n        setTreasureHunts(treasureHuntObs.treasureHuntList);\n        setTableList(treasureHuntObs.treasureHuntList);\n        setSitesNames([]);\n        let temp = [];\n        treasureHuntObs.treasureHuntList.map((treasureHunt) => temp.push(treasureHunt.siteName));\n        setSitesNames(temp);\n        setSitesNames([...new Set(temp)]);\n        choosenObs = treasureHuntObs;\n      });\n    } else if (subject === \"\") {\n      clueObs.initAllClues().then(() => {\n        setClues(clueObs.cluesList);\n        setTableList(clueObs.cluesList);\n        setSitesNames([]);\n        let temp = [];\n        clueObs.cluesList.map((clue) => temp.push(clue.locationName));\n        setSitesNames(temp);\n        setSitesNames([...new Set(temp)]);\n        choosenObs = clueObs;\n      });\n    } else if (subject === \"\") {\n      questionObs.initAllQuestions().then(() => {\n        setQuestions(questionObs.questionsList);\n        setTableList(questionObs.questionsList);\n        setSitesNames([]);\n        let temp = [];\n        questionObs.questionsList.map((question) => temp.push(question.locationName));\n        setSitesNames(temp);\n        setSitesNames([...new Set(temp)]);\n        choosenObs = questionObs;\n      });\n    } else if (subject === \"\") {\n      userObs.initUsers().then(() => {\n        setUsers(userObs.usersList);\n        setTableList(userObs.usersList);\n        choosenObs = userObs;\n      });\n    } else if (subject === \"\") {\n      siteObs.initSites().then(() => {\n        setSites(siteObs.SitesList);\n        setTableList(siteObs.SitesList);\n        choosenObs = siteObs;\n      });\n    } else if (subject === \" \") {\n      subSiteObs.initAllSubSites().then(() => {\n        setSubSites([]);\n        setTableList([]);\n        setSubSites(subSiteObs.subSitesList);\n        setTableList(subSiteObs.subSitesList);\n        setSitesNames([]);\n        let temp = [];\n        subSiteObs.subSitesList.map((subSite) => temp.push(subSite.siteName));\n        setSitesNames(temp);\n        setSitesNames([...new Set(temp)]);\n        choosenObs = subSiteObs;\n      });\n    } else {\n      return;\n    }\n  }\n\n  const classes = useStyles();\n  const [isApproved, setIsApproved] = useState(\"\");\n  const handleChangeSelect = (event) => {\n    setIsApproved(event.target.value);\n  };\n\n  const [isAskedToBeCreator, setIsAskedToBeCreator] = useState(\"\");\n  const handleChangeSelectUser = (event) => {\n    setIsAskedToBeCreator(event.target.value);\n  };\n\n  const [siteName, setSiteName] = useState(\"\");\n\n  const handleSiteNameChangeSelectUser = (event) => {\n    setSiteName(event.target.value);\n  };\n\n  async function updateApproval() {\n    choosenObs.approve(selectedList).then(() => {\n      getSubject(subject);\n    });\n  }\n\n  async function updatedDecline() {\n    choosenObs.decline(selectedList).then(() => {\n      getSubject(subject);\n      setOpen(false);\n    });\n  }\n\n  function selectFilter(value) {\n    if (isApproved === \"\") return true;\n\n    if (isApproved === true) {\n      return value.isApproved === true;\n    } else if (isApproved === false) {\n      return value.isApproved === false;\n    } else {\n      console.log(\"error\");\n      return value.isApproved;\n    }\n  }\n\n  function selectSiteFilter(value) {\n    if (siteName === \"\") return true;\n\n    return siteName === value.siteName || siteName === value.locationName;\n  }\n\n  function isAskedFillter(value) {\n    //All users:\n    if (isAskedToBeCreator === \"\") return true;\n    //Only users who already was approved as creators:\n    if (isAskedToBeCreator === true) {\n      return value.isAskedToBeCreator === true;\n    }\n    //Only users who want to be creators:\n    else {\n      console.log(\"error!!!!\");\n      return value.isApproved;\n    }\n  }\n\n  return (\n    <>\n      <Container className={classes.Container} component=\"main\" maxWidth=\"lg\" dir=\"rtl\">\n        <HeroBg size={sizePage}>\n          <ImageBg size={sizePage} />\n        </HeroBg>\n        <div className={classes.paper} style={{ padding: \"2vh\" }}>\n          <Avatar className={classes.avatar}>\n            <TravelExploreIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h4\">\n             \n          </Typography>\n          <Typography component=\"h6\" variant=\"h6\">\n                 ,    \n          </Typography>\n          <br />\n          <div className=\"row\" style={{ justifyContent: \"flex-end\" }}>\n            <div className=\"col-3\" style={{ width: \"300px\" }}>\n              <Box>\n                <FormControl>\n                  <InputLabel id=\"sites_names-select-label12\"> </InputLabel>\n                  <Select\n                    labelId=\"sites_names-select-label12\"\n                    id=\"sites_names-select-select\"\n                    value={topic}\n                    defaultValue={topic}\n                    sx={{ width: \"210px\", background: \"white\", opacity: \"0.7\" }}\n                    onChange={(event, value) => getSubject(event.target.value)}\n                  >\n                    {optionList &&\n                      optionList.map((option) => (\n                        <MenuItem key={option} value={option} style={{ justifyContent: \"flex-end\" }}>\n                          {option}\n                        </MenuItem>\n                      ))}\n                  </Select>\n                </FormControl>\n              </Box>\n            </div>\n            <div className=\"col-3\" style={{ width: \"300px\" }}>\n              {subject !== \"\" && subject !== \" \" && (\n                <Box>\n                  <FormControl>\n                    <InputLabel id=\"demo-simple-select-label\">    </InputLabel>\n                    <Select\n                      labelId=\"demo-simple-select-label\"\n                      id=\"demo-simple-select\"\n                      value={isApproved}\n                      sx={{ direction: \"rtl\", width: \"170px\", background: \"white\", opacity: \"0.7\" }}\n                      onChange={handleChangeSelect}\n                    >\n                      <MenuItem value={\"\"} style={{ justifyContent: \"flex-end\" }}>\n                        \n                      </MenuItem>\n                      <MenuItem value={true} style={{ justifyContent: \"flex-end\" }}>\n                        \n                      </MenuItem>\n                      <MenuItem value={false} style={{ justifyContent: \"flex-end\" }}>\n                         /\n                      </MenuItem>\n                    </Select>\n                  </FormControl>\n                </Box>\n              )}\n            </div>\n            <div className=\"col-3\" style={{ width: \"300px\" }}>\n              {(subject === \" \" || subject === \"\" || subject === \"\" || subject === \"\" || subject === \"   \") && (\n                <Box>\n                  <FormControl>\n                    <InputLabel id=\"sites_names-select-label\">   </InputLabel>\n                    <Select\n                      labelId=\"sites_names-select-label\"\n                      id=\"sites_names-select-select\"\n                      value={siteName}\n                      sx={{ direction: \"rtl\", minWidth: \"120px\", background: \"white\", opacity: \"0.7\" }}\n                      onChange={handleSiteNameChangeSelectUser}\n                    >\n                      <MenuItem value={\"\"} style={{ direction: \"rtl\", justifyContent: \"flex-end\" }}>\n                        \n                      </MenuItem>\n                      {sitesNames &&\n                        sitesNames.map((option) => (\n                          <MenuItem key={option} value={option} style={{ direction: \"rtl\", justifyContent: \"flex-end\" }}>\n                            {option}\n                          </MenuItem>\n                        ))}\n                    </Select>\n                  </FormControl>\n                </Box>\n              )}\n              {subject === \"\" && (\n                <Box>\n                  <FormControl>\n                    <InputLabel id=\"demo-simple-select-label\" sx={{ direction: \"rtl\" }}>\n                          \n                    </InputLabel>\n                    <Select\n                      labelId=\"demo-simple-select-label\"\n                      id=\"demo-simple-select\"\n                      value={isAskedToBeCreator}\n                      sx={{ direction: \"rtl\", width: \"120px\", background: \"white\", opacity: \"0.7\" }}\n                      onChange={handleChangeSelectUser}\n                    >\n                      <MenuItem value={\"\"} style={{ justifyContent: \"flex-end\" }}>\n                        \n                      </MenuItem>\n                      <MenuItem value={true} style={{ justifyContent: \"flex-end\" }}>\n                          \n                      </MenuItem>\n                    </Select>\n                  </FormControl>\n                </Box>\n              )}\n            </div>\n          </div>\n          <br />\n          {subject === \"   \" && (\n            <Typography component=\"h7\" variant=\"h7\" style={{ fontWeight: \"bold\" }}>\n                            \n            </Typography>\n          )}\n          <Table celled compact definition dir=\"rtl\">\n            <Table.Header fullWidth>\n              <Table.Row>\n                <Table.HeaderCell />\n                {subject === \"\" && (\n                  <>\n                    <Table.HeaderCell></Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell></Table.HeaderCell>\n                  </>\n                )}\n                {subject === \"\" && (\n                  <>\n                    <Table.HeaderCell></Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell>  </Table.HeaderCell>\n                    <Table.HeaderCell></Table.HeaderCell>\n                  </>\n                )}\n                {subject === \"\" && (\n                  <>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell> ' </Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    {/* <Table.HeaderCell>  </Table.HeaderCell> */}\n                    <Table.HeaderCell></Table.HeaderCell>\n                  </>\n                )}\n                {subject === \"   \" && (\n                  <>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell></Table.HeaderCell>\n                    {/* <Table.HeaderCell>  </Table.HeaderCell> */}\n                    <Table.HeaderCell></Table.HeaderCell>\n                  </>\n                )}\n                {subject === \"\" && (\n                  <>\n                    <Table.HeaderCell></Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell>  </Table.HeaderCell>\n                    <Table.HeaderCell></Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell></Table.HeaderCell>\n                  </>\n                )}\n                {subject === \"\" && (\n                  <>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell></Table.HeaderCell>\n                  </>\n                )}\n                {subject === \" \" && (\n                  <>\n                    <Table.HeaderCell>  </Table.HeaderCell>\n                    <Table.HeaderCell> </Table.HeaderCell>\n                    <Table.HeaderCell></Table.HeaderCell>\n                    <Table.HeaderCell> url</Table.HeaderCell>\n                  </>\n                )}\n              </Table.Row>\n            </Table.Header>\n            {subject === \"\" && (\n              <>\n                <Table.Body>\n                  {users &&\n                    users\n                      .filter(selectFilter)\n                      .filter(isAskedFillter)\n                      .map((option) => (\n                        <Table.Row key={option.id} value={option} dir=\"rlt\" onClick={(event) => handleSelectAllClick(event, option)}>\n                          <Table.Cell collapsing>\n                            <Checkbox\n                              color=\"primary\"\n                              inputProps={{\n                                \"aria-label\": \"select all desserts\",\n                              }}\n                            />\n                          </Table.Cell>\n                          <Table.Cell>{option.firstName + \" \" + option.lastName}</Table.Cell>\n                          <Table.Cell style={{ direction: \"ltr\" }}>{option.email}</Table.Cell>\n                          <Table.Cell>{option.infoProfileValue}</Table.Cell>\n                          <Table.Cell>{option.declined === true ? \"\" : option.isApproved ? \"\" : \" \"} </Table.Cell>\n                        </Table.Row>\n                      ))}\n                </Table.Body>\n              </>\n            )}\n            {subject === \"\" && (\n              <>\n                <Table.Body>\n                  {clues &&\n                    clues\n                      .filter(selectFilter)\n                      .filter(selectSiteFilter)\n                      .map((option) => (\n                        <Table.Row key={option.id} value={option} dir=\"rlt\" onClick={(event) => handleSelectAllClick(event, option)}>\n                          <Table.Cell collapsing>\n                            <Checkbox\n                              color=\"primary\"\n                              inputProps={{\n                                \"aria-label\": \"select all desserts\",\n                              }}\n                            />\n                          </Table.Cell>\n                          <Table.Cell>{option.clue}</Table.Cell>\n                          <Table.Cell>{option.locationName}</Table.Cell>\n                          <Table.Cell>{option.pointName}</Table.Cell>\n                          <Table.Cell>{option.isApproved ? \"\" : \" \"} </Table.Cell>\n                        </Table.Row>\n                      ))}\n                </Table.Body>\n              </>\n            )}\n            {subject === \"\" && (\n              <>\n                <Table.Body>\n                  {questions &&\n                    questions\n                      .filter(selectFilter)\n                      .filter(selectSiteFilter)\n                      .map((option) => (\n                        <Table.Row key={option.id} value={option} dir=\"rlt\" onClick={(event) => handleSelectAllClick(event, option)}>\n                          <Table.Cell collapsing>\n                            <Checkbox\n                              color=\"primary\"\n                              inputProps={{\n                                \"aria-label\": \"select all desserts\",\n                              }}\n                            />\n                          </Table.Cell>\n                          <Table.Cell>{option.question}</Table.Cell>\n                          <Table.Cell>{option.locationName}</Table.Cell>\n                          <Table.Cell>{option.pointName}</Table.Cell>\n                          <Table.Cell>\n                            <Table.Row key={option.id} value={option} dir=\"rlt\">\n                              1. {option.answers[0]}\n                            </Table.Row>\n                            <Table.Row key={option.id} value={option} dir=\"rlt\">\n                              2. {option.answers[1]}\n                            </Table.Row>\n                            <Table.Row key={option.id} value={option} dir=\"rlt\">\n                              3. {option.answers[2]}\n                            </Table.Row>\n                            <Table.Row key={option.id} value={option} dir=\"rlt\">\n                              4. {option.answers[3]}\n                            </Table.Row>\n                          </Table.Cell>\n                          <Table.Cell>{option.correctAnswer}</Table.Cell>\n                          <Table.Cell>{option.isApproved ? \"\" : \" \"} </Table.Cell>\n                        </Table.Row>\n                      ))}\n                </Table.Body>\n              </>\n            )}\n            {subject === \"\" && (\n              <>\n                <Table.Body>\n                  {stories &&\n                    stories\n                      .filter(selectFilter)\n                      .filter(selectSiteFilter)\n                      .map((option) => (\n                        <Table.Row key={option.id} value={option} dir=\"rlt\" onClick={(event) => handleSelectAllClick(event, option)}>\n                          <Table.Cell collapsing>\n                            <Checkbox slider />\n                          </Table.Cell>\n                          <Table.Cell>{option.storyName}</Table.Cell>\n                          <Table.Cell>{option.siteName}</Table.Cell>\n                          <Table.Cell>{option.placeName}</Table.Cell>\n                          <Table.Cell>{option.storyContent}</Table.Cell>\n                          {/* <Table.Cell>{option.imageURL}</Table.Cell> */}\n                          <Table.Cell>{option.isApproved ? \"\" : \" \"} </Table.Cell>\n                        </Table.Row>\n                      ))}\n                </Table.Body>\n              </>\n            )}\n            {subject === \"   \" && (\n              <>\n                <Table.Body>\n                  {treasureHunts &&\n                    treasureHunts\n                      .filter(selectFilter)\n                      .filter(selectSiteFilter)\n                      .map((option) => (\n                        <Table.Row key={option.id} value={option} dir=\"rlt\" onClick={(event) => handleSelectAllClick(event, option)}>\n                          <Table.Cell collapsing>\n                            <Checkbox slider />\n                          </Table.Cell>\n                          <Table.Cell>{option.quizName}</Table.Cell>\n                          <Table.Cell>{option.siteName}</Table.Cell>\n                          <Table.Cell>{option.description}</Table.Cell>\n                          <Table.Cell>\n                            {option?.gameList.map((station, idx) => (\n                              <Table.Row\n                                key={idx}\n                                value={station}\n                                dir=\"rlt\"\n                                onClick={() => {\n                                  console.log({ station });\n                                  let placeName = station.placeName;\n                                  let clue = station.nextclue;\n                                  let question = station.question;\n                                  handleClickInfoStation(placeName, clue, question);\n                                }}\n                                style={{ color: \"blue\" }}\n                              >\n                                {idx + 1}. {station.placeName}\n                              </Table.Row>\n                            ))}\n                          </Table.Cell>\n                          <Table.Cell>{option.isApproved ? \"\" : \" \"} </Table.Cell>\n                        </Table.Row>\n                      ))}\n                </Table.Body>\n              </>\n            )}\n\n            {subject === \"\" && (\n              <>\n                <Table.Body>\n                  {sites &&\n                    sites.map((option) => (\n                      <Table.Row key={option.id} value={option} dir=\"rlt\" onClick={(event) => handleSelectAllClick(event, option)}>\n                        <Table.Cell collapsing>\n                          <Checkbox slider />\n                        </Table.Cell>\n                        <Table.Cell>{option.siteName}</Table.Cell>\n                        <Table.Cell>{option.description}</Table.Cell>\n                      </Table.Row>\n                    ))}\n                </Table.Body>\n              </>\n            )}\n\n            {subject === \" \" && (\n              <>\n                <Table.Body>\n                  {subSites &&\n                    subSites.filter(selectSiteFilter).map((option) => (\n                      <Table.Row key={option.id} value={option} dir=\"rlt\" onClick={(event) => handleSelectAllClick(event, option)}>\n                        <Table.Cell collapsing>\n                          <Checkbox slider />\n                        </Table.Cell>\n                        <Table.Cell>{option.placeName}</Table.Cell>\n                        <Table.Cell>{option.siteName}</Table.Cell>\n                        <Table.Cell>{option.mainDescription[0]}</Table.Cell>\n                        <Table.Cell style={{ direction: \"ltr\" }}>{option.barcode}</Table.Cell>\n                      </Table.Row>\n                    ))}\n                </Table.Body>\n              </>\n            )}\n\n            <Table.Footer fullWidth>\n              <Table.Row>\n                <Table.HeaderCell />\n                <Table.HeaderCell colSpan=\"4\">\n                  <Button variant=\"outlined\" onClick={handleClickOpen}>\n                    {subject !== \"\" && subject !== \" \" ? \"\" : \"\"}\n                  </Button>\n                  <Dialog\n                    open={open}\n                    onClose={handleClose}\n                    aria-labelledby=\"alert-dialog-title\"\n                    aria-describedby=\"alert-dialog-description\"\n                    style={{ textAlign: \"right\", direction: \"rtl\" }}\n                  >\n                    <DialogTitle id=\"alert-dialog-title\">{\"  ?\"}</DialogTitle>\n                    <DialogContent>\n                      <DialogContentText id=\"alert-dialog-description\">  ,    </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                      <Button onClick={handleClose}></Button>\n                      <Button onClick={updatedDecline} autoFocus>\n                        \n                      </Button>\n                    </DialogActions>\n                  </Dialog>\n                  {dialogInfo}\n                  {subject !== \"\" && subject !== \" \" && (\n                    <Button size=\"medium\" onClick={updateApproval}>\n                      \n                    </Button>\n                  )}\n                </Table.HeaderCell>\n              </Table.Row>\n              \n            </Table.Footer>\n          </Table>\n        </div>\n      </Container>\n    </>\n  );\n};\n\nexport default AprprovalTable;\n","import styled from \"styled-components\";\r\nimport background from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\noverflow: hidden;\r\nz-index: -1;\r\n\r\n\r\n\r\n@media screen and (max-width: 1080px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n`;\r\n\r\nexport const ImageBg = styled.div`\r\nposition: absolute;\r\nbackground-image: url(${background});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: 1;\r\n`;","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport Store from \"../stores/Store\"\r\nimport AprprovalTable from '../components/ApprovalTable';\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction ApproveContentPage(props) {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false);\r\n    const store = new Store();\r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n\r\n    \r\n    return (\r\n      <div id=\"AddSitePageStyle\" className=\"bodyStandart\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                  <AprprovalTable store={store}/>\r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ApproveContentPage\r\n","import styled from \"styled-components\";\r\nimport './style-ScanIntrestPointInfo.css';\r\nimport img from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.bgSize ? props.bgSize+100: 100}%;\r\noverflow: hidden;\r\nz-index: -1;\r\n\r\n@media screen and (max-width: 1080px) {\r\n    height:${props => props.bgSize ? props.bgSize+100: 100}%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n    height:${props => props.bgSize ? props.bgSize+100: 100}%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:${props => props.bgSize ? props.bgSize+100: 100}%;\r\n  }\r\n`;\r\n\r\nexport const ImageBg = styled.div`\r\nposition: absolute;\r\nbackground-image: url(${img});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.bgSize ? props.bgSize+100: 100}%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: 1;\r\n`;","\r\nimport React, { useState } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './style-ScanIntrestPointInfo.css';\r\nimport {HeroBg, ImageBg,} from './ScanIntrestPointInfoElement';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport QRreader from '../QRreader';\r\n\r\nlet sizePage=0;\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n    marginBottom: theme.spacing(sizePage/10-1),\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        \r\n        },\r\n        Container: {\r\n        opacity: 0.99999,\r\n        zIndex: 50,\r\n        \r\n        },\r\n}));\r\n\r\nfunction ScanIntrestPointInfo(props) {\r\n\r\n    const [isOpen, setIsOpen]= useState(false);\r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    };\r\n\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const toggleback =  () => {\r\n        history.push(\"/\")\r\n    }\r\n\r\n    const parameters={};\r\n\r\n    return (\r\n        <>\r\n    <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir= \"rtl\">\r\n        <HeroBg size={sizePage}><ImageBg size={sizePage}/></HeroBg>\r\n        <Grid item xs={12}>\r\n            <Typography component=\"h3\" variant=\"h3\">   </Typography>                   \r\n        </Grid>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>            \r\n                <Grid container spacing={2} >\r\n                    <Grid item xs={12}>\r\n                        <QRreader isURL={true} parameters={parameters}/>\r\n                    </Grid>\r\n                </Grid >          \r\n        </div>\r\n    </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ScanIntrestPointInfo;\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport ScanIntrestPointInfo from '../components/ScanIntrestPointInfo';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport { AuthProvider } from \"../Contexts/AuthContexts\";\r\n\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction ScanIntrestPointInfos(props) {\r\n  let score=0;\r\n  let qNum=0;\r\n  let prevAnswer= null;\r\n  if(props?.location?.state!==undefined){\r\n      score = props.location.state.score;\r\n      qNum = props.location.state.qNum;\r\n      prevAnswer = props.location.state.prevAnswer;\r\n  }\r\n  // alert(\"page C: \"+qNum);\r\n\r\n  const [isOpen, setIsOpen]= useState(false)\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen)\r\n  }\r\n  return (\r\n    <div id=\"scanIntrestPointInfoPageStyle\" className=\"bodyStandartHigher\">\r\n        <StylesProvider jss={jss}>\r\n            <ThemeProvider theme={theme}>\r\n                <ScrollToTop />\r\n                <AuthProvider>\r\n                  <ScanIntrestPointInfo qNum={qNum} score={score} flag={false} prevAnswer={prevAnswer} boolStartGame={true}/> \r\n                </AuthProvider> \r\n            </ThemeProvider>\r\n        </StylesProvider>,\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default ScanIntrestPointInfos;\r\n","import styled from \"styled-components\";\r\nimport {MdKeyboardArrowRight, MdArrowForward} from 'react-icons/md';\r\nimport img from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\noverflow: hidden;\r\nopacity: 0.3;\r\nz-index: -1;\r\n\r\n@media screen and (max-width: 1080px) {\r\n  height:${props => props.size ? props.size+100: 100}%;\r\n}\r\n\r\n@media screen and (max-width: 960px){\r\n  height:${props => props.size ? props.size+100: 100}%;\r\n}\r\n\r\n@media screen and (max-width: 384px) {\r\n  height:${props => props.size ? props.size+100: 100}%;\r\n}\r\n\r\n`;\r\n\r\n\r\nexport const ImageBg = styled.div`\r\nposition: absolute;\r\nbackground-image: url(${props => props.img ? props.img : null});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: 1;\r\n`;\r\n\r\nexport const ArrowForward = styled(MdArrowForward)`\r\nmargin-left: 8px;\r\nfont-size: 20px;\r\n\r\n`;\r\n\r\nexport const ArrowRight = styled(MdKeyboardArrowRight)`\r\nmargin-left: 8px;\r\nfont-size: 20px;\r\n`;","import * as React from \"react\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport ArrowForwardIosSharpIcon from \"@mui/icons-material/ArrowForwardIosSharp\";\r\nimport MuiAccordion from \"@mui/material/Accordion\";\r\nimport MuiAccordionSummary from \"@mui/material/AccordionSummary\";\r\nimport MuiAccordionDetails from \"@mui/material/AccordionDetails\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nconst Accordion = styled((props) => <MuiAccordion disableGutters elevation={0} square {...props} />)(({ theme }) => ({\r\n  border: `1px solid ${theme.palette.divider}`,\r\n  \"&:not(:last-child)\": {\r\n    borderBottom: 0,\r\n  },\r\n  \"&:before\": {\r\n    display: \"none\",\r\n  },\r\n}));\r\n\r\nconst AccordionSummary = styled((props) => <MuiAccordionSummary expandIcon={<ArrowForwardIosSharpIcon sx={{ fontSize: \"0.9rem\" }} />} {...props} />)(({ theme }) => ({\r\n  backgroundColor: theme.palette.mode === \"dark\" ? \"rgba(255, 255, 255, .05)\" : \"rgba(0, 0, 0, .03)\",\r\n  flexDirection: \"row-reverse\",\r\n  \"& .MuiAccordionSummary-expandIconWrapper\": {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  \"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded\": {\r\n    transform: \"rotate(90deg)\",\r\n  },\r\n  \"& .MuiAccordionSummary-content\": {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst AccordionDetails = styled(MuiAccordionDetails)(({ theme }) => ({\r\n  padding: theme.spacing(2),\r\n  borderTop: \"1px solid rgba(0, 0, 0, .125)\",\r\n}));\r\n\r\nexport default function CustomizedAccordions(props) {\r\n  const [expanded, setExpanded] = React.useState(false);\r\n  const otherDescriptions = props.otherDescriptions;\r\n  const AlmaInfo = props.AlmaInfo;\r\n  console.log(\"props.AlmaInfo\", props.AlmaInfo);\r\n\r\n  const handleChange = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  const handleChangeAlma = (panel) => (event, isExpanded) => {\r\n    props.SetAlmaExpandedSize(0);\r\n    setExpanded(isExpanded ? panel : false);\r\n    changeSizeForAlmeInfo(isExpanded);\r\n  };\r\n\r\n  const changeSizeForAlmeInfo = (isExpanded) => {\r\n    if (!isExpanded) props.SetAlmaExpandedSize(0);\r\n    else props.SetAlmaExpandedSize(AlmaInfo.length * 7);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {otherDescriptions && (\r\n        <Typography component=\"h5\" variant=\"h5\">\r\n           :\r\n        </Typography>\r\n      )}\r\n      {otherDescriptions &&\r\n        otherDescriptions.map((itm, i) => {\r\n          let panelName = \"panel\" + (i + 1);\r\n          return (\r\n            <div key={i + 1 + \"A\"}>\r\n              <Accordion expanded={expanded === panelName} onChange={handleChange(panelName)}>\r\n                <AccordionSummary aria-controls={panelName + \"bh-content\"} id={panelName + \"bh-header\"}>\r\n                  <Typography>{itm.topic}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Typography>{itm.text}</Typography>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            </div>\r\n          );\r\n        })}\r\n      {AlmaInfo && (\r\n        <Typography component=\"h5\" variant=\"h5\">\r\n            :\r\n        </Typography>\r\n      )}\r\n      {AlmaInfo &&\r\n        AlmaInfo.map((itm, i) => {\r\n          let panelName = \"panel\" + (i + 1) + \"B\";\r\n          return (\r\n            <div key={i + 1 + \"B\"}>\r\n              <Accordion expanded={expanded === panelName} onChange={handleChange(panelName)}>\r\n                <AccordionSummary aria-controls={panelName + \"bh-content\"} id={panelName + \"bh-header\"}>\r\n                  <Typography>{itm.topic}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Typography>{itm.text}</Typography>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            </div>\r\n          );\r\n        })}\r\n    </>\r\n  );\r\n}\r\n","import { HeroBg, ImageBg, ArrowForward, ArrowRight } from \"./IntrestPointInfoElemments\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TravelExploreIcon from \"@mui/icons-material/TravelExplore\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport CustomizedAccordions from \"../CustomizedAccordions\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Button } from \"../ButtonElements\";\r\nimport ButtonMUI from \"@mui/material/Button\";\r\nimport imageDef from \"../../images/tree.jpeg\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function IntrestPointDataInfo({ store, treasureHuntID }) {\r\n  console.log(treasureHuntID);\r\n  const [IntrestPointInfo, SetIntrestPointInfo] = useState({});\r\n  const [almaExpandedSize, SetAlmaExpandedSize] = useState(0);\r\n  const history = useHistory();\r\n  const { siteID, intrestPointID } = useParams();\r\n  const [hover, setHover] = useState(false);\r\n\r\n  const onHover = () => {\r\n    setHover(!hover);\r\n  };\r\n\r\n  const subSiteObs = store.subSiteObs;\r\n\r\n  let isHasContent = false;\r\n\r\n  useEffect(async () => {\r\n    SetIntrestPointInfo({});\r\n    subSiteObs.initSubSite(siteID, intrestPointID).then(() => {\r\n      SetIntrestPointInfo(subSiteObs.subSiteInfo);\r\n    });\r\n  }, []);\r\n\r\n  let sizePage = 0;\r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginBottom: theme.spacing(sizePage),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      minHeight: \"100vh\",\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.primary.main,\r\n    },\r\n    Container: {\r\n      opacity: 0.99999,\r\n      zIndex: 50,\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n  let image = IntrestPointInfo?.subSiteData?.imageURL;\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"md\" dir=\"rtl\">\r\n        <HeroBg size={sizePage}>\r\n          <ImageBg size={sizePage} img={image ? image : imageDef} />\r\n        </HeroBg>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          {treasureHuntID && (\r\n            <ButtonMUI\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              onClick={() =>\r\n                history.push({\r\n                  pathname: `/treasureHunt/${treasureHuntID}`,\r\n                })\r\n              }\r\n              style={{ position: \"absolute\", left: \"20px\", marginTop: \"25px\", color: \"#4d2800\", borderRadius: \"50px\" }}\r\n            >\r\n                \r\n            </ButtonMUI>\r\n          )}\r\n\r\n          <Avatar className={classes.avatar} style={{ backgroundColor: \"#412F1D\" }}>\r\n            <TravelExploreIcon />\r\n          </Avatar>\r\n          <Typography component=\"h4\" variant=\"h4\">\r\n            {IntrestPointInfo?.subSiteData?.placeName && IntrestPointInfo?.subSiteData?.placeName}\r\n          </Typography>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <Typography component=\"h5\" variant=\"h5\">\r\n                 \r\n              </Typography>\r\n              {IntrestPointInfo?.subSiteData?.mainDescription &&\r\n                IntrestPointInfo?.subSiteData?.mainDescription.map((itm, i) => {\r\n                  return (\r\n                    <>\r\n                      <Typography key={i} variant=\"body1\" gutterBottom style={{ fontSize: \"1.2rem\" }}>\r\n                        {itm}\r\n                      </Typography>\r\n                      <br />\r\n                    </>\r\n                  );\r\n                })}\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              {(IntrestPointInfo?.subSiteData?.otherDescriptions || IntrestPointInfo?.subSiteData?.AlmaInfo) && (\r\n                <>\r\n                  <CustomizedAccordions\r\n                    otherDescriptions={IntrestPointInfo?.subSiteData?.otherDescriptions}\r\n                    AlmaInfo={IntrestPointInfo?.subSiteData?.AlmaInfo}\r\n                    SetAlmaExpandedSize={almaExpandedSize}\r\n                  />\r\n                </>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n          <br />\r\n          <Grid item xs={8} md={10}>\r\n            <Button\r\n              to={{ pathname: \"/stories\", state: { selectedSite: IntrestPointInfo?.subSiteData?.siteName } }}\r\n              onMouseEnter={onHover}\r\n              onMouseLeave={onHover}\r\n              primary=\"true\"\r\n              dark=\"false\"\r\n              smooth=\"true\" /* % smooth=\"true\" spy=\"true\"*/\r\n              duration={500}\r\n              spy=\"true\" /* % smooth=\"true\" spy=\"true\"*/\r\n              exact=\"true\"\r\n              offset={0}\r\n            >\r\n               {hover ? <ArrowForward /> : <ArrowRight />}\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={8} md={5}>\r\n            <br />\r\n            <Button\r\n              to={{ pathname: \"/treasureHuntSearch\", state: { selectedSite: IntrestPointInfo?.subSiteData?.siteName } }}\r\n              onMouseEnter={onHover}\r\n              onMouseLeave={onHover}\r\n              primary=\"true\"\r\n              dark=\"true\"\r\n              smooth=\"true\" /* % smooth=\"true\" spy=\"true\"*/\r\n              duration={500}\r\n              spy=\"true\" /* % smooth=\"true\" spy=\"true\"*/\r\n              exact=\"true\"\r\n              offset={0}\r\n            >\r\n              ' '   {hover ? <ArrowForward /> : <ArrowRight />}\r\n            </Button>\r\n          </Grid>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport ScrollToTop from \"../components/ScrollToTop\";\r\nimport IntrestPointInfo from \"../components/IntrestPointInfo\";\r\nimport { createTheme } from \"@material-ui/core/styles\";\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\n//9/11/21\r\n// import IntrestPointDataImported from '../data/IntrestPointData';\r\nimport Store from \"../stores/Store\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\",\r\n});\r\n\r\nfunction InterstPointInfoPage(props) {\r\n  let url = \"\";\r\n  if (props?.location?.state !== undefined) {\r\n    url = props.location.state.url;\r\n  }\r\n  // console.log(props.url);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n  let store = new Store();\r\n  return (\r\n    <div id=\"interstPointInfoPageStyle\">\r\n      <StylesProvider jss={jss}>\r\n        <ThemeProvider theme={theme}>\r\n          <ScrollToTop />\r\n          <IntrestPointInfo url={url} store={store} treasureHuntID={props?.location?.state?.treasureHuntID} />\r\n        </ThemeProvider>\r\n      </StylesProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InterstPointInfoPage;\r\n","import styled from \"styled-components\";\r\nimport background from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100.5%;\r\nheight:130%;\r\noverflow: hidden;\r\nz-index: -1;\r\n\r\n\r\n\r\n@media screen and (max-width: 1080px) {\r\n    height:130%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n    height:130%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:130%;\r\n  }\r\n`;\r\n\r\nexport const VideoBg = styled.video`\r\nposition: absolute;\r\nbackground-image: url(${background});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight: 100%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: -1;\r\n`;","import { HeroBg, VideoBg } from \"./AddSiteElements\";\nimport background from \"../../images/treasureBack.png\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TravelExploreIcon from \"@mui/icons-material/TravelExplore\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport firebase, { storage } from \"../../Firebase\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as Yup from \"yup\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport AvatarQuiz, { getURL } from \"../AvatarQuiz\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginBottom: theme.spacing(21),\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    color: \"rgb(0,0,0)\",\n    \"& .MuiInputLabel-root\": {\n      color: \"black\",\n    },\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: \"#3B2A1A\",\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  Container: {\n    opacity: 0.99999,\n    zIndex: 50,\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: \"#412F1D\",\n    \"&:hover\": {\n      transition: \"all 0.2s ease-in-out\",\n      background: \"#3B2A1A\",\n      color: \"#FE9A0F\",\n      fontWeight: \"bold\",\n    },\n  },\n}));\n\nexport default function AddSite() {\n  // form validation rules\n  const validationSchema = Yup.object().shape({\n    siteDescription: Yup.string().required(\"    \"),\n    siteName: Yup.string().required(\"    \"),\n    lat: Yup.number().typeError(\"      \"),\n    long: Yup.number().typeError(\"      \"),\n  });\n\n  const [latValue, setLatValue] = useState();\n  const [longValue, setLongValue] = useState();\n  const handleChangeLat = (latValue) => (event) => {\n    setLatValue(event.target.value);\n  };\n  const handleChangeLong = (longValue) => (event) => {\n    setLongValue(event.target.value);\n  };\n\n  const formOptions = { resolver: yupResolver(validationSchema), defaultValues: {} };\n  // get functions to build form with useForm() hook\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    control,\n  } = useForm(formOptions);\n\n  const onSubmit = async (data, e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    let image1 = getURL();\n\n    try {\n      firebase\n        .firestore()\n        .collection(\"Sites\")\n        .add({\n          description: data.siteDescription,\n          siteName: data.siteName,\n          geoLocation: new firebase.firestore.GeoPoint(data.lat, data.long),\n        })\n        .then((doc) => {\n          if (doc.id === null) return;\n          let uid = doc.id;\n          if (image1) {\n            imageHandler(image1, uid).then(() => {});\n          } else {\n            setLoading(false);\n            setSiteNameValue(\"\");\n            setSiteDescriptionValue(\"\");\n            setLongValue(\"\");\n            setLatValue(\"\");\n            setSuccess(\"  \");\n            history.push(\"/addSite\");\n          }\n        });\n    } catch (e) {\n      setError(\"  \");\n      setLoading(false);\n      history.push(\"/addSite\");\n      return null;\n    }\n  };\n\n  async function imageHandler(image1, id) {\n    if (image1) {\n      // add to image folder in firebase\n      const uploadTask = storage.ref(`siteImages/Sites/${id}/${image1.name}`).put(image1);\n      // Register three observers:\n      // 1. 'state_changed' observer, called any time the state changes\n      // 2. Error observer, called on failure\n      // 3. Completion observer, called on successful completion\n      uploadTask.on(\n        \"state_changed\",\n        function (snapshot) {\n          // Observe state change events such as progress, pause, and resume\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          //console.log(\"Upload is \" + progress + \"% done\");\n          // eslint-disable-next-line default-case\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\n              //console.log(\"Upload is paused\");\n              break;\n            case firebase.storage.TaskState.RUNNING: // or 'running'\n              //console.log(\"Upload is running\");\n              break;\n          }\n          return;\n        },\n        function (error) {\n          // Handle unsuccessful uploads\n          console.log(error);\n        },\n        function () {\n          // Handle successful uploads on complete\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n            try {\n              firebase\n                .firestore()\n                .collection(\"Sites\")\n                .doc(id)\n                .update({ sitePhoto: downloadURL })\n                .then(() => {\n                  //console.log(\"updated\");\n                  setSuccess(\"  \");\n                  setLoading(false);\n                  setSiteNameValue(\"\");\n                  setSiteDescriptionValue(\"\");\n                  setLongValue(\"\");\n                  setLatValue(\"\");\n                  setAvatarImage();\n                  history.push(\"/addSite\");\n                });\n            } catch (e) {\n              setError(\"   \");\n              setLoading(false);\n              history.push(\"/addSite\");\n            }\n          });\n        }\n      );\n    }\n  }\n\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const classes = useStyles();\n  const [siteNameValue, setSiteNameValue] = useState(\"\");\n  const [siteDescriptionValue, setSiteDescriptionValue] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [avatarImage, setAvatarImage] = useState();\n  const handleImageChange = (imageFile) => {\n    setAvatarImage(imageFile);\n  };\n\n  const handleChangesite = (siteDescriptionValue) => (event) => {\n    setSiteDescriptionValue(event.target.value);\n  };\n\n  const handleChangesiteName = (siteValue) => (event) => {\n    setSiteNameValue(event.target.value);\n  };\n\n  useEffect(() => {}, []);\n\n  return (\n    <>\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\n        <HeroBg>\n          <VideoBg src={background} />\n        </HeroBg>\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <TravelExploreIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n             \n          </Typography>\n          <AvatarQuiz handleChangeImage={handleImageChange} avatarImage={avatarImage} isEdiable={false} />\n          {loading && <CircularProgress sx={{ display: \"flex\", justifyContent: \"center\", color: \"#3B2A1A\" }} />}\n          <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\n            <Grid container spacing={2}>\n              {error && (\n                <Grid item xs={12}>\n                  <Alert severity=\"error\">{error}</Alert>\n                </Grid>\n              )}\n              {success && (\n                <Grid item xs={12}>\n                  <Alert severity=\"success\">{success}</Alert>\n                </Grid>\n              )}\n              <Grid item xs={12}>\n                <TextField\n                  name=\"siteName\"\n                  variant=\"outlined\"\n                  fullWidth\n                  type=\"text\"\n                  label=\" *\"\n                  {...register(\"siteName\")}\n                  className={`${errors.siteName ? \"is-invalid\" : \"\"}`}\n                  value={siteNameValue}\n                  onChange={handleChangesiteName(\"siteNameValue\")}\n                  error={errors.siteName}\n                  helperText={errors.siteName?.message}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  name=\"siteDescription\"\n                  variant=\"outlined\"\n                  multiline\n                  rows={8}\n                  fullWidth\n                  type=\"text\"\n                  label=\" *\"\n                  {...register(\"siteDescription\")}\n                  className={`${errors.siteDescription ? \"is-invalid\" : \"\"}`}\n                  value={siteDescriptionValue}\n                  onChange={handleChangesite(\"siteDescriptionValue\")}\n                  error={errors.siteDescription}\n                  helperText={errors.siteDescription?.message}\n                />\n              </Grid>\n              <Grid item xs={6}>\n                <TextField\n                  name=\"lat\"\n                  variant=\"outlined\"\n                  fullWidth\n                  type=\"text\"\n                  label=\" *\"\n                  {...register(\"lat\")}\n                  className={`${errors.lat ? \"is-invalid\" : \"\"}`}\n                  value={latValue}\n                  onChange={handleChangeLat(\"latValue\")}\n                  error={errors.lat}\n                  helperText={errors.lat?.message}\n                />\n              </Grid>\n              <Grid item xs={6}>\n                <TextField\n                  name=\"long\"\n                  variant=\"outlined\"\n                  fullWidth\n                  type=\"text\"\n                  label=\" *\"\n                  {...register(\"long\")}\n                  className={`${errors.long ? \"is-invalid\" : \"\"}`}\n                  value={longValue}\n                  onChange={handleChangeLong(\"longValue\")}\n                  error={errors.long}\n                  helperText={errors.long?.message}\n                />\n              </Grid>\n            </Grid>\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} disabled={loading}>\n              \n            </Button>\n          </form>\n        </div>\n      </Container>\n    </>\n  );\n}\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport AddSite from '../components/AddSite';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction AddSitePage(props) {\r\n    \r\n    const [isOpen, setIsOpen]= useState(false);\r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n\r\n    \r\n    return (\r\n      <div id=\"AddSitePageStyle\" className=\"bodyStandart\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                    <AddSite  /> \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddSitePage\r\n","import styled from \"styled-components\";\r\nimport background from \"../../images/treasureBack.png\"\r\n\r\nexport const HeroBg = styled.div`\r\nposition: absolute;\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100.5%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\noverflow: hidden;\r\nz-index: -1;\r\n\r\n\r\n\r\n@media screen and (max-width: 1080px) {\r\n  height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n@media screen and (max-width: 960px){\r\n  height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n\r\n  @media screen and (max-width: 384px) {\r\n    height:${props => props.size ? props.size+100: 100}%;\r\n  }\r\n`;\r\n\r\nexport const ImageBg = styled.video`\r\nposition: absolute;\r\nbackground-image: url(${background});\r\ntop:0;\r\nright:0;\r\nbottom: 0;\r\nleft:0;\r\nwidth: 100%;\r\nheight:${props => props.size ? props.size+100: 100}%;\r\nbackground-position: center;\r\nbackground-size: cover;\r\nbackground-repeat: no-repeat;\r\n-o-object-fit: cover;\r\nobject-fit: cover;\r\nz-index: -1;\r\n`;","import TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"semantic-ui-react\";\nimport Typography from \"@material-ui/core/Typography\";\n\n\n\nlet inputType = \"text\";\nlet size = 12;\nlet textExport;\nlet topicExport;\n\nlet textExportAlma;\nlet topicExportAlma;\n\nlet toExport = null;\nlet toExportAlma = null;\n\nexport function getTopicText() {\n  return checkInfo(toExport);\n}\n\nexport function getTopicTextAlma() {\n  return checkInfo(toExportAlma);\n}\n\nfunction checkInfo(info) {\n  if (info === null) return null;\n  let temp = info?.filter((option) => {\n    return option?.topic?.length > 0 && option?.text?.length > 0;\n  });\n  return temp?.length > 0 ? temp : null;\n}\n\nconst OtherDescriptions = (props) => {\n  if (props.inputType) inputType = props.inputType;\n  if (props.size) size = props.size;\n\n  const [arr, setArr] = React.useState(props.otherDescriptionsList);\n  const [arrAlma, setArrAlma] = React.useState(props.almaList);\n  const [arrTexTopic, setArrTexTopic] = React.useState([]);\n  const [arrTexTopicAlma, setArrTexTopicAlma] = React.useState([]);\n  const [arrAlmaTexTopic, setArrAlmaTexTopic] = React.useState([]);\n  const [text, setText] = useState();\n  const [topic, setTopic] = useState();\n  const [textAlma, setTextAlma] = useState();\n  const [topicAlma, setTopicAlma] = useState();\n\n  function clearAll() {\n    setArr([]);\n    setArrAlma([]);\n    setArrTexTopic([]);\n    setArrTexTopicAlma([]);\n    setArrAlmaTexTopic([]);\n    setText();\n    setTopic();\n    setTextAlma();\n    setTopicAlma();\n    toExport = null;\n    toExportAlma = null;\n  }\n\n  const handleChangeText = (event, i) => {\n    setText(event.target.value);\n    textExport = event.target.value;\n    if (!arrTexTopic[i]) {\n      arrTexTopic[i] = {\n        topic: \"\",\n        text: \"\",\n      };\n    }\n    arrTexTopic[i].text = event.target.value;\n    toExport = arrTexTopic;\n  };\n  const handleChangeTopic = (event, i) => {\n    setTopic(event.target.value);\n    topicExport = event.target.value;\n    if (!arrTexTopic[i]) {\n      arrTexTopic[i] = {\n        topic: \"\",\n        text: \"\",\n      };\n    }\n    arrTexTopic[i].topic = event.target.value;\n    toExport = arrTexTopic;\n  };\n\n  const handleChangeTextAlma = (event, i) => {\n    setTextAlma(event.target.value);\n    textExportAlma = event.target.value;\n    if (!arrTexTopicAlma[i]) {\n      arrTexTopicAlma[i] = {\n        topic: \"\",\n        text: \"\",\n      };\n    }\n    arrTexTopicAlma[i].text = event.target.value;\n    toExportAlma = arrTexTopicAlma;\n  };\n  const handleChangeTopicAlma = (event, i) => {\n    setTopicAlma(event.target.value);\n    topicExportAlma = event.target.value;\n    if (!arrTexTopicAlma[i]) {\n      arrTexTopicAlma[i] = {\n        topic: \"\",\n        text: \"\",\n      };\n    }\n    arrTexTopicAlma[i].topic = event.target.value;\n    toExportAlma = arrTexTopicAlma;\n  };\n\n\n\n  useEffect(() => {\n    clearAll();\n  }, [props.isSubmited]);\n\n  const handleAdd = (event) => {\n    setArr((arr) => [\n      ...arr,\n      <Grid item xs={12}>\n        <Grid item xs={size}>\n          <TextField\n            type=\"text\"\n            key={arr.length}\n            name={`topic`}\n            variant=\"outlined\"\n            fullWidth\n            label=\"\"\n            onChange={(e) => handleChangeTopic(e, arr.length)}\n          />\n        </Grid>\n\n        <Grid item xs={12}>\n          <TextField\n            name={`text`}\n            variant=\"outlined\"\n            multiline\n            rows={8}\n            key={arr.length}\n            fullWidth\n            type=\"text\"\n            label=\"*\"\n            onChange={(e) => handleChangeText(e, arr.length)}\n          />\n        </Grid>\n      </Grid>,\n    ]);\n  };\n\n  const handleAddAlma = (event) => {\n    setArrAlma((arrAlma) => [\n      ...arrAlma,\n      <Grid item xs={12}>\n        <Grid item xs={size}>\n          <TextField\n            type=\"text\"\n            key={arrAlma.length}\n            name={props.topic}\n            variant=\"outlined\"\n            fullWidth\n            label=\"\"\n            onChange={(e) => handleChangeTopicAlma(e, arrAlma.length)}\n          />\n        </Grid>\n\n        <Grid item xs={12}>\n          <TextField\n            name={props.text}\n            variant=\"outlined\"\n            multiline\n            rows={8}\n            key={arrAlma.length}\n            fullWidth\n            type=\"text\"\n            label=\"*\"\n            onChange={(e) => handleChangeTextAlma(e, arrAlma.length)}\n          />\n        </Grid>\n      </Grid>,\n    ]);\n  };\n\n  return (\n    <>\n      <Typography component=\"h1\" variant=\"h5\">\n             \n      </Typography>\n      {arr}\n      <Button\n        item\n        xs={12}\n        type=\"button\"\n        onClick={handleAdd}\n        variant=\"outlined\"\n        primary={true}\n      >\n            \n      </Button>\n      <Typography component=\"h1\" variant=\"h5\">\n              \n      </Typography>\n      {arrAlma}\n      <Button\n        item\n        xs={12}\n        type=\"button\"\n        onClick={handleAddAlma}\n        variant=\"outlined\"\n        primary={true}\n      >\n           \n      </Button>\n    </>\n  );\n};\n\nexport default OtherDescriptions;\n","import { HeroBg, ImageBg } from \"./AddIntrestPointElements\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TravelExploreIcon from \"@mui/icons-material/TravelExplore\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport firebase, { storage } from \"../../Firebase\";\r\nimport { useForm} from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as Yup from \"yup\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport AvatarQuiz, { getURL } from \"../AvatarQuiz\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport OtherDescriptions, { getTopicText, getTopicTextAlma } from \"./otherDescriptions\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\n\r\nexport default function AddIntrestPoint({ store }) {\r\n  const validationSchema = Yup.object().shape({\r\n    intrestPointName: Yup.string().required(\"    \"),\r\n    description: Yup.string().required(\"    \"),\r\n    lat: Yup.number().typeError(\"      \"),\r\n    long: Yup.number().typeError(\"      \"),\r\n  });\r\n\r\n  const formOptions = { resolver: yupResolver(validationSchema), defaultValues: {} };\r\n  // get functions to build form with useForm() hook\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm(formOptions);\r\n\r\n  async function imageHandler(image1, id) {\r\n    if (image1) {\r\n      // add to image folder in firebase\r\n      const uploadTask = storage.ref(`subSitesImages/SubSites/${id}/${image1.name}`).put(image1);\r\n\r\n      // Register three observers:\r\n      // 1. 'state_changed' observer, called any time the state changes\r\n      // 2. Error observer, called on failure\r\n      // 3. Completion observer, called on successful completion\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        function (snapshot) {\r\n          // Observe state change events such as progress, pause, and resume\r\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          //console.log(\"Upload is \" + progress + \"% done\");\r\n          // eslint-disable-next-line default-case\r\n          switch (snapshot.state) {\r\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n             // console.log(\"Upload is paused\");\r\n              break;\r\n            case firebase.storage.TaskState.RUNNING: // or 'running'\r\n             // console.log(\"Upload is running\");\r\n              break;\r\n          }\r\n          return;\r\n        },\r\n        function (error) {\r\n          // Handle unsuccessful uploads\r\n         // console.log(error);\r\n        },\r\n        function () {\r\n          // Handle successful uploads on complete\r\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n          uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\r\n            try {\r\n              firebase\r\n                .firestore()\r\n                .collection(\"Sites\")\r\n                .doc(selectedLocation.id)\r\n                .collection(\"subSites\")\r\n                .doc(id)\r\n                .update({ imageURL: downloadURL, barcode: `https://tracetory-4340e.firebaseapp.com/intrestPointInfoPage/${selectedLocation.id}/${id}` })\r\n                .then(() => {\r\n                //  console.log(\"updated\");\r\n                  setIntrestPointNameValue(\"\");\r\n                  setSelectedLocation();\r\n                  setSites([]);\r\n                  siteObs.initSites().then(() => {\r\n                    setSites(siteObs.SitesList);\r\n                  });\r\n                  setDescriptionValue(\"\");\r\n                  setLongValue(\"\");\r\n                  setLatValue(\"\");\r\n                  setAlmaList([]);\r\n                  setOtherDescriptionsList([]);\r\n                  setAvatarImage();\r\n                  setSuccess(\"  \");\r\n                  history.push(\"/addIntrestPoint\");\r\n                  setLoading(false);\r\n                });\r\n            } catch (e) {\r\n              setError(\" \");\r\n              history.push(\"/addIntrestPoint\");\r\n              setLoading(false);\r\n            }\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const [totalSize, setTotalSize] = useState();\r\n  const useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginBottom: theme.spacing(0),\r\n      minHeight: \"70vh\",\r\n      // height:`${totalSize}%` ,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      color: \"rgb(0,0,0)\",\r\n      \"& .MuiInputLabel-root\": {\r\n        color: \"black\",\r\n      },\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: \"#412F1D\",\r\n    },\r\n    form: {\r\n      width: \"100%\", // Fix IE 11 issue.\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    Container: {\r\n      opacity: 0.99999,\r\n      zIndex: 50,\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n      backgroundColor: \"#412F1D\",\r\n      \"&:hover\": {\r\n        transition: \"all 0.2s ease-in-out\",\r\n        background: \"#3B2A1A\",\r\n        color: \"#FE9A0F\",\r\n        fontWeight: \"bold\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  useEffect(async () => {\r\n    setTotalSize(getTopicText()?.length ? getTopicText().length + 30 : 0);\r\n  }, [getTopicText()]);\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [avatarImage, setAvatarImage] = useState();\r\n  const handleImageChange = (imageFile) => {\r\n    setAvatarImage(imageFile);\r\n  };\r\n\r\n  const [selectedLocation, setSelectedLocation] = useState();\r\n  const [descriptionValue, setDescriptionValue] = useState();\r\n  const [latValue, setLatValue] = useState();\r\n  const [longValue, setLongValue] = useState();\r\n\r\n  const handleChangeDescription = (descriptionValue) => (event) => {\r\n    setDescriptionValue(event.target.value);\r\n  };\r\n  const handleChangeLat = (latValue) => (event) => {\r\n    setLatValue(event.target.value);\r\n  };\r\n  const handleChangeLong = (longValue) => (event) => {\r\n    setLongValue(event.target.value);\r\n  };\r\n  const [intrestPointNameValue, setIntrestPointNameValue] = useState();\r\n  const handleChangeintrestPointName = (intrestPointValue) => (event) => {\r\n    setIntrestPointNameValue(event.target.value);\r\n  };\r\n  const handleChangeLocation = (event) => {\r\n    setSelectedLocation(event.target.value);\r\n  };\r\n  const [sites, setSites] = useState([]);\r\n  const siteObs = store.siteObs;\r\n  const [isSubmited, setIsSubmited] = useState(0);\r\n  useEffect(() => {\r\n    setSites([]);\r\n\r\n    siteObs.initSites().then(() => {\r\n      setSites(siteObs.SitesList);\r\n    });\r\n  }, []);\r\n\r\n  const [otherDescriptionsList, setOtherDescriptionsList] = useState([]);\r\n  const [almaList, setAlmaList] = useState([]);\r\n  // OtherDescriptions\r\n\r\n  let image1 = getURL();\r\n\r\n  const onSubmit = async (data, e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    \r\n\r\n    try {\r\n      firebase\r\n        .firestore()\r\n        .collection(\"Sites\")\r\n        .doc(selectedLocation.id)\r\n        .collection(\"subSites\")\r\n        .add({\r\n          placeName: data.intrestPointName,\r\n          AlmaInfo: getTopicTextAlma(),\r\n          barcode: \"\",\r\n          mainDescription: [data.description],\r\n          otherDescriptions: getTopicText(),\r\n          siteName: selectedLocation.siteName,\r\n          siteID: selectedLocation.id,\r\n          geoPointSite: selectedLocation.geoLocation,\r\n          geoPoint: new firebase.firestore.GeoPoint(data.lat, data.long),\r\n        })\r\n        .then((doc) => {\r\n          if (doc.id === null) return;\r\n          let uid = doc.id;\r\n          if (image1) {\r\n            imageHandler(image1, uid).then(() => {});\r\n          } else {\r\n            firebase\r\n              .firestore()\r\n              .collection(\"Sites\")\r\n              .doc(selectedLocation.id)\r\n              .collection(\"subSites\")\r\n              .doc(uid)\r\n              .update({ barcode: `https://tracetory-4340e.firebaseapp.com/intrestPointInfoPage/${selectedLocation.id}/${uid}` })\r\n              .then(() => {\r\n                setIntrestPointNameValue(\"\");\r\n                setSelectedLocation();\r\n                setSites([]);\r\n                siteObs.initSites().then(() => {\r\n                  setSites(siteObs.SitesList);\r\n                });\r\n                setDescriptionValue(\"\");\r\n                setLongValue(\"\");\r\n                setLatValue(\"\");\r\n                setIsSubmited(isSubmited + 1);\r\n                setIsSubmited(isSubmited - 1);\r\n                setAlmaList([]);\r\n                setOtherDescriptionsList([]);\r\n               // console.log(\"updated\");\r\n                setSuccess(\"  \");\r\n                history.push(\"/addIntrestPoint\");\r\n                setLoading(false);\r\n              });\r\n          }\r\n        });\r\n    } catch (e) {\r\n      // setLoading(false);\r\n     // console.log(\"the error\", e);\r\n      history.push(\"/addIntrestPoint\");\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\r\n        <HeroBg size={0}>\r\n          <ImageBg size={0} />\r\n        </HeroBg>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <TravelExploreIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n              \r\n          </Typography>\r\n          <AvatarQuiz handleChangeImage={handleImageChange} avatarImage={avatarImage} isEdiable={false} />\r\n          {loading && <CircularProgress sx={{ display: \"flex\", justifyContent: \"center\", color: \"#3B2A1A\" }} />}\r\n          <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\r\n            <Grid container spacing={2}>\r\n              {error && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"error\">{error}</Alert>\r\n                </Grid>\r\n              )}\r\n              {success && (\r\n                <Grid item xs={12}>\r\n                  <Alert severity=\"success\">{success}</Alert>\r\n                </Grid>\r\n              )}\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  name=\"locationName\"\r\n                  id=\"outlined-select-location\"\r\n                  select\r\n                  label=\" *\"\r\n                  value={selectedLocation}\r\n                  onChange={handleChangeLocation}\r\n                  variant=\"outlined\"\r\n                  helperText=\" *\"\r\n                  error={errors.selectedLocation}\r\n                  helperText={errors.selectedLocation?.message}\r\n                >\r\n                  {sites &&\r\n                    sites.map((option) => (\r\n                      <MenuItem key={option.id} value={option} dir=\"rlt\" style={{ justifyContent: \"flex-end\" }}>\r\n                        {option.siteName}\r\n                      </MenuItem>\r\n                    ))}\r\n                </TextField>\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"intrestPointName\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\"  *\"\r\n                  {...register(\"intrestPointName\")}\r\n                  className={`${errors.intrestPointName ? \"is-invalid\" : \"\"}`}\r\n                  value={intrestPointNameValue}\r\n                  onChange={handleChangeintrestPointName(\"intrestPointNameValue\")}\r\n                  error={errors.intrestPointName}\r\n                  helperText={errors.intrestPointName?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  name=\"description\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  rows={8}\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\" *\"\r\n                  {...register(\"description\")}\r\n                  className={`${errors.description ? \"is-invalid\" : \"\"}`}\r\n                  value={descriptionValue}\r\n                  onChange={handleChangeDescription(\"descriptionValue\")}\r\n                  error={errors.description}\r\n                  helperText={errors.description?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  name=\"lat\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\" *\"\r\n                  {...register(\"lat\")}\r\n                  className={`${errors.lat ? \"is-invalid\" : \"\"}`}\r\n                  value={latValue}\r\n                  onChange={handleChangeLat(\"latValue\")}\r\n                  error={errors.lat}\r\n                  helperText={errors.lat?.message}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <TextField\r\n                  name=\"long\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  type=\"text\"\r\n                  label=\" *\"\r\n                  {...register(\"long\")}\r\n                  className={`${errors.long ? \"is-invalid\" : \"\"}`}\r\n                  value={longValue}\r\n                  onChange={handleChangeLong(\"longValue\")}\r\n                  error={errors.long}\r\n                  helperText={errors.long?.message}\r\n                />\r\n              </Grid>\r\n              <Grid container spacing={2}>\r\n                <OtherDescriptions\r\n                  register={register}\r\n                  // register={register}\r\n                  topic={\"topic\"}\r\n                  text={\"text\"}\r\n                  otherDescriptionsList={otherDescriptionsList}\r\n                  almaList={almaList}\r\n                  isSubmited={isSubmited}\r\n                  //  register={register}\r\n                  errorTopic={errors.topic}\r\n                  errorText={errors.text}\r\n                  errors={errors}\r\n                  helperTextTopic={errors.topic?.message}\r\n                  helperTextText={errors.text?.message}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" className={classes.submit} disabled={loading}>\r\n              \r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport AddIntrestPoint from '../components/AddIntestPoint';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport Store from \"../stores/Store\"\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction AddIntrestPointPage(props) {\r\n  const store = new Store();\r\n    const [isOpen, setIsOpen]= useState(false);\r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n\r\n    \r\n    return (\r\n      <div id=\"AddIntrestPointPageStyle\" className=\"bodyStandart\">\r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                    <AddIntrestPoint  store = {store} /> \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddIntrestPointPage\r\n","import styled from 'styled-components';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport const FooterContainer = styled.footer`\r\n//background-color: #393e46; \r\nbackground-color: #3B2A1A; \r\nposition: relative;\r\nheight: 57px;\r\nmargin: 0 auto;\r\nbottom: 0;\r\n\r\n@media screen and (max-width: 820px){\r\n    height: 76px;\r\n \r\n }\r\n \r\n`;\r\nexport const FooterWrap = styled.div`\r\n//padding: 10px 5px;\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: center;\r\nalign-items: 1100px;\r\nmargin: 0 auto;\r\n`;\r\n\r\nexport const FooterLinkContainer = styled.div`\r\ndisplay: flex;\r\njustify-content: center;\r\n\r\n@media screen and (max-width: 820px){\r\n    padding-top: 32px;\r\n}\r\n`;\r\n\r\nexport const FooterLinkWrapper = styled.div`\r\ndisplay: flex;\r\n\r\n@media screen and (max-width: 820px){\r\n    flex-direction: column;\r\n}\r\n`;\r\n\r\nexport const FooterLinkItems = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nalign-items: flex-start;\r\nmargin: 10px;\r\ntext-align: left;\r\nwidth: 160px;\r\nbox-sizing: border-box;\r\ncolor: #fff;\r\n\r\n@media screen and (max-width: 420px){\r\n    margin:0;\r\n    padding: 10px;\r\n    width: 100%;\r\n}\r\n`;\r\n\r\nexport const FooterLinkTitle= styled.h1`\r\nfont-size: 14px;\r\n// margin-bottom: 16px;\r\n\r\n`;\r\n\r\nexport const FooterLink= styled(Link)`\r\ncolor: #fff;\r\ntext-direction: none;\r\n margin-bottom: 1.6rem;\r\nfont-size: 14px;\r\n\r\n&:hover{\r\n    color: #B4B897;\r\n    transition: 0.3 ease-out;\r\n}\r\n\r\n`;\r\n\r\nexport const SocialMedia = styled.section`\r\nmax-width: 10000px;\r\nwidth: 100%;\r\n\r\n\r\n`;\r\n\r\nexport const SocialMediaWrap = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nmax-width: 1100px;\r\nmargin: 1px auto 0 auto;\r\n\r\n@media screen and (max-width: 820px){\r\n   flex-direction: column;\r\n\r\n}\r\n\r\n`;\r\n\r\nexport const SocialLogo = styled(Link)`\r\ncolor: #fff;\r\njustify-self: start;\r\ncursor: pointer;\r\nfont:roboto slab;\r\ntext-decoration: none;\r\nfont-size: 1.5rem;\r\nalign-items: center;\r\n// margin-bottom: 16px;\r\nfont-weight: bold; \r\n`;\r\n\r\nexport const WebsiteRights = styled.small`\r\ncolor: #fff;\r\n// margin-bottom: 16px;\r\n`;\r\n\r\nexport const SocialIcons = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nwidth: 240px;\r\n\r\n`;\r\n\r\nexport const SocialIconLink = styled.a`\r\ncolor: #fff;\r\nfont-size: 24px;\r\n`;\r\n","import React from 'react';\r\nimport { FaFacebook, FaInstagram, FaYoutube } from 'react-icons/fa';\r\nimport { FooterContainer,\r\n    FooterWrap,\r\n    SocialMedia,\r\n    SocialMediaWrap,\r\n    SocialIcons,\r\n    WebsiteRights,\r\n    SocialIconLink,\r\n    SocialLogo\r\n} from './FooterElements';\r\n\r\nconst Footer = () => {\r\n    return (\r\n    \r\n        <FooterContainer>\r\n          <FooterWrap> \r\n              <SocialMedia>\r\n                  <SocialMediaWrap>\r\n                      <SocialLogo to='./'> TraStory </SocialLogo>\r\n                       <WebsiteRights>   {new Date().getFullYear()}      </WebsiteRights>\r\n                       <SocialIcons>\r\n                           <SocialIconLink herf='/' target='_blank' aria-label= 'Fackbook'> \r\n                       <FaFacebook/>\r\n                      </SocialIconLink>\r\n                      <SocialIconLink herf='/' target='_blank' aria-label= 'Instagram'> \r\n                       <FaInstagram/>\r\n                      </SocialIconLink>\r\n                      <SocialIconLink herf='/' target='_blank' aaria-label= 'Youtube'> \r\n                       <FaYoutube/>\r\n                      </SocialIconLink>\r\n                       </SocialIcons>\r\n                  </SocialMediaWrap>\r\n              </SocialMedia>\r\n          </FooterWrap> \r\n        </FooterContainer>\r\n        \r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n\r\n\r\nexport default function ProfiePic(props) {  \r\n\r\n  const size= 52;\r\n  const url= props.userURL;\r\n\r\n  const useStyles = makeStyles(theme => ({\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      width: size,\r\n      height: size,\r\n      background:\"#C8B394\"\r\n    },\r\n\r\n  }));\r\n \r\n  const classes = useStyles();\r\n  const style = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    background: '#412F1D',\r\n    borderRadius: '50px' \r\n  };  \r\n\r\n  return (\r\n    <div style={style}>       \r\n      {url ? (\r\n        <Avatar id=\"pic1Sub\" className={classes.avatar} src={url} alt=\"Uploaded images\" />\r\n      ) : (\r\n        <Avatar className={classes.avatar} src=\"/broken-image.jpg\" />\r\n      )}\r\n    </div>\r\n  );\r\n}","export default \"data:image/png;base64,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\"","import styled from \"styled-components\";\nimport { Link as LinkR } from \"react-router-dom\";\nimport { Link as LinkS } from \"react-scroll\";\n\nexport const Nav = styled.nav`\n  background: ${({ scrollNav }) => (scrollNav ? \"#C8B394\" : \"#C8B394\")};\n  height: 95px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.3rem;\n  position: sticky;\n  top: 0;\n  z-index: 19;\n  direction: rtl;\n  @media screen and (max-width: 960px) {\n    transition: 0.8s all ease;\n  }\n`;\n\nexport const NavbarContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  height: 82px;\n  z-index: 1;\n  width: 100%;\n  padding: 0 24px;\n  max-width: 1500px;\n`;\n\nexport const NavLogo = styled(LinkR)`\n  color: #fff;\n  justify-self: flex-start;\n  cursor: pointer;\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  margin-left: 24px;\n  font-weight: bold;\n  text-decoration: none;\n`;\n\nexport const MobileIcon = styled.div`\n  display: none;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transition: translate(-100%, 60%);\n    font-size: 1.8rem;\n    cursor: pointer;\n    color: #fff;\n  }\n`;\n\nexport const NavMenu = styled.ul`\n  display: flex;\n  align-items: center;\n  list-style: none;\n  text-align: center;\n  margin-right: -22px;\n\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n`;\n\nexport const NavItem = styled.li`\n  height: 80px;\n`;\nexport const NavLinks = styled(LinkR)`\n  color: #fff;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  font-weight: bold;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    color: #3b2a1a;\n  }\n`;\n\nexport const NavBtn = styled.nav`\n  display: flex;\n  align-items: center;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n`;\n\nexport const NavBtnLink = styled(LinkR)`\n  border-radius: 90px;\n  white-space: nowrap;\n  font-size: 16px;\n  display: flex;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #3b2a1a;\n    color: #a12568;\n  }\n`;\n\nexport const LogParaphP = styled.p`\n  border-radius: 90px;\n  position: relative;\n  buttom: 16px;\n  white-space: nowrap;\n  font-size: 16px;\n  font-weight: bold;\n  display: flex;\n  margin-bottom: 14px;\n  outline: none;\n  border: none;\n  z-index: 10;\n  cursor: pointer;\n  text-decoration: none;\n`;\n\n/* Dropdown Menu */\n\n// export const dropdown = styled.dropdown`\n//   position: absolute;\n//   top: 58px;\n//   width: 300px;\n//   transform: translateX(-45%);\n//   background-color: var(--bg);\n//   border: var(--border);\n//   border-radius: var(--border-radius);\n//   padding: 1rem;\n//   overflow: hidden;\n//   transition: height var(--speed) ease;\n//   `;\n\n//   export const menu= styled.menu`\n//   width: 100%;\n// `;\n\n// export const menuItem = styled.menuitem`\n//   height: 50px;\n//   display: flex;\n//   align-items: center;\n//   border-radius: var(--border-radius);\n//   transition: background var(--speed);\n//   padding: 0.5rem;\n\n//   &:hover{\n//     background-color: #525357;\n// }\n\n// `;\n\n// export const iconButton =styled.iconButton`\n//   margin-right: 0.5rem;\n\n//   &:hover{\n//     transition: all 0.2s ease-in-out;\n//     background: #fff;\n//     color: #A12568;\n// }\n// `;\n","import React, { useState, useEffect } from \"react\";\nimport { FaBars } from \"react-icons/fa\";\nimport { animateScroll as scroll } from \"react-scroll\";\nimport ProfiePic from \"../ProfiePic\";\nimport { useAuth } from \"../../Contexts/AuthContexts\";\nimport { useHistory } from \"react-router-dom\";\nimport myLogo from \"../../images/logo.png\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { NavDropdown } from \"react-bootstrap\";\nimport Button from \"@mui/material/Button\";\nimport { Nav, NavbarContainer, NavLogo, MobileIcon, NavMenu, NavItem, NavLinks, NavBtnLink, NavBtn, LogParaphP } from \"./NavbarElements\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport { create } from \"jss\";\nimport rtl from \"jss-rtl\";\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\n\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\nconst theme = createTheme({\n  direction: \"rtl\",\n});\nconst useStyles = makeStyles((theme) => ({\n  TheButton: {\n    color: \"#ffffff\",\n    fontSize: \"20px\",\n    transition: \"all 0.2s ease-in-out\",\n    fontWeight: \"bold\",\n    fill: \"#ffffff\",\n    icon: \"#ffffff\",\n  },\n  Item: {\n    color: \"#3B2A1A\",\n    fontSize: \"17px\",\n    transition: \"all 0.4s ease-in-out\",\n    fill: \"#ffffff\",\n    icon: \"#ffffff\",\n    justifyContent: \"flex-start\",\n    direction: \"rtl\",\n  },\n}));\n\nconst Navbar = (props) => {\n  const [scrollNav, setScrollNav] = useState(false);\n  const classes = useStyles();\n  const history = useHistory();\n\n  const changeNav = () => {\n    if (window.scrollY >= 80) {\n      setScrollNav(true);\n    } else {\n      setScrollNav(false);\n    }\n  };\n\n  const toggleHome = () => {\n    scroll.scrollToTop();\n  };\n  const { currentUser, logout } = useAuth();\n  const [user, setUser] = useState({ type: null });\n\n  let logParaph = \"\";\n  if (user) {\n    logParaph = \" \" + user.firstName;\n  }\n\n  useEffect(() => {\n    setUser(\n      !props.user\n        ? null\n        : { email: props.user?.email, firstName: props.user?.firstName, lastName: props.user?.lastName, ProfieImgURL: props.user?.ProfieImgURL, type: props.user?.type }\n    );\n    window.addEventListener(\"scroll\", changeNav);\n  }, [props.user]);\n\n  async function logoutUser(e) {\n    e.preventDefault();\n    try {\n      if (currentUser) {\n        await logout().then(() => {\n          history.push(\"/\");\n        });\n      } else window.location.reload(false);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  }\n\n  return (\n    <>\n      <Nav scrollNav={scrollNav}>\n        <NavbarContainer>\n          <NavLogo to=\"/\" onClick={toggleHome}>\n            <img src={myLogo} />\n          </NavLogo>\n\n          <MobileIcon onClick={props.toggle}>\n            <FaBars />\n          </MobileIcon>\n\n          <NavMenu>\n            <NavItem>\n              <NavLinks to=\"/stories\" smooth=\"true\" duration={500} spy=\"true\" exact=\"true\" offset={-80}>\n                {\" \"}\n                {\" \"}\n              </NavLinks>\n            </NavItem>\n\n            <NavItem>\n              <NavLinks to=\"/treasureHuntSearch\" smooth=\"true\" duration={500} spy=\"true\" exact=\"true\" offset={-80}>\n                {\" \"}\n                  {\" \"}\n              </NavLinks>\n            </NavItem>\n\n            {(user?.type === \"admin\" || user?.type === \"creator\" || user?.type === \"registered\") && (\n              <NavItem>\n                <NavLinks to=\"/activity\" smooth=\"true\" duration={500} spy=\"true\" exact=\"true\" offset={-80}>\n                  {\" \"}\n                   {\" \"}\n                </NavLinks>\n              </NavItem>\n            )}\n            <NavItem>\n              <NavLinks to=\"/almaInfo\" smooth=\"true\" duration={500} spy=\"true\" exact=\"true\" offset={-80}>\n                {\" \"}\n                {\" \"}\n              </NavLinks>\n            </NavItem>\n            {user?.type === \"admin\" && (\n              <NavItem>\n                <NavLinks to=\"/approveContent\" smooth=\"true\" duration={500} spy=\"true\" exact=\"true\" offset={-80}>\n                  {\" \"}\n                   {\" \"}\n                </NavLinks>\n              </NavItem>\n            )}\n            {(user?.type === \"admin\" || user?.type === \"creator\") && (\n              <NavDropdown title={<span className={classes.TheButton}> </span>}>\n                <NavDropdown.Item className={classes.Item} href=\"/addStory\">\n                  {\" \"}\n                    {\" \"}\n                </NavDropdown.Item>\n                <NavDropdown.Item className={classes.Item} href=\"/addQuiz\">\n                  {\" \"}\n                     {\" \"}\n                </NavDropdown.Item>\n                {user?.type === \"admin\" && (\n                  <NavDropdown.Item className={classes.Item} href=\"/addSite\">\n                    {\" \"}\n                      \n                  </NavDropdown.Item>\n                )}\n                {user?.type === \"admin\" && (\n                  <NavDropdown.Item className={classes.Item} href=\"/addIntrestPoint\">\n                    {\" \"}\n                       \n                  </NavDropdown.Item>\n                )}\n                <NavDropdown.Item className={classes.Item} href=\"/addClue\">\n                  {\" \"}\n                    \n                </NavDropdown.Item>\n                <NavDropdown.Item className={classes.Item} href=\"/addQuestion\">\n                  {\" \"}\n                    {\" \"}\n                </NavDropdown.Item>\n              </NavDropdown>\n            )}\n          </NavMenu>\n\n          {user?.type === \"admin\" || user?.type === \"creator\" || user?.type === \"registered\" ? (\n            <>\n              <div>\n                <NavBtnLink to=\"/activity\">\n                  <ProfiePic sizeAvatar=\"30px\" userURL={user?.ProfieImgURL} />\n                </NavBtnLink>\n                <LogParaphP style={{ color: \"#3B2A1A\", fontSize: \"17px\" }}>{logParaph}</LogParaphP>\n              </div>\n              <Button variant=\"text\" onClick={logoutUser} style={{ color: \"#3B2A1A\" }}>\n                \n              </Button>\n            </>\n          ) : (\n            <>\n              <div>\n                <NavBtnLink to=\"/signin\">\n                  <ProfiePic sizeAvatar=\"30px\" userURL={user?.ProfieImgURL} />\n                </NavBtnLink>\n\n                <LogParaphP style={{ color: \"#3B2A1A\", fontSize: \"17px\" }}></LogParaphP>\n              </div>\n            </>\n          )}\n        </NavbarContainer>\n      </Nav>\n    </>\n  );\n};\nexport default Navbar;\n","import styled from \"styled-components\";\nimport { Link as LinkR } from \"react-router-dom\";\n// import { Link as LinkS } from 'react-scroll';\nimport { FaTimes } from \"react-icons/fa\";\nimport background from \"../../images/treasureBack.png\";\n\nexport const SidebarContainer = styled.aside`\n  position: fixed;\n  z-index: 999;\n  height: 100%;\n  width: 100%;\n  background-image: url(${background});\n  // background: #3B2A1A;\n  display: grid;\n  align-items: center;\n  top: 0;\n  left: 0;\n  transition: all 0.3s ease-in-out;\n  opacity: ${({ isOpen }) => (isOpen ? \"150%\" : \"0\")};\n  top: ${({ isOpen }) => (isOpen ? \"0\" : \"-150%\")};\n  // top: 0;\n`;\n\nexport const CloseIcon = styled(FaTimes)`\n  color: #3b2a1a;\n`;\n\nexport const Icon = styled.div`\n  position: absolute;\n  top: 1.2rem;\n  right: 1.5rem;\n  background: transparent;\n  font-size: 2rem;\n  cursor: pointer;\n  outline: none;\n`;\n\nexport const SidebarWrapper = styled.div`\n  color: #fff;\n`;\n\nexport const SidebarMenu = styled.ul`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: repeat(6, 80px);\n  text-align: center;\n\n  @media screen and (max-width: 413) {\n    grid-template-rows: repeat(6, 60px);\n  }\n`;\n\nexport const SidebarLink = styled(LinkR)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  text-decoration: none;\n  list-style: none;\n  transition: 0.2s ease-in-out;\n  text-decoration: none;\n  color: #734d26;\n  cursor: pointer;\n\n  &:hover {\n    color: #c8b394;\n    transition: 0.2s ease-in-out;\n  }\n`;\n\nexport const SidebarBtnWrap = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const SidebarRoute = styled(LinkR)`\n  border-radius: 50px;\n  background: #eae2b6;\n  white-space: nowrap;\n  padding: 16px 64px;\n  color: #010606;\n  font-size: 16px;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #7f8b52;\n    color: #c8b394;\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { SidebarBtnWrap, SidebarContainer, SidebarLink, Icon, CloseIcon, SidebarWrapper, SidebarMenu, SidebarRoute } from \"./SidebarElements\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../../Contexts/AuthContexts\";\nconst Sidebar = (props) => {\n  const [user, setUser] = useState();\n  const { currentUser, logout } = useAuth();\n  const history = useHistory();\n\n  async function logoutUser(e) {\n    e.preventDefault();\n    try {\n      if (currentUser) {\n        await logout().then(() => {\n          history.push(\"/\");\n        });\n      } else window.location.reload(false);\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  }\n\n  useEffect(() => {\n    setUser(\n      !user\n        ? { email: \"\", firstName: \"\", lastName: \"\", ProfieImgURL: null }\n        : { email: props.user?.email, firstName: props.user?.firstName, lastName: props.user?.lastName, ProfieImgURL: props.user?.ProfieImgURL }\n    );\n\n    console.log(\"type sidebar\", props.user?.type);\n  }, [props.user]);\n\n  return (\n    <SidebarContainer isOpen={props.isOpen} onClick={props.toggle}>\n      <Icon onClick={props.toggle}>\n        <CloseIcon></CloseIcon>\n      </Icon>\n      <SidebarWrapper>\n        <SidebarMenu>\n          <SidebarLink to=\"/almaInfo\" onClick={props.toggle}>\n            {\" \"}\n            {\" \"}\n          </SidebarLink>\n          <SidebarLink to=\"/treasureHuntSearch\" onClick={props.toggle}>\n            {\" \"}\n              \n          </SidebarLink>\n          <SidebarLink to=\"/stories\" onClick={props.toggle}>\n            {\" \"}\n            {\" \"}\n          </SidebarLink>\n          {(props.user?.type === \"registered\" ) && (\n            <>\n              <SidebarLink to=\"/activity\" onClick={props.toggle}>\n              {\" \"}\n               {\" \"}\n              </SidebarLink>\n            </>\n          )}\n          {(props.user?.type === \"admin\" || props.user?.type === \"creator\") && (\n            <>\n              <SidebarLink to=\"/activity\" onClick={props.toggle}>\n              {\" \"}\n               {\" \"}\n              </SidebarLink>\n              <SidebarLink to=\"/addStory\" onClick={props.toggle}>\n                {\" \"}\n                 {\" \"}\n              </SidebarLink>\n              <SidebarLink to=\"/addQuiz\" onClick={props.toggle}>\n                {\" \"}\n                  {\" \"}\n              </SidebarLink>\n              <SidebarLink to=\"/addClue\" onClick={props.toggle}>\n                {\" \"}\n                 {\" \"}\n              </SidebarLink>\n              <SidebarLink to=\"/addQuestion\" onClick={props.toggle}>\n                {\" \"}\n                 {\" \"}\n              </SidebarLink>\n            </>\n          )}\n          {props.user?.type === \"admin\" && (\n            <>\n              <SidebarLink to=\"/addSite\" onClick={props.toggle}>\n                {\" \"}\n                 {\" \"}\n              </SidebarLink>\n              <SidebarLink to=\"/addIntrestPoint\" onClick={props.toggle}>\n                {\" \"}\n                  {\" \"}\n              </SidebarLink>\n              <SidebarLink to=\"/approveContent\" onClick={props.toggle}>\n                {\" \"}\n                 {\" \"}\n              </SidebarLink>\n            </>\n          )}\n        </SidebarMenu>\n        {(props.user?.type === \"admin\" || props.user?.type === \"creator\" || props.user?.type === \"registered\") && (\n          <Button onClick={logoutUser} style={{ color: \"#fff\", fontSize: \"18px\" }}>\n            \n          </Button>\n        )}\n      </SidebarWrapper>\n    </SidebarContainer>\n  );\n};\nexport default Sidebar;\n","import React, { useState, useEffect } from \"react\";\r\nimport firebase from \"../Firebase\";\r\nimport { observable, action } from \"mobx\";\r\n\r\nconst getUser = async (userObs, uid) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"users\").doc(uid);\r\n    const userData = await response.get();\r\n\r\n    let userSignIn = userData.data();\r\n    userSignIn.id = uid;\r\n    console.log(userSignIn);\r\n    await getUserPlayedGames(uid).then((playedGamesData) => {\r\n      userSignIn.playedGames = playedGamesData;\r\n    });\r\n    await getUserlikedStories(uid).then((storyLikesData) => {\r\n      userSignIn.storyLikes = storyLikesData;\r\n    });\r\n    await getUserlikedGames(uid).then((likedGamesData) => {\r\n      userSignIn.likedGames = likedGamesData;\r\n    });\r\n\r\n    userObs.setUser(userSignIn);\r\n  } catch (e) {\r\n    console.log(\"error_fetchIntrestPoint\", e);\r\n    return;\r\n  }\r\n};\r\n\r\nconst getNewLikes = async (userObs, user) => {\r\n  try {\r\n    await getUserlikedStories(user.id).then((storyLikesData) => {\r\n      user.storyLikes = storyLikesData;\r\n    });\r\n    await getUserlikedGames(user.id).then((likedGamesData) => {\r\n      user.likedGames = likedGamesData;\r\n    });\r\n\r\n    userObs.setUser(user);\r\n  } catch (e) {\r\n    console.log(\"error_fetchIntrestPoint\", e);\r\n    return;\r\n  }\r\n};\r\n\r\nconst getUserlikedStories = async (uid) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"users\").doc(uid).collection(\"LikedStories\");\r\n    const storyData = await response.get();\r\n    let userSignInStoriesData = {};\r\n    console.log(\"LikedStories\", userSignInStoriesData);\r\n    storyData.docs.forEach((item) => {\r\n      userSignInStoriesData[`${item.id}`] = item.data();\r\n    });\r\n    console.log(\"LikedStories\", userSignInStoriesData);\r\n    return userSignInStoriesData;\r\n  } catch (e) {\r\n    console.log(\"error_fetchIntrestPoint\", e);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst getUserlikedGames = async (uid) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"users\").doc(uid).collection(\"LikedGames\");\r\n\r\n    const gamesLikesData = await response.get();\r\n    let userSignInLikedGamesData = {};\r\n    console.log(\"LikedGames\", userSignInLikedGamesData);\r\n    gamesLikesData.docs.forEach((item) => {\r\n      userSignInLikedGamesData[`${item.id}`] = item.data();\r\n    });\r\n    console.log(\"LikedGames\", userSignInLikedGamesData);\r\n    return userSignInLikedGamesData;\r\n  } catch (e) {\r\n    console.log(\"error_fetchIntrestPoint\", e);\r\n    return null;\r\n  }\r\n};\r\n\r\n// const getUserLastGame= async(uid)=>{\r\n//   try{\r\n//     const response=firebase.firestore().collection('users').doc(uid).collection('lastPlayedGame');\r\n//     const gameData=await response.get();\r\n//     let playedGamesData;\r\n//     gameData.docs.forEach(item=>{\r\n//       playedGamesData=item.data();\r\n//       playedGamesData.id=item.id;\r\n//     })\r\n//     return playedGamesData;\r\n//   }\r\n//   catch(e){\r\n//     console.log(\"error_fetchIntrestPoint\",e);\r\n//     return null;\r\n//   }\r\n// }\r\n\r\nconst getUserPlayedGames = async (uid) => {\r\n  try {\r\n    const response = firebase.firestore().collection(\"users\").doc(uid).collection(\"playedGames\");\r\n    const gameData = await response.get();\r\n    let userSignInGamesData = {};\r\n    console.log(\"playedGames\", userSignInGamesData);\r\n    gameData.docs.forEach((item) => {\r\n      userSignInGamesData[`${item.id}`] = item.data();\r\n      userSignInGamesData[`${item.id}`].GameAdvance = parseInt((userSignInGamesData[`${item.id}`].qNum / userSignInGamesData[`${item.id}`].numOfQuestions) * 100);\r\n    });\r\n    console.log(\"playedGamesData\", userSignInGamesData);\r\n    return userSignInGamesData;\r\n  } catch (e) {\r\n    console.log(\"error_fetchIntrestPoint\", e);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst getUserTreasureHunt = async (userObs, userID, treasureHuntID) => {};\r\n\r\nconst getTreasureHunt = async (inTreasureHuntObs, treasureHuntID) => {\r\n  try {\r\n    // let userSignIn={siteData:null, subSiteData:null};\r\n    const response = firebase.firestore().collection(\"TreasureHunt\").doc(treasureHuntID);\r\n    const treasureHuntData = await response.get();\r\n\r\n    let treasureHunt = treasureHuntData.data();\r\n    if (treasureHunt) {\r\n      treasureHunt.id = treasureHuntID;\r\n      // console.log(treasureHunt);\r\n      inTreasureHuntObs.setTreasureHunt(treasureHunt);\r\n    }\r\n  } catch (e) {\r\n    console.log(\"error_fetchTreasureHunt\", e);\r\n    return;\r\n  }\r\n};\r\n\r\n//Store\r\nclass UserInfoStore {\r\n  userObs = observable({\r\n    user: null,\r\n    signInUser: action(async function (currentUser) {\r\n      if (!this.user) {\r\n        await getUser(this, currentUser.uid).then(() => {\r\n          console.log(\"get info from firebase user\", this.user);\r\n          return this.user;\r\n        });\r\n      } else {\r\n        console.log(\"Already exsit user\", this.user);\r\n        return this.user;\r\n      }\r\n    }),\r\n\r\n    setUser: action(function (userSignIn) {\r\n      return (this.user = userSignIn);\r\n    }),\r\n\r\n    updateUserParameters: action(function (parameters) {\r\n      this.user.playedGames[`${parameters.treasureHuntID}`] = {\r\n        qNum: parameters.qnum,\r\n        boolStartGame: parameters.boolStartGame,\r\n        flag: true,\r\n        prevAnswer: parameters.prevAnswer,\r\n        score: parameters.score,\r\n      };\r\n    }),\r\n\r\n    get userInfo() {\r\n      return this.user;\r\n    },\r\n\r\n    //TH played Methods\r\n    setUserGameProgress: action(async function (user, data, totalQuestions, boolStartGame, treasureHuntID) {\r\n      console.log(\"totalQuestions19.2\", data);\r\n      user.playedGames[`${treasureHuntID}`] = { qNum: 0, numOfQuestions: data.gameList.length, quizName: data?.quizName, boolStartGame: boolStartGame, score: 0, GameAdvance: 0 };\r\n      // console.log(\"numOfQuestions\",user.lastGameData.numOfQuestions);\r\n      this.user = user;\r\n      try {\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"users\")\r\n          .doc(user.id)\r\n          .collection(\"playedGames\")\r\n          .doc(treasureHuntID)\r\n          .set({\r\n            qNum: 0,\r\n            numOfQuestions: user.playedGames[`${treasureHuntID}`].numOfQuestions,\r\n            quizName: data.quizName,\r\n            boolStartGame: boolStartGame,\r\n            score: 0,\r\n          });\r\n      } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n      }\r\n      return this.user;\r\n    }),\r\n\r\n    updateUserGameProgress: action(async function (user, parameters, data, totalQuestions, boolStartGame) {\r\n      console.log(\"updateuser\", user);\r\n      console.log(\"updateuser parameters\", parameters);\r\n      console.log(\"19.1\", parseInt(((parameters.qNum + 1) * 100) / data.gameList.length));\r\n      user.playedGames[`${parameters.treasureHuntID}`] = {\r\n        qNum: parameters.qNum + 1,\r\n        numOfQuestions: data.gameList.length,\r\n        quizName: data?.quizName,\r\n        boolStartGame: boolStartGame,\r\n        prevAnswer: parameters.prevAnswer,\r\n        score: parameters.score,\r\n        GameAdvance: parseInt(((parameters.qNum + 1) / data.gameList.length) * 100),\r\n      };\r\n      this.user = user;\r\n      try {\r\n        console.log(parameters.qNum);\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"users\")\r\n          .doc(user.id)\r\n          .collection(\"playedGames\")\r\n          .doc(parameters.treasureHuntID)\r\n          .update({\r\n            qNum: parameters.qNum + 1,\r\n            score: parameters.score,\r\n            prevAnswer: parameters.prevAnswer,\r\n          });\r\n      } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n      }\r\n      return this.user;\r\n    }),\r\n\r\n    getUserTreasureHunt: action(async function (userID, treasureHuntID) {\r\n      if (!this.user) {\r\n        await getUserTreasureHunt(this, userID, treasureHuntID).then(() => {\r\n          console.log(\"get info from firebase TreasureHunt\", this.user);\r\n          return this.user;\r\n        });\r\n      } else {\r\n        console.log(\"Already exsit TreasureHunt\", this.user);\r\n        return this.user;\r\n      }\r\n    }),\r\n\r\n    //TH Cards Methods\r\n    updatesLikesTH: action(async function (user, thID, likesnum, addOrRemove) {\r\n      try {\r\n        const batch = firebase.firestore().batch();\r\n        console.log(user.id);\r\n        console.log(addOrRemove);\r\n        console.log(likesnum);\r\n        const sfRef = firebase.firestore().collection(\"TreasureHunt\").doc(thID).collection(\"gameLikes\").doc(user.id);\r\n        const sfRef1 = firebase.firestore().collection(\"TreasureHunt\").doc(thID);\r\n        const sfRef2 = firebase.firestore().collection(\"users\").doc(user.id).collection(\"LikedGames\").doc(thID);\r\n        if (addOrRemove === true) {\r\n          batch.set(sfRef, {});\r\n          batch.set(sfRef2, {});\r\n          batch.update(sfRef1, {\r\n            treasureHuntLikesNum: likesnum,\r\n          });\r\n          await batch.commit();\r\n          this.user.likedGames[thID] = {};\r\n        } else {\r\n          batch.delete(sfRef);\r\n          batch.update(sfRef1, {\r\n            treasureHuntLikesNum: likesnum,\r\n          });\r\n          batch.delete(sfRef2);\r\n          await batch.commit();\r\n          this.user.likedGames[thID] = null;\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n      }\r\n      return this.user;\r\n    }),\r\n\r\n    //Story Cards Methods\r\n    updatesLikesStory: action(async function (user, sID, likesnum, addOrRemove) {\r\n      console.log(\"i'm heree\", sID);\r\n      try {\r\n        const batch = firebase.firestore().batch();\r\n\r\n        console.log(user.id);\r\n        console.log(addOrRemove);\r\n        console.log(likesnum);\r\n\r\n        const sfRef = firebase.firestore().collection(\"Stories\").doc(sID).collection(\"storyLikes\").doc(user.id);\r\n        const sfRef1 = firebase.firestore().collection(\"Stories\").doc(sID);\r\n\r\n        const sfRef2 = firebase.firestore().collection(\"users\").doc(user.id).collection(\"LikedStories\").doc(sID);\r\n        console.log(\"add doc\", sfRef2);\r\n\r\n        if (addOrRemove === true) {\r\n          batch.set(sfRef, {});\r\n          batch.set(sfRef2, {});\r\n          batch.update(sfRef1, {\r\n            storyLikesNum: likesnum,\r\n          });\r\n          await batch.commit();\r\n          this.user.storyLikes[sID] = {};\r\n        } else {\r\n          batch.delete(sfRef);\r\n          batch.update(sfRef1, {\r\n            storyLikesNum: likesnum,\r\n          });\r\n          batch.delete(sfRef2);\r\n          await batch.commit();\r\n          this.user.storyLikes[sID] = null;\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n      }\r\n      return this.user;\r\n    }),\r\n\r\n    //get updated likes\r\n    getNewLikesForUser: action(async function () {\r\n      try {\r\n        await getNewLikes(this, this.user);\r\n      } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n      }\r\n      return this.user;\r\n    }),\r\n  });\r\n\r\n  inTreasureHuntObs = observable({\r\n    treasureHunt: null,\r\n    setTreasureHunt: action(function (treasureHunt) {\r\n      this.treasureHunt = treasureHunt;\r\n    }),\r\n\r\n    get getTreasureHunt() {\r\n      return this.treasureHunt;\r\n    },\r\n\r\n    initTreasureHunt: action(async function (treasureHuntID) {\r\n      await getTreasureHunt(this, treasureHuntID).then(() => {\r\n        console.log(\"get info from firebase treasureHunt\", this.treasureHunt);\r\n        return this.treasureHunt;\r\n      });\r\n    }),\r\n\r\n    resetTH: action(function () {\r\n      this.treasureHunt = null;\r\n    }),\r\n  });\r\n\r\n  //unregistered obs\r\n  userUnregisteredObs = observable({\r\n    userUnregistered: null,\r\n    signInUser: action(function () {\r\n      if (!this.userUnregistered) {\r\n        this.userUnregistered = {};\r\n        console.log(\"intialiezed userUnregistered\", this.userUnregistered);\r\n      } else {\r\n        console.log(\"Already exsit user\", this.userUnregistered);\r\n      }\r\n      return this.userUnregistered;\r\n    }),\r\n\r\n    setUser: action(function (userUnregistered) {\r\n      return (this.userUnregistered = userUnregistered);\r\n    }),\r\n\r\n    updateUserParameters: action(function (parameters) {\r\n      this.userUnregistered.playedGames[`${parameters.treasureHuntID}`] = {\r\n        qNum: parameters.qnum,\r\n        boolStartGame: parameters.boolStartGame,\r\n        flag: true,\r\n        prevAnswer: parameters.prevAnswer,\r\n        score: parameters.score,\r\n      };\r\n    }),\r\n\r\n    get userInfo() {\r\n      return this.userUnregistered;\r\n    },\r\n\r\n    //TH played Methods\r\n    setUserGameProgress: action(function (userUnregistered, data, totalQuestions, boolStartGame, treasureHuntID) {\r\n      userUnregistered.playedGames = {};\r\n      userUnregistered.playedGames[`${treasureHuntID}`] = { qNum: 0, numOfQuestions: data.gameList.length, quizName: data.quizName, boolStartGame: boolStartGame, score: 0 };\r\n      this.userUnregistered = userUnregistered;\r\n      return this.userUnregistered;\r\n    }),\r\n\r\n    updateUserGameProgress: action(function (userUnregistered, parameters, data, totalQuestions, boolStartGame) {\r\n      console.log(\"updateuser\", userUnregistered);\r\n      console.log(\"updateuser parameters\", parameters);\r\n      userUnregistered.playedGames[`${parameters.treasureHuntID}`] = {\r\n        qNum: parameters.qNum + 1,\r\n        numOfQuestions: data.gameList.length,\r\n        quizName: data.quizName,\r\n        boolStartGame: boolStartGame,\r\n        prevAnswer: parameters.prevAnswer,\r\n        score: parameters.score,\r\n      };\r\n      this.user = userUnregistered;\r\n      return this.userUnregistered;\r\n    }),\r\n\r\n    getUserTreasureHunt: action(function (userID, treasureHuntID) {\r\n      // if(!this.user){\r\n      //   await getUserTreasureHunt(this,userID,treasureHuntID).then(()=>{\r\n      //     console.log(\"get info from firebase TreasureHunt\",this.user);\r\n      //     return this.user;\r\n      //   });\r\n      // }\r\n      // else {\r\n      //   console.log(\"Already exsit TreasureHunt\",this.user);\r\n      //   return this.user;\r\n      // }\r\n    }),\r\n  });\r\n}\r\n\r\nexport default UserInfoStore;\r\n","import React , { Component } from 'react'\r\nimport FavoriteBorderRoundedIcon from '@material-ui/icons/FavoriteBorderRounded';\r\nimport FavoriteRoundedIcon from '@material-ui/icons/FavoriteRounded';\r\nimport './styleSC.css'\r\n\r\nclass IconsP extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.state = {\r\n            liked:props.liked,\r\n            likesnum:props.likesnum,\r\n            storyContent: props.storyContent,\r\n            path: props.path,\r\n            userObs : props.userObs,\r\n            sID : props.sID\r\n        }\r\n    }\r\n    \r\n    toggleLike = (state) =>{\r\n        let {likesnum,liked, userObs, sID}=this.state;\r\n        likesnum=  liked  ?likesnum-1:likesnum+1;\r\n        liked= !liked;\r\n        this.setState({\r\n            likesnum:likesnum,\r\n            liked:liked\r\n        })\r\n\r\n        userObs.updatesLikesStory(userObs.userInfo,sID,likesnum,liked);   \r\n    }\r\n\r\n\r\n    \r\n    render(state){\r\n        let {likesnum,liked,path,storyContent,userObs} = this.state;\r\n\r\n        return(\r\n            <div >\r\n                <div className=\"scroll\" dir= \"rtl\">\r\n                    {this.state.storyContent}\r\n                </div>\r\n                <div className='row' justify-content='space-between' display='flex'>\r\n                    <div className=\"col-8\">\r\n                    {(userObs?.userInfo?.type===\"registered\" || userObs?.userInfo?.type===\"creator\" || userObs?.userInfo?.type===\"admin\")?\r\n                        <button className=\"likeBtn\" onClick={this.toggleLike}>\r\n                            { liked ? <FavoriteRoundedIcon style={{ color: \"#b71c1c\" }} />: <FavoriteBorderRoundedIcon style={{ color: \"#b71c1c\" }}/>}\r\n                        </button>\r\n                        :null  // (icon )\r\n                    }\r\n                        {likesnum}\r\n                    </div>                                       \r\n                <div className=\"col-3\">\r\n                    <button className=\"backBtn\" onClick={path}>\r\n                        \r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );}\r\n    \r\n}\r\n\r\nexport default IconsP;","import React, { useState, useEffect } from \"react\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport AuthorIcon from \"@material-ui/icons/EditOutlined\";\r\nimport IconsP from \"./iconsPlus\";\r\nimport \"./styleSC.css\";\r\n\r\nlet sizePage = 0;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginBottom: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  Container: {\r\n    opacity: 0.99999,\r\n    zIndex: 50,\r\n  },\r\n}));\r\n\r\nfunction StoryContent(props) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const HeroBg = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: ${(props) => (props.VideoBg ? props.VideoBg + 100 : 100)}%;\r\n    overflow: hidden;\r\n    opacity: 0.25;\r\n    z-index: -1;\r\n  `;\r\n\r\n  const VideoBg = styled.div`\r\n    border: 1px solid #000;\r\n    background-image: url(${props.imgsrc});\r\n    background-position: center;\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    -o-object-fit: cover;\r\n    object-fit: cover;\r\n    width: 100%;\r\n    height: ${(props) => (props.VideoBg ? props.VideoBg + 100 : 100)}%;\r\n  `;\r\n\r\n\r\n  return (\r\n    <>\r\n      <Container className={classes.Container} component=\"main\" maxWidth=\"xs\" dir=\"rtl\">\r\n        <HeroBg size={sizePage}>\r\n          <VideoBg size={sizePage} />\r\n        </HeroBg>\r\n\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                {props.title}{\" \"}\r\n              </Typography>\r\n              <p className=\"author\">\r\n                <AuthorIcon style={{ color: \"#e67700\" }} />\r\n                {props.author}\r\n              </p>\r\n              <IconsP\r\n                liked={props.liked}\r\n                likesnum={props.likesnum}\r\n                storyContent={props.storyContent}\r\n                path={history.goBack} //not more toggleback\r\n                userObs={props.userObs}\r\n                sID={props.sID}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StoryContent;\r\n","import React, {useState} from 'react';\r\nimport ScrollToTop from '../components/ScrollToTop';\r\nimport Story from '../components/StoryContent';\r\nimport { createTheme } from '@material-ui/core/styles';\r\nimport { StylesProvider, ThemeProvider, jssPreset } from \"@material-ui/styles\";\r\nimport { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport { AuthProvider } from \"../Contexts/AuthContexts\";\r\n\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\nconst theme = createTheme({\r\n  direction: \"rtl\"\r\n});\r\n\r\n\r\n\r\nfunction Stories(props) {\r\n\r\n    const [isOpen, setIsOpen]= useState(false)\r\n    let { storyId } = useParams();\r\n    let title;\r\n    let author;\r\n    let storyContent;\r\n    let liked;\r\n    let likesnum;\r\n    let imgsrc;\r\n    let userObs;\r\n   \r\n\r\n    console.log(\"set user location state\")\r\n    const toggle = () => {\r\n      setIsOpen(!isOpen)\r\n    }\r\n    if(props?.location?.state!==undefined){\r\n      console.log(\"set user location?.state\")\r\n      title = props.location.state.title;\r\n      author = props.location.state.author;\r\n      storyContent = props.location.state.storyContent;\r\n      liked = props.location.state.liked;\r\n      likesnum = props.location.state.likesnum;\r\n      imgsrc  = props.location.state.imgsrc;\r\n      console.log(\"storyContent\", storyContent);\r\n    }\r\n    userObs=props.userObs;\r\n    console.log(\"sID page\",props.sID)\r\n    return (\r\n        <div id=\"storycontentPage\" className=\"bodyStandart\">   \r\n          <StylesProvider jss={jss}>\r\n              <ThemeProvider theme={theme}>\r\n                  <ScrollToTop />\r\n                  <AuthProvider>\r\n                    <Story title= {title} author= {author} storyContent={storyContent}\r\n                     liked={liked} likesnum={likesnum} imgsrc={imgsrc} userObs={userObs} sID={storyId}/> \r\n                  </AuthProvider> \r\n              </ThemeProvider>\r\n          </StylesProvider>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Stories;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./pages\";\nimport SigninPage from \"./pages/Signin\";\nimport SignupPage from \"./pages/Signup\";\nimport EditProfilePage from \"./pages/EditProfile\";\nimport ForgotPasswordPage from \"./pages/ForgotPassword\";\nimport TreasureHuntSearch from \"./pages/treasureHuntCards\";\nimport Stories from \"./pages/stories\";\nimport TresurHuntTamplateQuest from \"./pages/TresurHuntTamplateQuestPage\";\nimport TreasureHuntPage from \"./pages/treasureHuntPage\";\nimport AlmaInfo from \"./pages/almaInfo\";\nimport AddQuiz from \"./pages/addQuiz\";\nimport AddQuestion from \"./pages/AddQuestion\";\nimport AddClue from \"./pages/AddClue\";\nimport AddStory from \"./pages/AddStory\";\nimport Actprogress from \"./pages/activityProgress\";\nimport ApproveContentPage from \"./pages/approveContet\";\nimport InterstPointScanPage from \"./pages/InterstPointScanPage\";\nimport IntrestPointInfoPage from \"./pages/IntrestPointInfoPage\";\nimport AddSitePage from \"./pages/AddSite\";\nimport AddIntrestPointPage from \"./pages/AddIntrestPoint\";\nimport Footer from \"./components/Footer\";\nimport Navbar from \"./components/Navebar\";\nimport Sidebar from \"./components/Sidebar\";\nimport UserInfoStore from \"./stores/UserInfoStore\";\nimport { useAuth } from \"./Contexts/AuthContexts\";\nimport StoryContent from \"./pages/storyContent\";\n\nconst userInfoStore = new UserInfoStore();\nfunction App() {\n  const [isOpen, setIsOpen] = useState(false);\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const { currentUser } = useAuth();\n\n  const userObs = userInfoStore.userObs;\n  const userUnregisteredObs = userInfoStore.userUnregisteredObs;\n  const [user, SetUser] = useState();\n  const [userUnregistered, SetUserUnregistered] = useState();\n\n  const [type, setType] = useState(false);\n\n  const [toDisplay, setToDisplay] = useState();\n  useEffect(async () => {\n    SetUser({});\n    if (currentUser) {\n      try {\n        await userObs.signInUser(currentUser).then(() => {\n          SetUser(userObs.userInfo);\n          setType(userObs?.userInfo?.type);\n          setToDisplay(true);\n        });\n      } catch (e) {\n        console.log(\"error\", e);\n      }\n    } else {\n      try {\n        SetUser();\n        userUnregisteredObs.signInUser();\n        SetUserUnregistered(userUnregisteredObs.userInfo);\n        setToDisplay(true);\n      } catch (e) {\n        console.log(\"error\", e);\n      }\n    }\n  }, [currentUser]);\n\n  console.log(\"refresh-app\");\n\n  return (\n    <>\n      <Router>\n        <>\n          <Sidebar isOpen={isOpen} toggle={toggle} user={user} />\n          <Navbar toggle={toggle} user={user} />\n          <div id=\"body1\">\n            <Switch>\n              {/* Evreyone permision */}\n              <Route path=\"/\" component={() => <Home user={user} toDisplay={toDisplay} />} exact />\n              <Route path=\"/almaInfo\" component={AlmaInfo} exact />\n              <Route path=\"/signin\" component={SigninPage} exact />\n              <Route path=\"/signup\" component={SignupPage} exact />\n              <Route path=\"/editProfile\" component={() => <EditProfilePage user={user} />} exact />\n              <Route path=\"/ForgotPassword\" component={ForgotPasswordPage} exact />\n              <Route path=\"/intrestPointScan\" component={InterstPointScanPage} exact />\n              <Route path=\"/intrestPointInfoPage/:siteID/:intrestPointID\" component={IntrestPointInfoPage} exact />\n              <Route path=\"/treasureHuntSearch\" component={(props) => <TreasureHuntSearch {...props} userObs={user ? userObs : userUnregisteredObs} />} exact />\n              <Route path=\"/stories\" component={(props) => <Stories {...props} userObs={user ? userObs : userUnregisteredObs} />} exact />\n              <Route path=\"/storycontent/:storyId\" component={(props) => <StoryContent {...props} userObs={user ? userObs : userUnregisteredObs} />} exact />\n              <Route path=\"/tresurHuntTamplateQuest\" component={(props) => <TresurHuntTamplateQuest {...props} userObs={user ? userObs : userUnregisteredObs} />} exact />\n              <Route\n                path=\"/treasureHunt/:treasureHuntID\"\n                component={(props) => <TreasureHuntPage {...props} userObs={user ? userObs : userUnregisteredObs} inTreasureHuntObs={userInfoStore.inTreasureHuntObs} />}\n                exact\n              />\n\n              {/* Registered permision */}\n              {(type === \"registered\" || type === \"creator\" || type === \"admin\") && (\n                <Route path=\"/activity\" component={() => <Actprogress user={user} userObs={userObs} />} exact />\n              )}\n\n              {/* Creator permision */}\n              {(type === \"creator\" || type === \"admin\") && <Route path=\"/addClue\" component={() => <AddClue user={user} />} exact />}\n              {(type === \"creator\" || type === \"admin\") && <Route path=\"/addQuestion\" component={() => <AddQuestion user={user} />} exact />}\n              {(type === \"creator\" || type === \"admin\") && <Route path=\"/addQuiz\" component={() => <AddQuiz user={user} />} exact />}\n              {(type === \"creator\" || type === \"admin\") && <Route path=\"/addStory\" component={() => <AddStory user={user} />} exact />}\n\n              {/* Admin permision */}\n              {type === \"admin\" && <Route path=\"/addSite\" component={() => <AddSitePage />} />}\n              {type === \"admin\" && <Route path=\"/addIntrestPoint\" component={() => <AddIntrestPointPage />} />}\n              {type === \"admin\" && <Route path=\"/approveContent\" component={ApproveContentPage} exact />}\n\n            </Switch>\n          </div>\n          <Footer />\n        </>\n        {/* )} */}\n      </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AuthProvider } from './Contexts/AuthContexts';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}